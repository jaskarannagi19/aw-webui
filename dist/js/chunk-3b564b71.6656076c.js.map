{"version":3,"sources":["webpack:///node_modules/vue-awesome/components/Icon.vue","webpack:///./node_modules/vue-awesome/components/Icon.vue?15d3","webpack:///./node_modules/vue-awesome/components/Icon.vue?17c7","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./node_modules/vue-awesome/icons/regular/minus-square.js","webpack:///./node_modules/vue-awesome/icons/circle.js","webpack:///./node_modules/vue-awesome/icons/regular/plus-square.js","webpack:///./node_modules/core-js/modules/es.number.constructor.js","webpack:///./node_modules/vue-awesome/components/Icon.vue?6485","webpack:///./src/visualizations/CategoryTree.vue?bb32","webpack:///src/visualizations/CategoryTree.vue","webpack:///./src/visualizations/CategoryTree.vue?1603","webpack:///./src/visualizations/CategoryTree.vue"],"names":["name","props","type","String","validator","val","icons","console","warn","title","scale","Number","spin","Boolean","inverse","pulse","flip","label","tabindex","data","id","getId","x","y","childrenWidth","childrenHeight","outerScale","computed","normalizedScale","isNaN","this","klass","icon","box","ratio","Math","max","width","height","style","fontSize","raw","replace","focusable","index","mounted","updateStack","updated","methods","$children","length","forEach","child","render","h","class","attrs","role","$attrs","viewBox","options","titleId","html","domProps","innerHTML","register","d","paths","push","points","polygons","sources","source","hasOwnProperty","key","obj","escapeHTML","staticRenderFns","component","_arrayWithoutHoles","arr","Array","isArray","arrayLikeToArray","_iterableToArray","iter","Symbol","iterator","Object","from","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","circle","DESCRIPTORS","global","isForced","redefine","has","classof","inheritIfRequired","toPrimitive","fails","create","getOwnPropertyNames","f","getOwnPropertyDescriptor","defineProperty","trim","NUMBER","NativeNumber","NumberPrototype","prototype","BROKEN_CLASSOF","toNumber","argument","first","third","radix","maxCode","digits","code","it","charCodeAt","NaN","slice","parseInt","NumberWrapper","value","arguments","dummy","valueOf","call","keys","split","j","constructor","_vm","_h","$createElement","_c","_self","staticStyle","_l","cat","parents_expanded","on","$event","toggle","depth","children","expanded","name_pretty","staticClass","_v","_s","subname","round","duration","total_duration","_f","_e","model","callback","$$v","show_perc","expression","_get_child_cats","all_cats","_","filter","_assign_children","parent","map","child_cats","sortBy","_flatten_hierarchy","c","flattenDeep","events","Set","sumBy","top_c","category_hierarchy","cats_with_depth0","cats","flatten","get_category","find","add","undefined"],"mappings":"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","file":"js/chunk-3b564b71.6656076c.js","sourcesContent":["<script>\nlet icons = {}\n\nexport default {\n  name: 'fa-icon',\n  props: {\n    name: {\n      type: String,\n      validator (val) {\n        if (val && !(val in icons)) {\n          console.warn(\n            `Invalid prop: prop \"name\" is referring to an unregistered icon \"${val}\".` +\n              `\\nPlease make sure you have imported this icon before using it.`\n          )\n          return false\n        }\n        return true\n      }\n    },\n    title: String,\n    scale: [Number, String],\n    spin: Boolean,\n    inverse: Boolean,\n    pulse: Boolean,\n    flip: {\n      validator (val) {\n        return val === 'horizontal' || val === 'vertical'\n      }\n    },\n    label: String,\n    tabindex: [Number, String]\n  },\n  data () {\n    return {\n      id: getId(),\n      x: false,\n      y: false,\n      childrenWidth: 0,\n      childrenHeight: 0,\n      outerScale: 1\n    }\n  },\n  computed: {\n    normalizedScale () {\n      let scale = this.scale\n      scale = typeof scale === 'undefined' ? 1 : Number(scale)\n      if (isNaN(scale) || scale <= 0) {\n        console.warn(\n          `Invalid prop: prop \"scale\" should be a number over 0.`,\n          this\n        )\n        return this.outerScale\n      }\n      return scale * this.outerScale\n    },\n    klass () {\n      return {\n        'fa-icon': true,\n        'fa-spin': this.spin,\n        'fa-flip-horizontal': this.flip === 'horizontal',\n        'fa-flip-vertical': this.flip === 'vertical',\n        'fa-inverse': this.inverse,\n        'fa-pulse': this.pulse,\n        [this.$options.name]: true\n      }\n    },\n    icon () {\n      if (this.name) {\n        return icons[this.name]\n      }\n      return null\n    },\n    box () {\n      if (this.icon) {\n        return `0 0 ${this.icon.width} ${this.icon.height}`\n      }\n      return `0 0 ${this.width} ${this.height}`\n    },\n    ratio () {\n      if (!this.icon) {\n        return 1\n      }\n      let { width, height } = this.icon\n      return Math.max(width, height) / 16\n    },\n    width () {\n      return (\n        this.childrenWidth ||\n        (this.icon && (this.icon.width / this.ratio) * this.normalizedScale) ||\n        0\n      )\n    },\n    height () {\n      return (\n        this.childrenHeight ||\n        (this.icon && (this.icon.height / this.ratio) * this.normalizedScale) ||\n        0\n      )\n    },\n    style () {\n      if (this.normalizedScale === 1) {\n        return false\n      }\n      return {\n        fontSize: this.normalizedScale + 'em'\n      }\n    },\n    raw () {\n      // generate unique id for each icon's SVG element with ID\n      if (!this.icon || !this.icon.raw) {\n        return null\n      }\n      let raw = this.icon.raw\n      let ids = {}\n      raw = raw.replace(\n        /\\s(?:xml:)?id=([\"']?)([^\"')\\s]+)\\1/g,\n        (match, quote, id) => {\n          let uniqueId = getId()\n          ids[id] = uniqueId\n          return ` id=\"${uniqueId}\"`\n        }\n      )\n      raw = raw.replace(\n        /#(?:([^'\")\\s]+)|xpointer\\(id\\((['\"]?)([^')]+)\\2\\)\\))/g,\n        (match, rawId, _, pointerId) => {\n          let id = rawId || pointerId\n          if (!id || !ids[id]) {\n            return match\n          }\n\n          return `#${ids[id]}`\n        }\n      )\n\n      return raw\n    },\n    focusable () {\n      let { tabindex } = this\n      if (tabindex == null) {\n        return 'false'\n      }\n      let index =\n        typeof tabindex === 'string' ? parseInt(tabindex, 10) : tabindex\n      if (index >= 0) {\n        return null\n      }\n      return 'false'\n    }\n  },\n  mounted () {\n    this.updateStack()\n  },\n  updated () {\n    this.updateStack()\n  },\n  methods: {\n    updateStack () {\n      if (!this.name && this.name !== null && this.$children.length === 0) {\n        console.warn(`Invalid prop: prop \"name\" is required.`)\n        return\n      }\n\n      if (this.icon) {\n        return\n      }\n\n      let width = 0\n      let height = 0\n      this.$children.forEach(child => {\n        child.outerScale = this.normalizedScale\n\n        width = Math.max(width, child.width)\n        height = Math.max(height, child.height)\n      })\n      this.childrenWidth = width\n      this.childrenHeight = height\n      this.$children.forEach(child => {\n        child.x = (width - child.width) / 2\n        child.y = (height - child.height) / 2\n      })\n    }\n  },\n  render (h) {\n    if (this.name === null) {\n      return h()\n    }\n\n    let options = {\n      class: this.klass,\n      style: this.style,\n      attrs: {\n        role: this.$attrs.role || (this.label || this.title ? 'img' : null),\n        'aria-label': this.label || null,\n        'aria-hidden': String(!(this.label || this.title)),\n        tabindex: this.tabindex,\n        x: this.x,\n        y: this.y,\n        width: this.width,\n        height: this.height,\n        viewBox: this.box,\n        focusable: this.focusable\n      }\n    }\n\n    let titleId = `vat-${this.id}`\n    if (this.title) {\n      options.attrs['aria-labelledby'] = titleId\n    }\n\n    if (this.raw) {\n      let html = this.raw\n\n      if (this.title) {\n        html = `<title id=\"${titleId}\">${escapeHTML(this.title)}</title>${html}`\n      }\n\n      options.domProps = {\n        innerHTML: html\n      }\n    }\n\n    let content = this.title\n      ? [h('title', { attrs: { id: titleId } }, this.title)]\n      : []\n\n    return h(\n      'svg',\n      options,\n      this.raw\n        ? null\n        : content.concat(\n          this.$slots.default || [\n            ...this.icon.paths.map((path, i) =>\n              h('path', {\n                attrs: path,\n                key: `path-${i}`\n              })\n            ),\n            ...this.icon.polygons.map((polygon, i) =>\n              h('polygon', {\n                attrs: polygon,\n                key: `polygon-${i}`\n              })\n            )\n          ]\n        )\n    )\n  },\n  register (data) {\n    for (let name in data) {\n      let icon = data[name]\n      let { paths = [], d, polygons = [], points } = icon\n\n      if (d) {\n        paths.push({ d })\n      }\n\n      if (points) {\n        polygons.push({ points })\n      }\n\n      icons[name] = assign({}, icon, {\n        paths,\n        polygons\n      })\n    }\n  },\n  icons\n}\n\nfunction assign (obj, ...sources) {\n  sources.forEach(source => {\n    for (let key in source) {\n      if (source.hasOwnProperty(key)) {\n        obj[key] = source[key]\n      }\n    }\n  })\n\n  return obj\n}\n\nlet cursor = 0xd4937\nfunction getId () {\n  return `va-${(cursor++).toString(16)}`\n}\n\nconst ESCAPE_MAP = {\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  '&': '&amp;'\n}\n\nfunction escapeHTML (html) {\n  return html.replace(/[<>\"&]/g, c => ESCAPE_MAP[c] || c)\n}\n</script>\n\n<style>\n.fa-icon {\n  display: inline-block;\n  fill: currentColor;\n}\n\n.fa-flip-horizontal {\n  transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  transform: scale(1, -1);\n}\n\n.fa-spin {\n  animation: fa-spin 1s 0s infinite linear;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.fa-pulse {\n  animation: fa-spin 1s infinite steps(8);\n}\n\n@keyframes fa-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n</style>\n","import mod from \"-!../../cache-loader/dist/cjs.js??ref--11-0!../../thread-loader/dist/cjs.js!../../babel-loader/lib/index.js!../../cache-loader/dist/cjs.js??ref--0-0!../../vue-loader/lib/index.js??vue-loader-options!./Icon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../cache-loader/dist/cjs.js??ref--11-0!../../thread-loader/dist/cjs.js!../../babel-loader/lib/index.js!../../cache-loader/dist/cjs.js??ref--0-0!../../vue-loader/lib/index.js??vue-loader-options!./Icon.vue?vue&type=script&lang=js&\"","var render, staticRenderFns\nimport script from \"./Icon.vue?vue&type=script&lang=js&\"\nexport * from \"./Icon.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Icon.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import Icon from '../../components/Icon.vue'\n\nIcon.register({\n  'regular/minus-square': {\n    width: 448,\n    height: 512,\n    paths: [\n      {\n        d: 'M108 284c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h232c6.6 0 12 5.4 12 12v32c0 6.6-5.4 12-12 12h-232zM448 80v352c0 26.5-21.5 48-48 48h-352c-26.5 0-48-21.5-48-48v-352c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zM400 426v-340c0-3.3-2.7-6-6-6h-340c-3.3 0-6 2.7-6 6v340c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z'\n      }\n    ]\n  }\n})\n","import Icon from '../components/Icon.vue'\n\nIcon.register({\n  circle: {\n    width: 512,\n    height: 512,\n    paths: [\n      {\n        d: 'M256 8c137 0 248 111 248 248s-111 248-248 248-248-111-248-248 111-248 248-248z'\n      }\n    ]\n  }\n})\n","import Icon from '../../components/Icon.vue'\n\nIcon.register({\n  'regular/plus-square': {\n    width: 448,\n    height: 512,\n    paths: [\n      {\n        d: 'M352 240v32c0 6.6-5.4 12-12 12h-88v88c0 6.6-5.4 12-12 12h-32c-6.6 0-12-5.4-12-12v-88h-88c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h88v-88c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v88h88c6.6 0 12 5.4 12 12zM448 80v352c0 26.5-21.5 48-48 48h-352c-26.5 0-48-21.5-48-48v-352c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zM400 426v-340c0-3.3-2.7-6-6-6h-340c-3.3 0-6 2.7-6 6v340c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z'\n      }\n    ]\n  }\n})\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.github.io/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.github.io/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n","import mod from \"-!../../@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-0!../../css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../vue-loader/lib/loaders/stylePostLoader.js!../../postcss-loader/src/index.js??ref--5-oneOf-1-2!../../cache-loader/dist/cjs.js??ref--0-0!../../vue-loader/lib/index.js??vue-loader-options!./Icon.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-0!../../css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../vue-loader/lib/loaders/stylePostLoader.js!../../postcss-loader/src/index.js??ref--5-oneOf-1-2!../../cache-loader/dist/cjs.js??ref--0-0!../../vue-loader/lib/index.js??vue-loader-options!./Icon.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"font-size\":\"0.9em\"}},[_vm._l((_vm.category_hierarchy),function(cat){return (_vm.parents_expanded(cat))?_c('div',{staticStyle:{\"padding\":\"0.1em 0 0.1em 0\"},on:{\"click\":function($event){return _vm.toggle(cat)}}},[_c('span',{style:('padding-left: ' + (1.4 * cat.depth) + 'em')},[(cat.children.length > 0)?_c('span',{staticStyle:{\"opacity\":\"0.8\"}},[(!_vm.expanded.has(cat.name_pretty))?_c('b',[_c('icon',{staticClass:\"mr-1\",attrs:{\"name\":\"regular/plus-square\",\"scale\":\"0.8\"}})],1):_c('b',[_c('icon',{staticClass:\"mr-1\",attrs:{\"name\":\"regular/minus-square\",\"scale\":\"0.8\"}})],1)]):_c('span',{staticStyle:{\"opacity\":\"0.6\"}},[_c('icon',{staticStyle:{\"margin-left\":\"1em\",\"margin-right\":\"1.22em\"},attrs:{\"name\":\"circle\",\"scale\":\"0.4\"}})],1),_vm._v(_vm._s(cat.subname))]),_c('span',{staticStyle:{\"float\":\"right\"}},[(_vm.show_perc)?_c('span',[_vm._v(_vm._s(Math.round(100 * cat.duration / _vm.total_duration, 1))+\"%\")]):_c('span',[_vm._v(_vm._s(_vm._f(\"friendlyduration\")(cat.duration)))])])]):_vm._e()}),_c('hr'),_c('b-checkbox',{attrs:{\"size\":\"sm\"},model:{value:(_vm.show_perc),callback:function ($$v) {_vm.show_perc=$$v},expression:\"show_perc\"}},[_vm._v(\"Show percent\")])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\ndiv(style=\"font-size: 0.9em\")\n  div(v-for=\"cat in category_hierarchy\", style=\"padding: 0.1em 0 0.1em 0\" @click=\"toggle(cat)\" v-if=\"parents_expanded(cat)\")\n    span(:style=\"'padding-left: ' + (1.4 * cat.depth) + 'em'\")\n\n      // icon\n      span(v-if=\"cat.children.length > 0\", style=\"opacity: 0.8\")\n        b(v-if=\"!expanded.has(cat.name_pretty)\")\n          icon.mr-1(name=\"regular/plus-square\", scale=\"0.8\")\n        b(v-else)\n          icon.mr-1(name=\"regular/minus-square\", scale=\"0.8\")\n      span(v-else, style=\"opacity: 0.6\")\n        icon(name=\"circle\", scale=\"0.4\", style=\"margin-left: 1em; margin-right: 1.22em;\")\n\n      // title\n      | {{cat.subname}}\n\n    // time\n    span(style=\"float: right\")\n      span(v-if=\"show_perc\")\n        | {{Math.round(100 * cat.duration / total_duration, 1)}}%\n      span(v-else)\n        | {{cat.duration | friendlyduration}}\n  hr\n  // TODO: Make configurable in a cleaner way (figure out a way to configure visualizations generally)\n  b-checkbox(v-model=\"show_perc\" size=\"sm\") Show percent\n</template>\n\n<script>\nimport 'vue-awesome/icons/circle';\nimport 'vue-awesome/icons/regular/plus-square';\nimport 'vue-awesome/icons/regular/minus-square';\nconst _ = require('lodash');\nconst classes = require('~/util/classes.ts');\n\nfunction _get_child_cats(cat, all_cats) {\n  return _.filter(all_cats, c => _.isEqual(c.parent, cat.name));\n}\n\nfunction _assign_children(parent, all_cats) {\n  const child_cats = _get_child_cats(parent, all_cats);\n  // Recurse\n  _.map(child_cats, c => _assign_children(c, all_cats));\n  parent.children = _.sortBy(child_cats, cc => -cc.duration);\n}\n\n// Flattens the category hierarchy\nfunction _flatten_hierarchy(c) {\n  if (!c.children) return [];\n  return _.flattenDeep([c, _.map(c.children, cc => _flatten_hierarchy(cc))]);\n}\n\nexport default {\n  name: 'aw-categorytree',\n  props: {\n    events: { type: Array },\n  },\n  data: function () {\n    return {\n      expanded: new Set(),\n      show_perc: false,\n    };\n  },\n  computed: {\n    total_duration: function () {\n      // sum top-level categories\n      const top_c = _.filter(this.category_hierarchy, c => c.depth == 0);\n      return _.sumBy(top_c, c => c.duration);\n    },\n    category_hierarchy: function () {\n      const events = JSON.parse(JSON.stringify(this.events));\n\n      const hier = classes.build_category_hierarchy(\n        _.map(events, e => {\n          return { name: e.data['$category'] };\n        })\n      );\n\n      let cats = classes.flatten_category_hierarchy(hier).map(c => {\n        c.duration = _.sumBy(\n          events.filter(e => {\n            const pcat = e.data['$category'].slice(0, c.name.length);\n            return _.isEqual(c.name, pcat);\n          }),\n          e => e.duration\n        );\n        return c;\n      });\n\n      const cats_with_depth0 = _.sortBy(\n        _.filter(cats, c => c.depth == 0),\n        c => -c.duration\n      );\n      _.map(cats_with_depth0, c => _assign_children(c, cats));\n\n      cats = _.flatten(_.map(cats_with_depth0, c => _flatten_hierarchy(c)));\n      //console.log(cats);\n      // TODO: If a category has children, but also activity attributed directly to the parent that does not belong to a child, then create a \"Other\" child containing the activity.\n      return cats;\n    },\n  },\n  methods: {\n    get_category: function (cat_arr) {\n      return _.find(this.category_hierarchy, c => _.isEqual(c.name, cat_arr));\n    },\n    toggle: function (cat) {\n      if (this.expanded.has(cat.name_pretty)) {\n        this.expanded.delete(cat.name_pretty);\n      } else {\n        this.expanded.add(cat.name_pretty);\n      }\n      // needed to trigger update, since Set isn't reactive in Vue 2\n      this.expanded = new Set(this.expanded);\n    },\n    parents_expanded: function (cat) {\n      if (cat === undefined || !cat.parent) {\n        // top-level category\n        return true;\n      }\n      return (\n        // Check grandparents recursively\n        this.parents_expanded(this.get_category(cat.parent)) &&\n        // Check parent\n        this.expanded.has(cat.parent.join('>'))\n      );\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CategoryTree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CategoryTree.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CategoryTree.vue?vue&type=template&id=2d1b41db&lang=pug&\"\nimport script from \"./CategoryTree.vue?vue&type=script&lang=js&\"\nexport * from \"./CategoryTree.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}