(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6dee2a91","chunk-91c52c86"],{"0874":function(t,e,r){"use strict";r.r(e);r("99af"),r("4160"),r("d81d"),r("0d03"),r("b0c0"),r("a9e3"),r("d3b7"),r("e25e"),r("ac1f"),r("25f0"),r("5319"),r("159b");var n=r("2909"),i=r("ade3"),a={},o={name:"fa-icon",props:{name:{type:String,validator:function(t){return!t||t in a||(console.warn('Invalid prop: prop "name" is referring to an unregistered icon "'.concat(t,'".')+"\nPlease make sure you have imported this icon before using it."),!1)}},title:String,scale:[Number,String],spin:Boolean,inverse:Boolean,pulse:Boolean,flip:{validator:function(t){return"horizontal"===t||"vertical"===t}},label:String,tabindex:[Number,String]},data:function(){return{id:l(),x:!1,y:!1,childrenWidth:0,childrenHeight:0,outerScale:1}},computed:{normalizedScale:function(){var t=this.scale;return t="undefined"===typeof t?1:Number(t),isNaN(t)||t<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.',this),this.outerScale):t*this.outerScale},klass:function(){return Object(i["a"])({"fa-icon":!0,"fa-spin":this.spin,"fa-flip-horizontal":"horizontal"===this.flip,"fa-flip-vertical":"vertical"===this.flip,"fa-inverse":this.inverse,"fa-pulse":this.pulse},this.$options.name,!0)},icon:function(){return this.name?a[this.name]:null},box:function(){return this.icon?"0 0 ".concat(this.icon.width," ").concat(this.icon.height):"0 0 ".concat(this.width," ").concat(this.height)},ratio:function(){if(!this.icon)return 1;var t=this.icon,e=t.width,r=t.height;return Math.max(e,r)/16},width:function(){return this.childrenWidth||this.icon&&this.icon.width/this.ratio*this.normalizedScale||0},height:function(){return this.childrenHeight||this.icon&&this.icon.height/this.ratio*this.normalizedScale||0},style:function(){return 1!==this.normalizedScale&&{fontSize:this.normalizedScale+"em"}},raw:function(){if(!this.icon||!this.icon.raw)return null;var t=this.icon.raw,e={};return t=t.replace(/\s(?:xml:)?id=(["']?)([^"')\s]+)\1/g,(function(t,r,n){var i=l();return e[n]=i,' id="'.concat(i,'"')})),t=t.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,(function(t,r,n,i){var a=r||i;return a&&e[a]?"#".concat(e[a]):t})),t},focusable:function(){var t=this.tabindex;if(null==t)return"false";var e="string"===typeof t?parseInt(t,10):t;return e>=0?null:"false"}},mounted:function(){this.updateStack()},updated:function(){this.updateStack()},methods:{updateStack:function(){var t=this;if(this.name||null===this.name||0!==this.$children.length){if(!this.icon){var e=0,r=0;this.$children.forEach((function(n){n.outerScale=t.normalizedScale,e=Math.max(e,n.width),r=Math.max(r,n.height)})),this.childrenWidth=e,this.childrenHeight=r,this.$children.forEach((function(t){t.x=(e-t.width)/2,t.y=(r-t.height)/2}))}}else console.warn('Invalid prop: prop "name" is required.')}},render:function(t){if(null===this.name)return t();var e={class:this.klass,style:this.style,attrs:{role:this.$attrs.role||(this.label||this.title?"img":null),"aria-label":this.label||null,"aria-hidden":String(!(this.label||this.title)),tabindex:this.tabindex,x:this.x,y:this.y,width:this.width,height:this.height,viewBox:this.box,focusable:this.focusable}},r="vat-".concat(this.id);if(this.title&&(e.attrs["aria-labelledby"]=r),this.raw){var i=this.raw;this.title&&(i='<title id="'.concat(r,'">').concat(h(this.title),"</title>").concat(i)),e.domProps={innerHTML:i}}var a=this.title?[t("title",{attrs:{id:r}},this.title)]:[];return t("svg",e,this.raw?null:a.concat(this.$slots["default"]||[].concat(Object(n["a"])(this.icon.paths.map((function(e,r){return t("path",{attrs:e,key:"path-".concat(r)})}))),Object(n["a"])(this.icon.polygons.map((function(e,r){return t("polygon",{attrs:e,key:"polygon-".concat(r)})}))))))},register:function(t){for(var e in t){var r=t[e],n=r.paths,i=void 0===n?[]:n,o=r.d,c=r.polygons,l=void 0===c?[]:c,u=r.points;o&&i.push({d:o}),u&&l.push({points:u}),a[e]=s({},r,{paths:i,polygons:l})}},icons:a};function s(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return r.forEach((function(e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})),t}var c=870711;function l(){return"va-".concat((c++).toString(16))}var u={"<":"&lt;",">":"&gt;",'"':"&quot;","&":"&amp;"};function h(t){return t.replace(/[<>"&]/g,(function(t){return u[t]||t}))}var d,f,p=o,m=(r("df9a"),r("2877")),b=Object(m["a"])(p,d,f,!1,null,null,null);e["default"]=b.exports},"25fd":function(t,e,r){"use strict";var n=r("79f7"),i=r.n(n);i.a},2909:function(t,e,r){"use strict";r.d(e,"a",(function(){return c}));r("277d");var n=r("6b75");function i(t){if(Array.isArray(t))return Object(n["a"])(t)}r("a4d3"),r("e01a"),r("d28b"),r("a630"),r("d3b7"),r("3ca3"),r("ddb0");function a(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var o=r("06c5");function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return i(t)||a(t)||Object(o["a"])(t)||s()}},4962:function(t,e,r){},"59e7":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h2",[t._v("Buckets")]),r("b-alert",{attrs:{show:""}},[t._v("Are you looking to collect more data? Check out "),r("a",{attrs:{href:"https://activitywatch.readthedocs.io/en/latest/watchers.html"}},[t._v("the docs")]),t._v(" for more watchers.")]),r("b-table",{attrs:{hover:"",small:"",items:t.buckets,fields:t.fields,responsive:"md","sort-by":"last_updated","sort-desc":!0},scopedSlots:t._u([{key:"cell(id)",fn:function(e){return[r("small",[t._v(t._s(e.item.id))])]}},{key:"cell(hostname)",fn:function(e){return[r("small",[t._v(t._s(e.item.hostname))])]}},{key:"cell(last_updated)",fn:function(e){return[e.item.last_updated?r("small",[t._v(t._s(t._f("friendlytime")(e.item.last_updated)))]):t._e(),e.item.metadata&&e.item.metadata.end?r("small",[t._v(t._s(t._f("friendlytime")(e.item.metadata.end)))]):t._e()]}},{key:"cell(actions)",fn:function(e){return[r("b-button-toolbar",{staticClass:"float-right"},[r("b-button-group",{staticClass:"mx-1",attrs:{size:"sm"}},[r("b-button",{attrs:{variant:"primary",to:"/buckets/"+e.item.id}},[r("icon",{staticClass:"d-none d-md-inline-block",attrs:{name:"folder-open"}}),t._v("Open")],1),r("b-dropdown",{attrs:{variant:"outline-secondary",size:"sm",text:"More"}},[r("b-dropdown-item",{attrs:{href:t.$aw.baseURL+"/api/0/buckets/"+e.item.id+"/export",download:"aw-bucket-export-"+e.item.id+".json",title:"Export bucket to JSON",variant:"secondary"}},[r("icon",{attrs:{name:"download"}}),t._v("Export as JSON")],1),r("b-dropdown-divider"),r("b-dropdown-item-button",{attrs:{title:"Delete this bucket permanently",variant:"danger"},on:{click:function(r){return t.openDeleteBucketModal(e.item.id)}}},[r("icon",{attrs:{name:"trash"}}),t._v(" Delete bucket")],1)],1)],1)],1)]}}])}),r("b-modal",{attrs:{id:"delete-modal",title:"Danger!",centered:"","hide-footer":""}},[t._v('Are you sure you want to delete bucket "'+t._s(t.delete_bucket_selected)+'"?'),r("br"),r("br"),r("b",[t._v("This is permanent and cannot be undone!")]),r("hr"),r("div",{staticClass:"float-right"},[r("b-button",{staticClass:"mx-2",on:{click:function(e){return t.$root.$emit("bv::hide::modal","delete-modal")}}},[t._v("Cancel")]),r("b-button",{attrs:{variant:"danger"},on:{click:function(e){return t.deleteBucket(t.delete_bucket_selected)}}},[t._v("Confirm")])],1)]),r("h3",[t._v("Import and export buckets")]),r("b-card-group",{staticClass:"deck"},[r("b-card",{attrs:{header:"Import buckets"}},[t.import_error?r("b-alert",{attrs:{show:"",variant:"danger",dismissable:""}},[t._v(t._s(t.import_error))]):t._e(),r("b-form-file",{attrs:{placeholder:"Choose a file or drop file here...","drop-placeholder":"Drop file here..."},model:{value:t.import_file,callback:function(e){t.import_file=e},expression:"import_file"}}),t.import_file?r("div",{staticClass:"spinner-border",attrs:{role:"status"}}):t._e(),r("span",[t._v("A valid file to import is a JSON file from either an export of a single bucket or an export from multiple buckets. If there are buckets with the same name the import will fail")])],1),r("b-card",{attrs:{header:"Export buckets"}},[r("b-button",{attrs:{href:t.$aw.baseURL+"/api/0/export",download:"aw-bucket-export.json",title:"Export bucket to JSON",variant:"outline-secondary"}},[r("icon",{attrs:{name:"download"}}),t._v("Export all buckets as JSON")],1)],1)],1)],1)},i=[],a=(r("96cf"),r("1da1")),o=r("93c6"),s=r.n(o),c=(r("a56d"),r("0874"));c["default"].register({download:{width:512,height:512,paths:[{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1l-152.1 152.2c-7.5 7.5-19.8 7.5-27.3 0l-152.3-152.2c-12.6-12.6-3.7-34.1 14.1-34.1h87.8v-168c0-13.3 10.7-24 24-24zM512 376v112c0 13.3-10.7 24-24 24h-464c-13.3 0-24-10.7-24-24v-112c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49h146.7c13.3 0 24 10.7 24 24zM388 464c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zM452 464c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}]}}),c["default"].register({"folder-open":{width:576,height:512,paths:[{d:"M572.7 292.1l-72.4 124.2c-10.2 17.5-35 31.8-55.3 31.8h0-400c-18.5 0-30.1-20.1-20.7-36.1l72.4-124.2c10.2-17.5 35-31.8 55.3-31.8v0h400c18.5 0 30.1 20.1 20.7 36.1zM152 224c-34 0-65.8 18.3-82.9 47.6l-69.1 118.4v-278c0-26.5 21.5-48 48-48h160l64 64h160c26.5 0 48 21.5 48 48v48h-328z"}]}});var l={name:"Buckets",data:function(){return{import_file:null,import_error:null,delete_bucket_selected:null,fields:[{key:"id",label:"Bucket ID",sortable:!0},{key:"hostname",sortable:!0},{key:"last_updated",label:"Updated",sortable:!0},{key:"actions",label:""}]}},computed:{buckets:function(){return s()(this.$store.state.buckets.buckets,[function(t){return t.id}],["asc"])}},watch:{import_file:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null==this.import_file){t.next=16;break}return console.log("Importing file"),t.prev=2,t.next=5,this.importBuckets(this.import_file);case 5:console.log("Import successful"),this.import_error=null,t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](2),console.log("Import failed"),this.import_error="Import failed, see aw-server logs for more info";case 13:return t.next=15,this.$store.dispatch("buckets/loadBuckets");case 15:this.import_file=null;case 16:case"end":return t.stop()}}),t,this,[[2,9]])})));function e(e,r){return t.apply(this,arguments)}return e}()},mounted:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("buckets/ensureBuckets");case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{openDeleteBucketModal:function(t){this.delete_bucket_selected=t,this.$root.$emit("bv::show::modal","delete-modal")},deleteBucket:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("buckets/deleteBucket",{bucketId:e});case 2:this.$root.$emit("bv::hide::modal","delete-modal");case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),importBuckets:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=new FormData,r.append("buckets.json",e),n={"Content-Type":"multipart/form-data"},t.abrupt("return",this.$aw.req.post("/0/import",r,{headers:n}));case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},u=l,h=(r("a2b0"),r("25fd"),r("2877")),d=Object(h["a"])(u,n,i,!1,null,"41622878",null);e["default"]=d.exports},7442:function(t,e,r){},"79f7":function(t,e,r){},a2b0:function(t,e,r){"use strict";var n=r("4962"),i=r.n(n);i.a},a56d:function(t,e,r){"use strict";var n=r("0874");n["default"].register({trash:{width:448,height:512,paths:[{d:"M432 32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h120l9.4-18.7c3.6-7.3 13.1-13.3 21.3-13.3h0.1 114.3 0c8.2 0 17.8 6 21.5 13.3l9.4 18.7h120zM53.2 467l-21.2-339h384l-21.2 339c-1.6 24.8-23 45-47.9 45h-245.8c-24.9 0-46.3-20.2-47.9-45z"}]}})},a9e3:function(t,e,r){"use strict";var n=r("83ab"),i=r("da84"),a=r("94ca"),o=r("6eeb"),s=r("5135"),c=r("c6b6"),l=r("7156"),u=r("c04e"),h=r("d039"),d=r("7c73"),f=r("241c").f,p=r("06cf").f,m=r("9bf2").f,b=r("58a8").trim,v="Number",k=i[v],g=k.prototype,w=c(d(g))==v,_=function(t){var e,r,n,i,a,o,s,c,l=u(t,!1);if("string"==typeof l&&l.length>2)if(l=b(l),e=l.charCodeAt(0),43===e||45===e){if(r=l.charCodeAt(2),88===r||120===r)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+l}for(a=l.slice(2),o=a.length,s=0;s<o;s++)if(c=a.charCodeAt(s),c<48||c>i)return NaN;return parseInt(a,n)}return+l};if(a(v,!k(" 0o1")||!k("0b1")||k("+0x1"))){for(var y,x=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof x&&(w?h((function(){g.valueOf.call(r)})):c(r)!=v)?l(new k(_(e)),r,x):_(e)},S=n?f(k):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;S.length>I;I++)s(k,y=S[I])&&!s(x,y)&&m(x,y,p(k,y));x.prototype=g,g.constructor=x,o(i,v,x)}},df9a:function(t,e,r){"use strict";var n=r("7442"),i=r.n(n);i.a}}]);
//# sourceMappingURL=chunk-6dee2a91.41e61789.js.map