{"remainingRequest":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/thread-loader/dist/cjs.js!/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/babel-loader/lib/index.js!/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--13-3!/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/src/visualizations/TimelineBarChart.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/src/visualizations/TimelineBarChart.vue","mtime":1622212604097},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL2hvbWUvamFza2FyYW4vY29kZS9qYXNrYXJhbi9hY3Rpdml0eXdhdGNoL2F3LXNlcnZlci9hdy13ZWJ1aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9ob21lL2phc2thcmFuL2NvZGUvamFza2FyYW4vYWN0aXZpdHl3YXRjaC9hdy1zZXJ2ZXIvYXctd2VidWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICIvaG9tZS9qYXNrYXJhbi9jb2RlL2phc2thcmFuL2FjdGl2aXR5d2F0Y2gvYXctc2VydmVyL2F3LXdlYnVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cyI7CmltcG9ydCBfY3JlYXRlU3VwZXIgZnJvbSAiL2hvbWUvamFza2FyYW4vY29kZS9qYXNrYXJhbi9hY3Rpdml0eXdhdGNoL2F3LXNlcnZlci9hdy13ZWJ1aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlU3VwZXIiOwppbXBvcnQgX3JhbmdlIGZyb20gImxvZGFzaC9yYW5nZSI7CmltcG9ydCB7IF9fZGVjb3JhdGUsIF9fbWV0YWRhdGEgfSBmcm9tICJ0c2xpYiI7CmltcG9ydCB7IEJhciB9IGZyb20gJ3Z1ZS1jaGFydGpzJzsKaW1wb3J0IHsgVnVlLCBDb21wb25lbnQsIFByb3AsIFdhdGNoIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcic7CmltcG9ydCB7IGdldF9ob3VyX29mZnNldCB9IGZyb20gJ34vdXRpbC90aW1lJzsKCnZhciBDaGFydFRpbWVsaW5lQmFycyA9IGZ1bmN0aW9uIChfVnVlKSB7CiAgX2luaGVyaXRzKENoYXJ0VGltZWxpbmVCYXJzLCBfVnVlKTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihDaGFydFRpbWVsaW5lQmFycyk7CgogIGZ1bmN0aW9uIENoYXJ0VGltZWxpbmVCYXJzKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENoYXJ0VGltZWxpbmVCYXJzKTsKCiAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcyk7CiAgfQoKICBfY3JlYXRlQ2xhc3MoQ2hhcnRUaW1lbGluZUJhcnMsIFt7CiAgICBrZXk6ICJtb3VudGVkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgICB0aGlzLnJlbmRlckRhdGEoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJvbkRhdGFzZXRDaGFuZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uRGF0YXNldENoYW5nZSgpIHsKICAgICAgdGhpcy5yZW5kZXJEYXRhKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVuZGVyRGF0YSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyRGF0YSgpIHsKICAgICAgdmFyIGhvdXJPZmZzZXQgPSBnZXRfaG91cl9vZmZzZXQoKTsKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgbGFiZWxzOiBfcmFuZ2UoMCwgMjQpLm1hcChmdW5jdGlvbiAoaCkgewogICAgICAgICAgcmV0dXJuICIiLmNvbmNhdCgoaCArIGhvdXJPZmZzZXQpICUgMjQpOwogICAgICAgIH0pLAogICAgICAgIGRhdGFzZXRzOiB0aGlzLmRhdGFzZXRzLAogICAgICAgIHRpdGxlOiB7CiAgICAgICAgICBkaXNwbGF5OiB0cnVlLAogICAgICAgICAgdGV4dDogJ1RpbWVsaW5lJwogICAgICAgIH0sCiAgICAgICAgcmVzcG9uc2l2ZTogdHJ1ZSwKICAgICAgICBtYWludGFpbkFzcGVjdFJhdGlvOiBmYWxzZQogICAgICB9OwogICAgICB2YXIgb3B0aW9ucyA9IHsKICAgICAgICBza2lwTnVsbDogdHJ1ZSwKICAgICAgICB0b29sdGlwczogewogICAgICAgICAgbW9kZTogJ3BvaW50JywKICAgICAgICAgIGludGVyc2VjdDogZmFsc2UKICAgICAgICB9LAogICAgICAgIGxlZ2VuZDogewogICAgICAgICAgZGlzcGxheTogZmFsc2UKICAgICAgICB9LAogICAgICAgIHNjYWxlczogewogICAgICAgICAgeEF4ZXM6IFt7CiAgICAgICAgICAgIHN0YWNrZWQ6IHRydWUKICAgICAgICAgIH1dLAogICAgICAgICAgeUF4ZXM6IFt7CiAgICAgICAgICAgIHN0YWNrZWQ6IHRydWUsCiAgICAgICAgICAgIHRpY2tzOiB7CiAgICAgICAgICAgICAgc3RlcFNpemU6IDAuMjUsCiAgICAgICAgICAgICAgbWluOiAwLAogICAgICAgICAgICAgIG1heDogMSwKICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2sodmFsdWUpIHsKICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PSAxKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiAnMWgnOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQodmFsdWUgKiA2MCkgKyAnbWluJzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH1dCiAgICAgICAgfQogICAgICB9OwogICAgICB0aGlzLnJlbmRlckNoYXJ0KGRhdGEsIG9wdGlvbnMpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIENoYXJ0VGltZWxpbmVCYXJzOwp9KFZ1ZSk7CgpfX2RlY29yYXRlKFtQcm9wKHsKICAiZGVmYXVsdCI6IFt7CiAgICBsYWJlbDogJ1RvdGFsIHRpbWUnLAogICAgYmFja2dyb3VuZENvbG9yOiAnIzY2OTlmZicsCiAgICBkYXRhOiBBcnJheS5mcm9tKHsKICAgICAgbGVuZ3RoOiA0MAogICAgfSwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNDApOwogICAgfSkKICB9XQp9KSwgX19tZXRhZGF0YSgiZGVzaWduOnR5cGUiLCBBcnJheSldLCBDaGFydFRpbWVsaW5lQmFycy5wcm90b3R5cGUsICJkYXRhc2V0cyIsIHZvaWQgMCk7CgpfX2RlY29yYXRlKFtQcm9wKHsKICAiZGVmYXVsdCI6ICdkYXknCn0pLCBfX21ldGFkYXRhKCJkZXNpZ246dHlwZSIsIFN0cmluZyldLCBDaGFydFRpbWVsaW5lQmFycy5wcm90b3R5cGUsICJyZXNvbHV0aW9uIiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW1dhdGNoKCdkYXRhc2V0cycpLCBfX21ldGFkYXRhKCJkZXNpZ246dHlwZSIsIEZ1bmN0aW9uKSwgX19tZXRhZGF0YSgiZGVzaWduOnBhcmFtdHlwZXMiLCBbXSksIF9fbWV0YWRhdGEoImRlc2lnbjpyZXR1cm50eXBlIiwgdm9pZCAwKV0sIENoYXJ0VGltZWxpbmVCYXJzLnByb3RvdHlwZSwgIm9uRGF0YXNldENoYW5nZSIsIG51bGwpOwoKQ2hhcnRUaW1lbGluZUJhcnMgPSBfX2RlY29yYXRlKFtDb21wb25lbnQoewogICJleHRlbmRzIjogQmFyCn0pLCBfX21ldGFkYXRhKCJkZXNpZ246cGFyYW10eXBlcyIsIFtdKV0sIENoYXJ0VGltZWxpbmVCYXJzKTsKZXhwb3J0IGRlZmF1bHQgQ2hhcnRUaW1lbGluZUJhcnM7"},{"version":3,"sources":["/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/src/visualizations/TimelineBarChart.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";;;;;;;;;AAGA,SAAS,GAAT,QAAoB,aAApB;AACA,SAAS,GAAT,EAAc,SAAd,EAAyB,IAAzB,EAA+B,KAA/B,QAA4C,wBAA5C;AACA,SAAS,eAAT,QAAgC,aAAhC;;AAKA,IAAqB,iBAArB;AAAA;;AAAA;;AACE,+BAAA;AAAA;;AAAA;AAEC;;AAHH;AAAA;AAAA,8BAmBS;AACL,WAAK,UAAL;AACD;AArBH;AAAA;AAAA,sCAwBiB;AACb,WAAK,UAAL;AACD;AA1BH;AAAA;AAAA,iCA4BY;AAER,UAAM,UAAU,GAAG,eAAe,EAAlC;AACA,UAAM,IAAI,GAAG;AACX,QAAA,MAAM,EAAE,OAAQ,CAAR,EAAW,EAAX,EAAe,GAAf,CAAmB,UAAA,CAAC;AAAA,2BAAO,CAAC,CAAC,GAAG,UAAL,IAAmB,EAA1B;AAAA,SAApB,CADG;AAEX,QAAA,QAAQ,EAAE,KAAK,QAFJ;AAGX,QAAA,KAAK,EAAE;AACL,UAAA,OAAO,EAAE,IADJ;AAEL,UAAA,IAAI,EAAE;AAFD,SAHI;AAOX,QAAA,UAAU,EAAE,IAPD;AAQX,QAAA,mBAAmB,EAAE;AARV,OAAb;AAUA,UAAM,OAAO,GAAG;AACd,QAAA,QAAQ,EAAE,IADI;AAEd,QAAA,QAAQ,EAAE;AACR,UAAA,IAAI,EAAE,OADE;AAER,UAAA,SAAS,EAAE;AAFH,SAFI;AAMd,QAAA,MAAM,EAAE;AACN,UAAA,OAAO,EAAE;AADH,SANM;AASd,QAAA,MAAM,EAAE;AACN,UAAA,KAAK,EAAE,CAAC;AAAE,YAAA,OAAO,EAAE;AAAX,WAAD,CADD;AAEN,UAAA,KAAK,EAAE,CACL;AACE,YAAA,OAAO,EAAE,IADX;AAEE,YAAA,KAAK,EAAE;AACL,cAAA,QAAQ,EAAE,IADL;AAEL,cAAA,GAAG,EAAE,CAFA;AAGL,cAAA,GAAG,EAAE,CAHA;AAIL,cAAA,QAAQ,EAAE,kBAAU,KAAV,EAAuB;AAC/B,oBAAI,KAAK,IAAI,CAAb,EAAgB;AACd,yBAAO,IAAP;AACD,iBAFD,MAEO;AACL,yBAAO,IAAI,CAAC,KAAL,CAAW,KAAK,GAAG,EAAnB,IAAyB,KAAhC;AACD;AACF;AAVI;AAFT,WADK;AAFD;AATM,OAAhB;AA8BA,WAAK,WAAL,CAAiB,IAAjB,EAAuB,OAAvB;AACD;AAxEH;;AAAA;AAAA,EAA+C,GAA/C,CAAA;;AAcE,UAAA,CAAA,CATC,IAAI,CAAC;AACJ,aAAS,CACP;AACE,IAAA,KAAK,EAAE,YADT;AAEE,IAAA,eAAe,EAAE,SAFnB;AAGE,IAAA,IAAI,EAAE,KAAK,CAAC,IAAN,CAAW;AAAE,MAAA,MAAM,EAAE;AAAV,KAAX,EAA2B;AAAA,aAAM,IAAI,CAAC,KAAL,CAAW,IAAI,CAAC,MAAL,KAAgB,EAA3B,CAAN;AAAA,KAA3B;AAHR,GADO;AADL,CAAD,CASL,E,gCAAA,CAAA,E,2BAAA,E,UAAA,E,KAAgC,CAAhC,CAAA;;AAGA,UAAA,CAAA,CADC,IAAI,CAAC;AAAE,aAAS;AAAX,CAAD,CACL,E,iCAAA,CAAA,E,2BAAA,E,YAAA,E,KAA2B,CAA3B,CAAA;;AAOA,UAAA,CAAA,CADC,KAAK,CAAC,UAAD,CACN,E,mCAAA,E,mCAAA,E,uCAAA,CAAA,E,2BAAA,E,iBAAA,EAEC,IAFD,CAAA;;AAxBmB,iBAAiB,GAAA,UAAA,CAAA,CAHrC,SAAS,CAAC;AACT,aAAS;AADA,CAAD,CAG4B,E,mCAAA,CAAA,EAAjB,iBAAiB,CAAjB;eAAA,iB","sourcesContent":["\nimport _ from 'lodash';\nimport { ChartOptions } from 'chart.js';\nimport { Bar } from 'vue-chartjs';\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator';\nimport { get_hour_offset } from '~/util/time';\n\n@Component({\n  extends: Bar, // this is important to add the functionality to your component\n})\nexport default class ChartTimelineBars extends Vue<Bar> {\n  constructor() {\n    super();\n  }\n\n  @Prop({\n    default: [\n      {\n        label: 'Total time',\n        backgroundColor: '#6699ff',\n        data: Array.from({ length: 40 }, () => Math.floor(Math.random() * 40)),\n      },\n    ],\n  })\n  datasets: Record<string, any>[];\n\n  @Prop({ default: 'day' })\n  resolution: 'day' | 'week';\n\n  mounted() {\n    this.renderData();\n  }\n\n  @Watch('datasets')\n  onDatasetChange() {\n    this.renderData();\n  }\n\n  renderData() {\n    // Overwriting base render method with actual data.\n    const hourOffset = get_hour_offset();\n    const data = {\n      labels: _.range(0, 24).map(h => `${(h + hourOffset) % 24}`),\n      datasets: this.datasets,\n      title: {\n        display: true,\n        text: 'Timeline',\n      },\n      responsive: true,\n      maintainAspectRatio: false,\n    };\n    const options = {\n      skipNull: true,\n      tooltips: {\n        mode: 'point',\n        intersect: false,\n      },\n      legend: {\n        display: false,\n      },\n      scales: {\n        xAxes: [{ stacked: true }],\n        yAxes: [\n          {\n            stacked: true,\n            ticks: {\n              stepSize: 0.25,\n              min: 0,\n              max: 1,\n              callback: function (value: number) {\n                if (value == 1) {\n                  return '1h';\n                } else {\n                  return Math.round(value * 60) + 'min';\n                }\n              },\n            },\n          },\n        ],\n      },\n    } as ChartOptions;\n    this.renderChart(data, options);\n  }\n}\n"],"sourceRoot":""}]}