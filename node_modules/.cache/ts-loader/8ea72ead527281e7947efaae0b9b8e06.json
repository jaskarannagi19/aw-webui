{"remainingRequest":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/thread-loader/dist/cjs.js!/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/babel-loader/lib/index.js!/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--13-3!/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/eslint-loader/index.js??ref--12-0!/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/src/store/modules/activity.ts","dependencies":[{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/src/store/modules/activity.ts","mtime":1622830085274},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmRhdGUudG8taXNvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmRhdGUudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybCI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL2hvbWUvamFza2FyYW4vY29kZS9qYXNrYXJhbi9hY3Rpdml0eXdhdGNoL2F3LXNlcnZlci1ydXN0L2F3LXdlYnVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2phc2thcmFuL2NvZGUvamFza2FyYW4vYWN0aXZpdHl3YXRjaC9hdy1zZXJ2ZXItcnVzdC9hdy13ZWJ1aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9ob21lL2phc2thcmFuL2NvZGUvamFza2FyYW4vYWN0aXZpdHl3YXRjaC9hdy1zZXJ2ZXItcnVzdC9hdy13ZWJ1aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCBfcmV2ZXJzZSBmcm9tICJsb2Rhc2gvZnAvcmV2ZXJzZSI7CmltcG9ydCBfZmxvdyBmcm9tICJsb2Rhc2gvZnAvZmxvdyI7CmltcG9ydCBfc29ydEJ5IGZyb20gImxvZGFzaC9mcC9zb3J0QnkiOwppbXBvcnQgX2dyb3VwQnkgZnJvbSAibG9kYXNoL2ZwL2dyb3VwQnkiOwppbXBvcnQgX3ZhbHVlcyBmcm9tICJsb2Rhc2gvZnAvdmFsdWVzIjsKaW1wb3J0IF9maWx0ZXIyIGZyb20gImxvZGFzaC9mcC9maWx0ZXIiOwppbXBvcnQgX21hcDIgZnJvbSAibG9kYXNoL2ZwL21hcCI7CmltcG9ydCBfcmFuZ2UgZnJvbSAibG9kYXNoL3JhbmdlIjsKaW1wb3J0IF9zdW1CeSBmcm9tICJsb2Rhc2gvc3VtQnkiOwppbXBvcnQgX21hcFZhbHVlcyBmcm9tICJsb2Rhc2gvbWFwVmFsdWVzIjsKaW1wb3J0IF9maWx0ZXIgZnJvbSAibG9kYXNoL2ZpbHRlciI7CmltcG9ydCBfbWFwIGZyb20gImxvZGFzaC9tYXAiOwppbXBvcnQgX3ppcE9iamVjdCBmcm9tICJsb2Rhc2gvemlwT2JqZWN0IjsKaW1wb3J0IF9pbmNsdWRlcyBmcm9tICJsb2Rhc2gvaW5jbHVkZXMiOwppbXBvcnQgX2hhcyBmcm9tICJsb2Rhc2gvaGFzIjsKaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnOwppbXBvcnQgeyB3aW5kb3dfZXZlbnRzIH0gZnJvbSAnfi91dGlsL2Zha2VkYXRhJzsKaW1wb3J0IHF1ZXJpZXMgZnJvbSAnfi9xdWVyaWVzJzsKaW1wb3J0IHsgZ2V0Q29sb3JGcm9tQ2F0ZWdvcnkgfSBmcm9tICd+L3V0aWwvY29sb3InOwppbXBvcnQgeyBsb2FkQ2xhc3Nlc0ZvclF1ZXJ5IH0gZnJvbSAnfi91dGlsL2NsYXNzZXMnOwppbXBvcnQgeyBnZXRfZGF5X3N0YXJ0X3dpdGhfb2Zmc2V0IH0gZnJvbSAnfi91dGlsL3RpbWUnOwoKZnVuY3Rpb24gZGF0ZVRvVGltZXBlcmlvZChkYXRlLCBkdXJhdGlvbikgewogIHJldHVybiB7CiAgICBzdGFydDogZ2V0X2RheV9zdGFydF93aXRoX29mZnNldChkYXRlKSwKICAgIGxlbmd0aDogZHVyYXRpb24gfHwgWzEsICdkYXknXQogIH07Cn0KCmZ1bmN0aW9uIHRpbWVwZXJpb2RUb1N0cih0cCkgewogIHZhciBzdGFydCA9IG1vbWVudCh0cC5zdGFydCkuZm9ybWF0KCk7CiAgdmFyIGVuZCA9IG1vbWVudChzdGFydCkuYWRkKHRwLmxlbmd0aFswXSwgdHAubGVuZ3RoWzFdKS5mb3JtYXQoKTsKICByZXR1cm4gW3N0YXJ0LCBlbmRdLmpvaW4oJy8nKTsKfQoKdmFyIF9zdGF0ZSA9IHsKICBsb2FkZWQ6IGZhbHNlLAogIHdpbmRvdzogewogICAgYXZhaWxhYmxlOiBmYWxzZSwKICAgIHRvcF9hcHBzOiBbXSwKICAgIHRvcF90aXRsZXM6IFtdCiAgfSwKICBicm93c2VyOiB7CiAgICBhdmFpbGFibGU6IGZhbHNlLAogICAgZHVyYXRpb246IFtdLAogICAgdG9wX2RvbWFpbnM6IFtdLAogICAgdG9wX3VybHM6IFtdCiAgfSwKICBlZGl0b3I6IHsKICAgIGF2YWlsYWJsZTogZmFsc2UsCiAgICBkdXJhdGlvbjogW10sCiAgICB0b3BfZmlsZXM6IFtdLAogICAgdG9wX2xhbmd1YWdlczogW10sCiAgICB0b3BfcHJvamVjdHM6IFtdCiAgfSwKICBjYXRlZ29yeTogewogICAgYXZhaWxhYmxlOiBmYWxzZSwKICAgIGJ5X2hvdXI6IFtdLAogICAgdG9wOiBbXQogIH0sCiAgYWN0aXZlOiB7CiAgICBhdmFpbGFibGU6IGZhbHNlLAogICAgZHVyYXRpb246IDAsCiAgICBldmVudHM6IFtdLAogICAgaGlzdG9yeToge30KICB9LAogIGFuZHJvaWQ6IHsKICAgIGF2YWlsYWJsZTogZmFsc2UKICB9LAogIHF1ZXJ5X29wdGlvbnM6IHsKICAgIGJyb3dzZXJfYnVja2V0czogJ2FsbCcsCiAgICBlZGl0b3JfYnVja2V0czogJ2FsbCcKICB9LAogIGJ1Y2tldHM6IHsKICAgIGxvYWRlZDogZmFsc2UsCiAgICBhZms6IFtdLAogICAgd2luZG93OiBbXSwKICAgIGVkaXRvcjogW10sCiAgICBicm93c2VyOiBbXSwKICAgIGFuZHJvaWQ6IFtdCiAgfQp9OwoKZnVuY3Rpb24gdGltZXBlcmlvZHNBcm91bmRUaW1lcGVyaW9kKHRpbWVwZXJpb2QpIHsKICB2YXIgcGVyaW9kcyA9IFtdOwoKICBmb3IgKHZhciBpID0gLTE1OyBpIDw9IDE1OyBpKyspIHsKICAgIHZhciBzdGFydCA9IG1vbWVudCh0aW1lcGVyaW9kLnN0YXJ0KS5hZGQoaSAqIHRpbWVwZXJpb2QubGVuZ3RoWzBdLCB0aW1lcGVyaW9kLmxlbmd0aFsxXSkuZm9ybWF0KCk7CiAgICBwZXJpb2RzLnB1c2goX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0aW1lcGVyaW9kKSwge30sIHsKICAgICAgc3RhcnQ6IHN0YXJ0CiAgICB9KSk7CiAgfQoKICByZXR1cm4gcGVyaW9kczsKfQoKZnVuY3Rpb24gdGltZXBlcmlvZHNIb3Vyc09mRGF5KHRpbWVwZXJpb2QpIHsKICB2YXIgcGVyaW9kcyA9IFtdOwogIHZhciBfbGVuZ3RoID0gWzEsICdob3VyJ107CgogIGZvciAodmFyIGkgPSAwOyBpIDwgMjQ7IGkrKykgewogICAgdmFyIHN0YXJ0ID0gbW9tZW50KHRpbWVwZXJpb2Quc3RhcnQpLmFkZChpICogX2xlbmd0aFswXSwgX2xlbmd0aFsxXSkuZm9ybWF0KCk7CiAgICBwZXJpb2RzLnB1c2goewogICAgICBzdGFydDogc3RhcnQsCiAgICAgIGxlbmd0aDogX2xlbmd0aAogICAgfSk7CiAgfQoKICByZXR1cm4gcGVyaW9kczsKfQoKZnVuY3Rpb24gdGltZXBlcmlvZHNTdHJzSG91cnNPZkRheSh0aW1lcGVyaW9kKSB7CiAgcmV0dXJuIHRpbWVwZXJpb2RzSG91cnNPZkRheSh0aW1lcGVyaW9kKS5tYXAodGltZXBlcmlvZFRvU3RyKTsKfQoKZnVuY3Rpb24gdGltZXBlcmlvZFN0cnNBcm91bmRUaW1lcGVyaW9kKHRpbWVwZXJpb2QpIHsKICByZXR1cm4gdGltZXBlcmlvZHNBcm91bmRUaW1lcGVyaW9kKHRpbWVwZXJpb2QpLm1hcCh0aW1lcGVyaW9kVG9TdHIpOwp9Cgp2YXIgZ2V0dGVycyA9IHsKICBnZXRBY3RpdmVIaXN0b3J5QXJvdW5kVGltZXBlcmlvZDogZnVuY3Rpb24gZ2V0QWN0aXZlSGlzdG9yeUFyb3VuZFRpbWVwZXJpb2Qoc3RhdGUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAodGltZXBlcmlvZCkgewogICAgICB2YXIgcGVyaW9kcyA9IHRpbWVwZXJpb2RTdHJzQXJvdW5kVGltZXBlcmlvZCh0aW1lcGVyaW9kKTsKCiAgICAgIHZhciBfaGlzdG9yeSA9IHBlcmlvZHMubWFwKGZ1bmN0aW9uICh0cCkgewogICAgICAgIGlmIChfaGFzKHN0YXRlLmFjdGl2ZS5oaXN0b3J5LCB0cCkpIHsKICAgICAgICAgIHJldHVybiBzdGF0ZS5hY3RpdmUuaGlzdG9yeVt0cF07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBbewogICAgICAgICAgICB0aW1lc3RhbXA6IG1vbWVudCh0cC5zcGxpdCgnLycpWzBdKS5mb3JtYXQoKSwKICAgICAgICAgICAgZHVyYXRpb246IDAsCiAgICAgICAgICAgIGRhdGE6IHt9CiAgICAgICAgICB9XTsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgcmV0dXJuIF9oaXN0b3J5OwogICAgfTsKICB9Cn07CnZhciBhY3Rpb25zID0gewogIGVuc3VyZV9sb2FkZWQ6IGZ1bmN0aW9uIGVuc3VyZV9sb2FkZWQoX3JlZiwgcXVlcnlfb3B0aW9ucykgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBjb21taXQsIHN0YXRlLCBkaXNwYXRjaDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0LCBzdGF0ZSA9IF9yZWYuc3RhdGUsIGRpc3BhdGNoID0gX3JlZi5kaXNwYXRjaDsKICAgICAgICAgICAgICBjb25zb2xlLmluZm8oJ1F1ZXJ5IG9wdGlvbnM6ICcsIHF1ZXJ5X29wdGlvbnMpOwoKICAgICAgICAgICAgICBpZiAoISghc3RhdGUubG9hZGVkIHx8IHN0YXRlLnF1ZXJ5X29wdGlvbnMgIT09IHF1ZXJ5X29wdGlvbnMgfHwgcXVlcnlfb3B0aW9ucy5mb3JjZSkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1MTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY29tbWl0KCdzdGFydF9sb2FkaW5nJywgcXVlcnlfb3B0aW9ucyk7CgogICAgICAgICAgICAgIGlmICghcXVlcnlfb3B0aW9ucy50aW1lcGVyaW9kKSB7CiAgICAgICAgICAgICAgICBxdWVyeV9vcHRpb25zLnRpbWVwZXJpb2QgPSBkYXRlVG9UaW1lcGVyaW9kKHF1ZXJ5X29wdGlvbnMuZGF0ZSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ2J1Y2tldHMvZW5zdXJlQnVja2V0cycsIG51bGwsIHsKICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gOTsKICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ2dldF9idWNrZXRzJywgcXVlcnlfb3B0aW9ucyk7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnc2V0X2F2YWlsYWJsZScsIHF1ZXJ5X29wdGlvbnMpOwoKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBpZiAoIXN0YXRlLndpbmRvdy5hdmFpbGFibGUpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxODsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0OwogICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgncXVlcnlfZGVza3RvcF9mdWxsJywgcXVlcnlfb3B0aW9ucyk7CgogICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNjsKICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ3F1ZXJ5X2NhdGVnb3J5X3RpbWVfYnlfaG91cicsIHF1ZXJ5X29wdGlvbnMpOwoKICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjg7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgIGlmICghc3RhdGUuYW5kcm9pZC5hdmFpbGFibGUpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMzsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIxOwogICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgncXVlcnlfYW5kcm9pZCcsIHF1ZXJ5X29wdGlvbnMpOwoKICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjg7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDYW5ub3QgcXVlcnkgd2luZG93cyBhcyB3ZSBhcmUgbWlzc2luZyBlaXRoZXIgYW4gYWZrL3dpbmRvdyBidWNrZXQgcGFpciBvciBhbiBhbmRyb2lkIGJ1Y2tldCcpOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyNjsKICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ3F1ZXJ5X3dpbmRvd19lbXB0eScsIHF1ZXJ5X29wdGlvbnMpOwoKICAgICAgICAgICAgY2FzZSAyNjoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjg7CiAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdxdWVyeV9icm93c2VyX2VtcHR5JywgcXVlcnlfb3B0aW9ucyk7CgogICAgICAgICAgICBjYXNlIDI4OgogICAgICAgICAgICAgIGlmICghc3RhdGUuYWN0aXZlLmF2YWlsYWJsZSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDMzOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzE7CiAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdxdWVyeV9hY3RpdmVfaGlzdG9yeScsIHF1ZXJ5X29wdGlvbnMpOwoKICAgICAgICAgICAgY2FzZSAzMToKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDE7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDMzOgogICAgICAgICAgICAgIGlmICghc3RhdGUuYW5kcm9pZC5hdmFpbGFibGUpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzODsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM2OwogICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgncXVlcnlfYWN0aXZlX2hpc3RvcnlfYW5kcm9pZCcsIHF1ZXJ5X29wdGlvbnMpOwoKICAgICAgICAgICAgY2FzZSAzNjoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDE7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDM4OgogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDYW5ub3QgY2FsbCBxdWVyeV9hY3RpdmVfaGlzdG9yeSBhcyB3ZSBkbyBub3QgaGF2ZSBhbiBhZmsgYnVja2V0Jyk7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQxOwogICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgncXVlcnlfYWN0aXZlX2hpc3RvcnlfZW1wdHknLCBxdWVyeV9vcHRpb25zKTsKCiAgICAgICAgICAgIGNhc2UgNDE6CiAgICAgICAgICAgICAgaWYgKCFzdGF0ZS5lZGl0b3IuYXZhaWxhYmxlKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDY7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0NDsKICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ3F1ZXJ5X2VkaXRvcicsIHF1ZXJ5X29wdGlvbnMpOwoKICAgICAgICAgICAgY2FzZSA0NDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDk7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDQ2OgogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDYW5ub3QgY2FsbCBxdWVyeV9lZGl0b3IgYXMgd2UgZG8gbm90IGhhdmUgYW55IGVkaXRvciBidWNrZXRzJyk7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ5OwogICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgncXVlcnlfZWRpdG9yX2VtcHR5JywgcXVlcnlfb3B0aW9ucyk7CgogICAgICAgICAgICBjYXNlIDQ5OgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1MjsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgNTE6CiAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdlbnN1cmVfbG9hZGVkIGNhbGxlZCB0d2ljZSB3aXRoIHNhbWUgcXVlcnlfb3B0aW9ucyBidXQgd2l0aG91dCBxdWVyeV9vcHRpb25zLmZvcmNlID0gdHJ1ZSwgc2tpcHBpbmcuLi4nKTsKCiAgICAgICAgICAgIGNhc2UgNTI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBxdWVyeV9hbmRyb2lkOiBmdW5jdGlvbiBxdWVyeV9hbmRyb2lkKF9yZWYyLCBfcmVmMykgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IocmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgIHZhciBzdGF0ZSwgY29tbWl0LCB0aW1lcGVyaW9kLCBmaWx0ZXJDYXRlZ29yaWVzLCBwZXJpb2RzLCBjbGFzc2VzLCBxLCBkYXRhOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHN0YXRlID0gX3JlZjIuc3RhdGUsIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgICAgICAgICB0aW1lcGVyaW9kID0gX3JlZjMudGltZXBlcmlvZCwgZmlsdGVyQ2F0ZWdvcmllcyA9IF9yZWYzLmZpbHRlckNhdGVnb3JpZXM7CiAgICAgICAgICAgICAgcGVyaW9kcyA9IFt0aW1lcGVyaW9kVG9TdHIodGltZXBlcmlvZCldOwogICAgICAgICAgICAgIGNsYXNzZXMgPSBsb2FkQ2xhc3Nlc0ZvclF1ZXJ5KCk7CiAgICAgICAgICAgICAgcSA9IHF1ZXJpZXMuYXBwUXVlcnkoc3RhdGUuYnVja2V0cy5hbmRyb2lkWzBdLCBjbGFzc2VzLCBmaWx0ZXJDYXRlZ29yaWVzKTsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDc7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLl92bS4kYXcucXVlcnkocGVyaW9kcywgcSlbImNhdGNoIl0oX3RoaXMuZXJyb3JIYW5kbGVyKTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgY29tbWl0KCdxdWVyeV93aW5kb3dfY29tcGxldGVkJywgZGF0YVswXSk7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMik7CiAgICB9KSkoKTsKICB9LAogIHF1ZXJ5X3dpbmRvd19lbXB0eTogZnVuY3Rpb24gcXVlcnlfd2luZG93X2VtcHR5KF9yZWY0KSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IocmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgIHZhciBjb21taXQsIGRhdGE7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjQuY29tbWl0OwogICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICBhcHBfZXZlbnRzOiBbXSwKICAgICAgICAgICAgICAgIHRpdGxlX2V2ZW50czogW10sCiAgICAgICAgICAgICAgICBjYXRfZXZlbnRzOiBbXSwKICAgICAgICAgICAgICAgIGFjdGl2ZV9ldmVudHM6IFtdLAogICAgICAgICAgICAgICAgZHVyYXRpb246IDAKICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIGNvbW1pdCgncXVlcnlfd2luZG93X2NvbXBsZXRlZCcsIGRhdGEpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTMpOwogICAgfSkpKCk7CiAgfSwKICBxdWVyeV9kZXNrdG9wX2Z1bGw6IGZ1bmN0aW9uIHF1ZXJ5X2Rlc2t0b3BfZnVsbChfcmVmNSwgX3JlZjYpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcihyZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgdmFyIHN0YXRlLCBjb21taXQsIHJvb3RTdGF0ZSwgcm9vdEdldHRlcnMsIHRpbWVwZXJpb2QsIGZpbHRlckNhdGVnb3JpZXMsIGZpbHRlckFGSywgaW5jbHVkZUF1ZGlibGUsIHBlcmlvZHMsIGNsYXNzZXMsIHEsIGRhdGEsIGRhdGFfd2luZG93LCBkYXRhX2Jyb3dzZXI7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgc3RhdGUgPSBfcmVmNS5zdGF0ZSwgY29tbWl0ID0gX3JlZjUuY29tbWl0LCByb290U3RhdGUgPSBfcmVmNS5yb290U3RhdGUsIHJvb3RHZXR0ZXJzID0gX3JlZjUucm9vdEdldHRlcnM7CiAgICAgICAgICAgICAgdGltZXBlcmlvZCA9IF9yZWY2LnRpbWVwZXJpb2QsIGZpbHRlckNhdGVnb3JpZXMgPSBfcmVmNi5maWx0ZXJDYXRlZ29yaWVzLCBmaWx0ZXJBRksgPSBfcmVmNi5maWx0ZXJBRkssIGluY2x1ZGVBdWRpYmxlID0gX3JlZjYuaW5jbHVkZUF1ZGlibGU7CiAgICAgICAgICAgICAgcGVyaW9kcyA9IFt0aW1lcGVyaW9kVG9TdHIodGltZXBlcmlvZCldOwogICAgICAgICAgICAgIGNsYXNzZXMgPSBsb2FkQ2xhc3Nlc0ZvclF1ZXJ5KCk7CiAgICAgICAgICAgICAgcSA9IHF1ZXJpZXMuZnVsbERlc2t0b3BRdWVyeShzdGF0ZS5idWNrZXRzLmJyb3dzZXIsIHN0YXRlLmJ1Y2tldHMud2luZG93WzBdLCBzdGF0ZS5idWNrZXRzLmFma1swXSwgZmlsdGVyQUZLLCBjbGFzc2VzLCBmaWx0ZXJDYXRlZ29yaWVzLCBpbmNsdWRlQXVkaWJsZSk7CiAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA3OwogICAgICAgICAgICAgIHJldHVybiBfdGhpczIuX3ZtLiRhdy5xdWVyeShwZXJpb2RzLCBxKTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQ0LnNlbnQ7CiAgICAgICAgICAgICAgZGF0YV93aW5kb3cgPSBkYXRhWzBdLndpbmRvdzsKICAgICAgICAgICAgICBkYXRhX2Jyb3dzZXIgPSBkYXRhWzBdLmJyb3dzZXI7CiAgICAgICAgICAgICAgZGF0YV93aW5kb3cuY2F0X2V2ZW50cyA9IGRhdGFbMF0ud2luZG93WydjYXRfZXZlbnRzJ10ubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICB2YXIgY2F0ID0gcm9vdEdldHRlcnNbJ2NhdGVnb3JpZXMvZ2V0X2NhdGVnb3J5J10oZS5kYXRhWyckY2F0ZWdvcnknXSk7CiAgICAgICAgICAgICAgICBlLmRhdGFbJyRjb2xvciddID0gZ2V0Q29sb3JGcm9tQ2F0ZWdvcnkoY2F0LCByb290U3RhdGUuY2F0ZWdvcmllcy5jbGFzc2VzKTsKICAgICAgICAgICAgICAgIHJldHVybiBlOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGNvbW1pdCgncXVlcnlfd2luZG93X2NvbXBsZXRlZCcsIGRhdGFfd2luZG93KTsKICAgICAgICAgICAgICBjb21taXQoJ3F1ZXJ5X2Jyb3dzZXJfY29tcGxldGVkJywgZGF0YV9icm93c2VyKTsKCiAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlNCk7CiAgICB9KSkoKTsKICB9LAogIHF1ZXJ5X2Jyb3dzZXJfZW1wdHk6IGZ1bmN0aW9uIHF1ZXJ5X2Jyb3dzZXJfZW1wdHkoX3JlZjcpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcihyZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgdmFyIGNvbW1pdCwgZGF0YTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmNy5jb21taXQ7CiAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgIGRvbWFpbnM6IFtdLAogICAgICAgICAgICAgICAgdXJsczogW10sCiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMAogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgY29tbWl0KCdxdWVyeV9icm93c2VyX2NvbXBsZXRlZCcsIGRhdGEpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTUpOwogICAgfSkpKCk7CiAgfSwKICBxdWVyeV9lZGl0b3I6IGZ1bmN0aW9uIHF1ZXJ5X2VkaXRvcihfcmVmOCwgX3JlZjkpIHsKICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcihyZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgICAgdmFyIHN0YXRlLCBjb21taXQsIHRpbWVwZXJpb2QsIHBlcmlvZHMsIHEsIGRhdGE7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgc3RhdGUgPSBfcmVmOC5zdGF0ZSwgY29tbWl0ID0gX3JlZjguY29tbWl0OwogICAgICAgICAgICAgIHRpbWVwZXJpb2QgPSBfcmVmOS50aW1lcGVyaW9kOwogICAgICAgICAgICAgIHBlcmlvZHMgPSBbdGltZXBlcmlvZFRvU3RyKHRpbWVwZXJpb2QpXTsKICAgICAgICAgICAgICBxID0gcXVlcmllcy5lZGl0b3JBY3Rpdml0eVF1ZXJ5KHN0YXRlLmJ1Y2tldHMuZWRpdG9yKTsKICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDY7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5fdm0uJGF3LnF1ZXJ5KHBlcmlvZHMsIHEpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dDYuc2VudDsKICAgICAgICAgICAgICBjb21taXQoJ3F1ZXJ5X2VkaXRvcl9jb21wbGV0ZWQnLCBkYXRhWzBdKTsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU2KTsKICAgIH0pKSgpOwogIH0sCiAgcXVlcnlfZWRpdG9yX2VtcHR5OiBmdW5jdGlvbiBxdWVyeV9lZGl0b3JfZW1wdHkoX3JlZjEwKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IocmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgIHZhciBjb21taXQsIGRhdGE7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjEwLmNvbW1pdDsKICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgZmlsZXM6IFtdLAogICAgICAgICAgICAgICAgcHJvamVjdHM6IFtdLAogICAgICAgICAgICAgICAgbGFuZ3VhZ2VzOiBbXQogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgY29tbWl0KCdxdWVyeV9lZGl0b3JfY29tcGxldGVkJywgZGF0YSk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlNyk7CiAgICB9KSkoKTsKICB9LAogIHF1ZXJ5X2FjdGl2ZV9oaXN0b3J5OiBmdW5jdGlvbiBxdWVyeV9hY3RpdmVfaGlzdG9yeShfcmVmMTEsIF9yZWYxMikgewogICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4KCkgewogICAgICB2YXIgY29tbWl0LCBzdGF0ZSwgdGltZXBlcmlvZCwgcGVyaW9kcywgZGF0YSwgYWN0aXZlX2hpc3Rvcnk7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjExLmNvbW1pdCwgc3RhdGUgPSBfcmVmMTEuc3RhdGU7CiAgICAgICAgICAgICAgdGltZXBlcmlvZCA9IF9yZWYxMi50aW1lcGVyaW9kOwogICAgICAgICAgICAgIHBlcmlvZHMgPSB0aW1lcGVyaW9kU3Ryc0Fyb3VuZFRpbWVwZXJpb2QodGltZXBlcmlvZCkuZmlsdGVyKGZ1bmN0aW9uICh0cF9zdHIpIHsKICAgICAgICAgICAgICAgIHJldHVybiAhX2luY2x1ZGVzKHN0YXRlLmFjdGl2ZS5oaXN0b3J5LCB0cF9zdHIpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0Ll92bS4kYXcucXVlcnkocGVyaW9kcywgcXVlcmllcy5kYWlseUFjdGl2aXR5UXVlcnkoc3RhdGUuYnVja2V0cy5hZmtbMF0pKTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQ4LnNlbnQ7CiAgICAgICAgICAgICAgYWN0aXZlX2hpc3RvcnkgPSBfemlwT2JqZWN0KHBlcmlvZHMsIF9tYXAoZGF0YSwgZnVuY3Rpb24gKHBhaXIpIHsKICAgICAgICAgICAgICAgIHJldHVybiBfZmlsdGVyKHBhaXIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBlLmRhdGEuc3RhdHVzID09ICdub3QtYWZrJzsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgICBjb21taXQoJ3F1ZXJ5X2FjdGl2ZV9oaXN0b3J5X2NvbXBsZXRlZCcsIHsKICAgICAgICAgICAgICAgIGFjdGl2ZV9oaXN0b3J5OiBhY3RpdmVfaGlzdG9yeQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTgpOwogICAgfSkpKCk7CiAgfSwKICBxdWVyeV9jYXRlZ29yeV90aW1lX2J5X2hvdXI6IGZ1bmN0aW9uIHF1ZXJ5X2NhdGVnb3J5X3RpbWVfYnlfaG91cihfcmVmMTMsIF9yZWYxNCkgewogICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5KCkgewogICAgICB2YXIgY29tbWl0LCBzdGF0ZSwgdGltZXBlcmlvZCwgZmlsdGVyQ2F0ZWdvcmllcywgZmlsdGVyQUZLLCBwZXJpb2RzLCBjbGFzc2VzLCBkYXRhLCBjYXRlZ29yeV90aW1lX2J5X2hvdXI7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOSQoX2NvbnRleHQ5KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjEzLmNvbW1pdCwgc3RhdGUgPSBfcmVmMTMuc3RhdGU7CiAgICAgICAgICAgICAgdGltZXBlcmlvZCA9IF9yZWYxNC50aW1lcGVyaW9kLCBmaWx0ZXJDYXRlZ29yaWVzID0gX3JlZjE0LmZpbHRlckNhdGVnb3JpZXMsIGZpbHRlckFGSyA9IF9yZWYxNC5maWx0ZXJBRks7CiAgICAgICAgICAgICAgcGVyaW9kcyA9IHRpbWVwZXJpb2RzU3Ryc0hvdXJzT2ZEYXkodGltZXBlcmlvZCk7CiAgICAgICAgICAgICAgY2xhc3NlcyA9IGxvYWRDbGFzc2VzRm9yUXVlcnkoKTsKICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDY7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNS5fdm0uJGF3LnF1ZXJ5KHBlcmlvZHMsIHF1ZXJpZXMuaG91cmx5Q2F0ZWdvcnlRdWVyeSh7CiAgICAgICAgICAgICAgICBiaWRfYWZrOiBzdGF0ZS5idWNrZXRzLmFma1swXSwKICAgICAgICAgICAgICAgIGJpZF93aW5kb3c6IHN0YXRlLmJ1Y2tldHMud2luZG93WzBdLAogICAgICAgICAgICAgICAgYmlkX2Jyb3dzZXJzOiBzdGF0ZS5idWNrZXRzLmJyb3dzZXIsCiAgICAgICAgICAgICAgICBjbGFzc2VzOiBjbGFzc2VzLAogICAgICAgICAgICAgICAgZmlsdGVyX2FmazogZmlsdGVyQUZLLAogICAgICAgICAgICAgICAgZmlsdGVyX2NsYXNzZXM6IGZpbHRlckNhdGVnb3JpZXMKICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgZGF0YSA9IF9jb250ZXh0OS5zZW50OwogICAgICAgICAgICAgIGNhdGVnb3J5X3RpbWVfYnlfaG91ciA9IF96aXBPYmplY3QocGVyaW9kcywgZGF0YSk7CiAgICAgICAgICAgICAgY29tbWl0KCdxdWVyeV9jYXRlZ29yeV90aW1lX2J5X2hvdXJfY29tcGxldGVkJywgewogICAgICAgICAgICAgICAgY2F0ZWdvcnlfdGltZV9ieV9ob3VyOiBjYXRlZ29yeV90aW1lX2J5X2hvdXIKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU5KTsKICAgIH0pKSgpOwogIH0sCiAgcXVlcnlfYWN0aXZlX2hpc3RvcnlfYW5kcm9pZDogZnVuY3Rpb24gcXVlcnlfYWN0aXZlX2hpc3RvcnlfYW5kcm9pZChfcmVmMTUsIF9yZWYxNikgewogICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMCgpIHsKICAgICAgdmFyIGNvbW1pdCwgc3RhdGUsIHRpbWVwZXJpb2QsIHBlcmlvZHMsIGRhdGEsIGFjdGl2ZV9oaXN0b3J5OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwJChfY29udGV4dDEwKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMC5wcmV2ID0gX2NvbnRleHQxMC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMTUuY29tbWl0LCBzdGF0ZSA9IF9yZWYxNS5zdGF0ZTsKICAgICAgICAgICAgICB0aW1lcGVyaW9kID0gX3JlZjE2LnRpbWVwZXJpb2Q7CiAgICAgICAgICAgICAgcGVyaW9kcyA9IHRpbWVwZXJpb2RTdHJzQXJvdW5kVGltZXBlcmlvZCh0aW1lcGVyaW9kKS5maWx0ZXIoZnVuY3Rpb24gKHRwX3N0cikgewogICAgICAgICAgICAgICAgcmV0dXJuICFfaW5jbHVkZXMoc3RhdGUuYWN0aXZlLmhpc3RvcnksIHRwX3N0cik7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2Ll92bS4kYXcucXVlcnkocGVyaW9kcywgcXVlcmllcy5kYWlseUFjdGl2aXR5UXVlcnlBbmRyb2lkKHN0YXRlLmJ1Y2tldHMuYW5kcm9pZFswXSkpOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dDEwLnNlbnQ7CiAgICAgICAgICAgICAgYWN0aXZlX2hpc3RvcnkgPSBfemlwT2JqZWN0KHBlcmlvZHMsIGRhdGEpOwogICAgICAgICAgICAgIGFjdGl2ZV9oaXN0b3J5ID0gX21hcFZhbHVlcyhhY3RpdmVfaGlzdG9yeSwgZnVuY3Rpb24gKGR1cmF0aW9uLCBrZXkpIHsKICAgICAgICAgICAgICAgIHJldHVybiBbewogICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IGtleS5zcGxpdCgnLycpWzBdLAogICAgICAgICAgICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24sCiAgICAgICAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdub3QtYWZrJwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9XTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBjb21taXQoJ3F1ZXJ5X2FjdGl2ZV9oaXN0b3J5X2NvbXBsZXRlZCcsIHsKICAgICAgICAgICAgICAgIGFjdGl2ZV9oaXN0b3J5OiBhY3RpdmVfaGlzdG9yeQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUxMCk7CiAgICB9KSkoKTsKICB9LAogIHF1ZXJ5X2FjdGl2ZV9oaXN0b3J5X2VtcHR5OiBmdW5jdGlvbiBxdWVyeV9hY3RpdmVfaGlzdG9yeV9lbXB0eShfcmVmMTcpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcihyZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTEoKSB7CiAgICAgIHZhciBjb21taXQsIGRhdGE7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTEkKF9jb250ZXh0MTEpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDExLnByZXYgPSBfY29udGV4dDExLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYxNy5jb21taXQ7CiAgICAgICAgICAgICAgZGF0YSA9IFtdOwogICAgICAgICAgICAgIGNvbW1pdCgncXVlcnlfYWN0aXZlX2hpc3RvcnlfY29tcGxldGVkJywgZGF0YSk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTExKTsKICAgIH0pKSgpOwogIH0sCiAgc2V0X2F2YWlsYWJsZTogZnVuY3Rpb24gc2V0X2F2YWlsYWJsZShfcmVmMTgpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcihyZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTIoKSB7CiAgICAgIHZhciBjb21taXQsIHN0YXRlLCB3aW5kb3dfYXZhaWxhYmxlLCBicm93c2VyX2F2YWlsYWJsZSwgYWN0aXZlX2F2YWlsYWJsZSwgZWRpdG9yX2F2YWlsYWJsZSwgYW5kcm9pZF9hdmFpbGFibGU7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTIkKF9jb250ZXh0MTIpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDEyLnByZXYgPSBfY29udGV4dDEyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYxOC5jb21taXQsIHN0YXRlID0gX3JlZjE4LnN0YXRlOwogICAgICAgICAgICAgIHdpbmRvd19hdmFpbGFibGUgPSBzdGF0ZS5idWNrZXRzLmFmay5sZW5ndGggPiAwICYmIHN0YXRlLmJ1Y2tldHMud2luZG93Lmxlbmd0aCA+IDA7CiAgICAgICAgICAgICAgYnJvd3Nlcl9hdmFpbGFibGUgPSBzdGF0ZS5idWNrZXRzLmFmay5sZW5ndGggPiAwICYmIHN0YXRlLmJ1Y2tldHMud2luZG93Lmxlbmd0aCA+IDAgJiYgc3RhdGUuYnVja2V0cy5icm93c2VyLmxlbmd0aCA+IDA7CiAgICAgICAgICAgICAgYWN0aXZlX2F2YWlsYWJsZSA9IHN0YXRlLmJ1Y2tldHMuYWZrLmxlbmd0aCA+IDA7CiAgICAgICAgICAgICAgZWRpdG9yX2F2YWlsYWJsZSA9IHN0YXRlLmJ1Y2tldHMuZWRpdG9yLmxlbmd0aCA+IDA7CiAgICAgICAgICAgICAgYW5kcm9pZF9hdmFpbGFibGUgPSBzdGF0ZS5idWNrZXRzLmFuZHJvaWQubGVuZ3RoID4gMDsKICAgICAgICAgICAgICBjb21taXQoJ3NldF9hdmFpbGFibGUnLCB7CiAgICAgICAgICAgICAgICB3aW5kb3dfYXZhaWxhYmxlOiB3aW5kb3dfYXZhaWxhYmxlLAogICAgICAgICAgICAgICAgYnJvd3Nlcl9hdmFpbGFibGU6IGJyb3dzZXJfYXZhaWxhYmxlLAogICAgICAgICAgICAgICAgYWN0aXZlX2F2YWlsYWJsZTogYWN0aXZlX2F2YWlsYWJsZSwKICAgICAgICAgICAgICAgIGVkaXRvcl9hdmFpbGFibGU6IGVkaXRvcl9hdmFpbGFibGUsCiAgICAgICAgICAgICAgICBhbmRyb2lkX2F2YWlsYWJsZTogYW5kcm9pZF9hdmFpbGFibGUKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMTIpOwogICAgfSkpKCk7CiAgfSwKICBnZXRfYnVja2V0czogZnVuY3Rpb24gZ2V0X2J1Y2tldHMoX3JlZjE5LCBfcmVmMjApIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcihyZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTMoKSB7CiAgICAgIHZhciBjb21taXQsIHJvb3RHZXR0ZXJzLCBob3N0LCBidWNrZXRzOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEzJChfY29udGV4dDEzKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMy5wcmV2ID0gX2NvbnRleHQxMy5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMTkuY29tbWl0LCByb290R2V0dGVycyA9IF9yZWYxOS5yb290R2V0dGVyczsKICAgICAgICAgICAgICBob3N0ID0gX3JlZjIwLmhvc3Q7CiAgICAgICAgICAgICAgYnVja2V0cyA9IHsKICAgICAgICAgICAgICAgIGFmazogcm9vdEdldHRlcnNbJ2J1Y2tldHMvYWZrQnVja2V0c0J5SG9zdCddKGhvc3QpLAogICAgICAgICAgICAgICAgd2luZG93OiByb290R2V0dGVyc1snYnVja2V0cy93aW5kb3dCdWNrZXRzQnlIb3N0J10oaG9zdCksCiAgICAgICAgICAgICAgICBhbmRyb2lkOiByb290R2V0dGVyc1snYnVja2V0cy9hbmRyb2lkQnVja2V0c0J5SG9zdCddKGhvc3QpLAogICAgICAgICAgICAgICAgYnJvd3Nlcjogcm9vdEdldHRlcnNbJ2J1Y2tldHMvYnJvd3NlckJ1Y2tldHMnXSwKICAgICAgICAgICAgICAgIGVkaXRvcjogcm9vdEdldHRlcnNbJ2J1Y2tldHMvZWRpdG9yQnVja2V0cyddCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQXZhaWxhYmxlIGJ1Y2tldHM6ICcsIGJ1Y2tldHMpOwogICAgICAgICAgICAgIGNvbW1pdCgnYnVja2V0cycsIGJ1Y2tldHMpOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUxMyk7CiAgICB9KSkoKTsKICB9LAogIGxvYWRfZGVtbzogZnVuY3Rpb24gbG9hZF9kZW1vKF9yZWYyMSkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNCgpIHsKICAgICAgdmFyIGNvbW1pdCwgZ3JvdXBTdW1FdmVudHNCeSwgYXBwX2V2ZW50cywgdGl0bGVfZXZlbnRzLCBjYXRfZXZlbnRzLCB1cmxfZXZlbnRzLCBkb21haW5fZXZlbnRzLCBidWlsZF9hY3RpdmVfaGlzdG9yeTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNCQoX2NvbnRleHQxNCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTQucHJldiA9IF9jb250ZXh0MTQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgYnVpbGRfYWN0aXZlX2hpc3RvcnkgPSBmdW5jdGlvbiBfYnVpbGRfYWN0aXZlX2hpc3RvcnkoKSB7CiAgICAgICAgICAgICAgICB2YXIgYWN0aXZlX2hpc3RvcnkgPSB7fTsKICAgICAgICAgICAgICAgIHZhciBjdXJyZW50X2RheSA9IG1vbWVudChnZXRfZGF5X3N0YXJ0X3dpdGhfb2Zmc2V0KCkpOwoKICAgICAgICAgICAgICAgIF9tYXAoX3JhbmdlKDAsIDMwKSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgY3VycmVudF9kYXlfZW5kID0gbW9tZW50KGN1cnJlbnRfZGF5KS5hZGQoMSwgJ2RheScpOwogICAgICAgICAgICAgICAgICBhY3RpdmVfaGlzdG9yeVsiIi5jb25jYXQoY3VycmVudF9kYXkuZm9ybWF0KCksICIvIikuY29uY2F0KGN1cnJlbnRfZGF5X2VuZC5mb3JtYXQoKSldID0gW3sKICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IGN1cnJlbnRfZGF5LmZvcm1hdCgpLAogICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAgKyA5MDAgKiBNYXRoLnJhbmRvbSgpLAogICAgICAgICAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ25vdC1hZmsnCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9XTsKICAgICAgICAgICAgICAgICAgY3VycmVudF9kYXkgPSBjdXJyZW50X2RheS5hZGQoLTEsICdkYXknKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIHJldHVybiBhY3RpdmVfaGlzdG9yeTsKICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICBncm91cFN1bUV2ZW50c0J5ID0gZnVuY3Rpb24gX2dyb3VwU3VtRXZlbnRzQnkoZXZlbnRzLCBrZXksIGYpIHsKICAgICAgICAgICAgICAgIHJldHVybiBfZmxvdyhfZmlsdGVyMihmKSwgX2dyb3VwQnkoZiksIF92YWx1ZXMsIF9tYXAyKGZ1bmN0aW9uIChlcykgewogICAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBfc3VtQnkoZXMsICdkdXJhdGlvbicpLAogICAgICAgICAgICAgICAgICAgIGRhdGE6IF9kZWZpbmVQcm9wZXJ0eSh7fSwga2V5LCBmKGVzWzBdKSkKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0pLCBfc29ydEJ5KCdkdXJhdGlvbicpLCBfcmV2ZXJzZSkoZXZlbnRzKTsKICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMjEuY29tbWl0OwogICAgICAgICAgICAgIGNvbW1pdCgnc3RhcnRfbG9hZGluZycsIHt9KTsKICAgICAgICAgICAgICBhcHBfZXZlbnRzID0gZ3JvdXBTdW1FdmVudHNCeSh3aW5kb3dfZXZlbnRzLCAnYXBwJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIHJldHVybiBlLmRhdGEuYXBwOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHRpdGxlX2V2ZW50cyA9IGdyb3VwU3VtRXZlbnRzQnkod2luZG93X2V2ZW50cywgJ3RpdGxlJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIHJldHVybiBlLmRhdGEudGl0bGU7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgY2F0X2V2ZW50cyA9IGdyb3VwU3VtRXZlbnRzQnkod2luZG93X2V2ZW50cywgJyRjYXRlZ29yeScsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZS5kYXRhLiRjYXRlZ29yeTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB1cmxfZXZlbnRzID0gZ3JvdXBTdW1FdmVudHNCeSh3aW5kb3dfZXZlbnRzLCAndXJsJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIHJldHVybiBlLmRhdGEudXJsOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGRvbWFpbl9ldmVudHMgPSBncm91cFN1bUV2ZW50c0J5KHdpbmRvd19ldmVudHMsICckZG9tYWluJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIHJldHVybiBlLmRhdGEudXJsID09PSB1bmRlZmluZWQgPyAnJyA6IG5ldyBVUkwoZS5kYXRhLnVybCkuaG9zdDsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBjb21taXQoJ3F1ZXJ5X3dpbmRvd19jb21wbGV0ZWQnLCB7CiAgICAgICAgICAgICAgICBkdXJhdGlvbjogX3N1bUJ5KHdpbmRvd19ldmVudHMsICdkdXJhdGlvbicpLAogICAgICAgICAgICAgICAgYXBwX2V2ZW50czogYXBwX2V2ZW50cywKICAgICAgICAgICAgICAgIHRpdGxlX2V2ZW50czogdGl0bGVfZXZlbnRzLAogICAgICAgICAgICAgICAgY2F0X2V2ZW50czogY2F0X2V2ZW50cywKICAgICAgICAgICAgICAgIGFjdGl2ZV9ldmVudHM6IFt7CiAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLAogICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMS41ICogNjAgKiA2MCwKICAgICAgICAgICAgICAgICAgZGF0YTogewogICAgICAgICAgICAgICAgICAgIGFmazogJ25vdC1hZmsnCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH1dCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgY29tbWl0KCdicm93c2VyX2J1Y2tldHMnLCBbJ2F3LXdhdGNoZXItZmlyZWZveCddKTsKICAgICAgICAgICAgICBjb21taXQoJ3F1ZXJ5X2Jyb3dzZXJfY29tcGxldGVkJywgewogICAgICAgICAgICAgICAgZHVyYXRpb246IF9zdW1CeSh1cmxfZXZlbnRzLCAnZHVyYXRpb24nKSwKICAgICAgICAgICAgICAgIGRvbWFpbnM6IGRvbWFpbl9ldmVudHMsCiAgICAgICAgICAgICAgICB1cmxzOiB1cmxfZXZlbnRzCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgY29tbWl0KCdlZGl0b3JfYnVja2V0cycsIFsnYXctd2F0Y2hlci12aW0nXSk7CiAgICAgICAgICAgICAgY29tbWl0KCdxdWVyeV9lZGl0b3JfY29tcGxldGVkJywgewogICAgICAgICAgICAgICAgZHVyYXRpb246IDMwLAogICAgICAgICAgICAgICAgZmlsZXM6IFt7CiAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMCwKICAgICAgICAgICAgICAgICAgZGF0YTogewogICAgICAgICAgICAgICAgICAgIGZpbGU6ICd0ZXN0LnB5JwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9XSwKICAgICAgICAgICAgICAgIGxhbmd1YWdlczogW3sKICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDEwLAogICAgICAgICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgICAgICAgbGFuZ3VhZ2U6ICdweXRob24nCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH1dLAogICAgICAgICAgICAgICAgcHJvamVjdHM6IFt7CiAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMCwKICAgICAgICAgICAgICAgICAgZGF0YTogewogICAgICAgICAgICAgICAgICAgIHByb2plY3Q6ICdhdy1jb3JlJwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9XQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGNvbW1pdCgncXVlcnlfYWN0aXZlX2hpc3RvcnlfY29tcGxldGVkJywgewogICAgICAgICAgICAgICAgYWN0aXZlX2hpc3Rvcnk6IGJ1aWxkX2FjdGl2ZV9oaXN0b3J5KCkKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTE0KTsKICAgIH0pKSgpOwogIH0KfTsKdmFyIG11dGF0aW9ucyA9IHsKICBzdGFydF9sb2FkaW5nOiBmdW5jdGlvbiBzdGFydF9sb2FkaW5nKHN0YXRlLCBxdWVyeV9vcHRpb25zKSB7CiAgICBzdGF0ZS5sb2FkZWQgPSB0cnVlOwogICAgc3RhdGUucXVlcnlfb3B0aW9ucyA9IHF1ZXJ5X29wdGlvbnM7CiAgICBzdGF0ZS53aW5kb3cudG9wX2FwcHMgPSBudWxsOwogICAgc3RhdGUud2luZG93LnRvcF90aXRsZXMgPSBudWxsOwogICAgc3RhdGUuYnJvd3Nlci5kdXJhdGlvbiA9IDA7CiAgICBzdGF0ZS5icm93c2VyLnRvcF9kb21haW5zID0gbnVsbDsKICAgIHN0YXRlLmJyb3dzZXIudG9wX3VybHMgPSBudWxsOwogICAgc3RhdGUuZWRpdG9yLmR1cmF0aW9uID0gMDsKICAgIHN0YXRlLmVkaXRvci50b3BfZmlsZXMgPSBudWxsOwogICAgc3RhdGUuZWRpdG9yLnRvcF9sYW5ndWFnZXMgPSBudWxsOwogICAgc3RhdGUuZWRpdG9yLnRvcF9wcm9qZWN0cyA9IG51bGw7CiAgICBzdGF0ZS5jYXRlZ29yeS50b3AgPSBudWxsOwogICAgc3RhdGUuYWN0aXZlLmR1cmF0aW9uID0gbnVsbDsKCiAgICBpZiAoT2JqZWN0LmtleXMoc3RhdGUuYWN0aXZlLmhpc3RvcnkpLmxlbmd0aCA9PT0gMCkgewogICAgICBzdGF0ZS5hY3RpdmUuaGlzdG9yeSA9IHt9OwogICAgfQogIH0sCiAgc2V0X2F2YWlsYWJsZTogZnVuY3Rpb24gc2V0X2F2YWlsYWJsZShzdGF0ZSwgZGF0YSkgewogICAgc3RhdGUud2luZG93LmF2YWlsYWJsZSA9IGRhdGFbJ3dpbmRvd19hdmFpbGFibGUnXTsKICAgIHN0YXRlLmJyb3dzZXIuYXZhaWxhYmxlID0gZGF0YVsnYnJvd3Nlcl9hdmFpbGFibGUnXTsKICAgIHN0YXRlLmFjdGl2ZS5hdmFpbGFibGUgPSBkYXRhWydhY3RpdmVfYXZhaWxhYmxlJ107CiAgICBzdGF0ZS5lZGl0b3IuYXZhaWxhYmxlID0gZGF0YVsnZWRpdG9yX2F2YWlsYWJsZSddOwogICAgc3RhdGUuY2F0ZWdvcnkuYXZhaWxhYmxlID0gZGF0YVsnd2luZG93X2F2YWlsYWJsZSddIHx8IGRhdGFbJ2FuZHJvaWRfYXZhaWxhYmxlJ107CiAgICBzdGF0ZS5hbmRyb2lkLmF2YWlsYWJsZSA9IGRhdGFbJ2FuZHJvaWRfYXZhaWxhYmxlJ107CiAgfSwKICBxdWVyeV93aW5kb3dfY29tcGxldGVkOiBmdW5jdGlvbiBxdWVyeV93aW5kb3dfY29tcGxldGVkKHN0YXRlLCBkYXRhKSB7CiAgICBzdGF0ZS53aW5kb3cudG9wX2FwcHMgPSBkYXRhWydhcHBfZXZlbnRzJ107CiAgICBzdGF0ZS53aW5kb3cudG9wX3RpdGxlcyA9IGRhdGFbJ3RpdGxlX2V2ZW50cyddOwogICAgc3RhdGUuY2F0ZWdvcnkudG9wID0gZGF0YVsnY2F0X2V2ZW50cyddOwogICAgc3RhdGUuYWN0aXZlLmR1cmF0aW9uID0gZGF0YVsnZHVyYXRpb24nXTsKICAgIHN0YXRlLmFjdGl2ZS5ldmVudHMgPSBkYXRhWydhY3RpdmVfZXZlbnRzJ107CiAgfSwKICBxdWVyeV9icm93c2VyX2NvbXBsZXRlZDogZnVuY3Rpb24gcXVlcnlfYnJvd3Nlcl9jb21wbGV0ZWQoc3RhdGUsIGRhdGEpIHsKICAgIHN0YXRlLmJyb3dzZXIudG9wX2RvbWFpbnMgPSBkYXRhLmRvbWFpbnM7CiAgICBzdGF0ZS5icm93c2VyLnRvcF91cmxzID0gZGF0YS51cmxzOwogICAgc3RhdGUuYnJvd3Nlci5kdXJhdGlvbiA9IGRhdGEuZHVyYXRpb247CiAgICBzdGF0ZS53ZWJfY2h1bmtzID0gZGF0YVsnY2h1bmtzJ107CiAgfSwKICBxdWVyeV9lZGl0b3JfY29tcGxldGVkOiBmdW5jdGlvbiBxdWVyeV9lZGl0b3JfY29tcGxldGVkKHN0YXRlLCBkYXRhKSB7CiAgICBzdGF0ZS5lZGl0b3IuZHVyYXRpb24gPSBkYXRhWydkdXJhdGlvbiddOwogICAgc3RhdGUuZWRpdG9yLnRvcF9maWxlcyA9IGRhdGFbJ2ZpbGVzJ107CiAgICBzdGF0ZS5lZGl0b3IudG9wX2xhbmd1YWdlcyA9IGRhdGFbJ2xhbmd1YWdlcyddOwogICAgc3RhdGUuZWRpdG9yLnRvcF9wcm9qZWN0cyA9IGRhdGFbJ3Byb2plY3RzJ107CiAgfSwKICBxdWVyeV9hY3RpdmVfaGlzdG9yeV9jb21wbGV0ZWQ6IGZ1bmN0aW9uIHF1ZXJ5X2FjdGl2ZV9oaXN0b3J5X2NvbXBsZXRlZChzdGF0ZSwgX3JlZjIyKSB7CiAgICB2YXIgYWN0aXZlX2hpc3RvcnkgPSBfcmVmMjIuYWN0aXZlX2hpc3Rvcnk7CiAgICBzdGF0ZS5hY3RpdmUuaGlzdG9yeSA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgc3RhdGUuYWN0aXZlLmhpc3RvcnkpLCBhY3RpdmVfaGlzdG9yeSk7CiAgfSwKICBxdWVyeV9jYXRlZ29yeV90aW1lX2J5X2hvdXJfY29tcGxldGVkOiBmdW5jdGlvbiBxdWVyeV9jYXRlZ29yeV90aW1lX2J5X2hvdXJfY29tcGxldGVkKHN0YXRlLCBfcmVmMjMpIHsKICAgIHZhciBjYXRlZ29yeV90aW1lX2J5X2hvdXIgPSBfcmVmMjMuY2F0ZWdvcnlfdGltZV9ieV9ob3VyOwogICAgc3RhdGUuY2F0ZWdvcnkuYnlfaG91ciA9IGNhdGVnb3J5X3RpbWVfYnlfaG91cjsKICB9LAogIGJ1Y2tldHM6IGZ1bmN0aW9uIGJ1Y2tldHMoc3RhdGUsIGRhdGEpIHsKICAgIHN0YXRlLmJ1Y2tldHMgPSBkYXRhOwogICAgc3RhdGUuYnVja2V0cy5sb2FkZWQgPSB0cnVlOwogIH0KfTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IF9zdGF0ZSwKICBnZXR0ZXJzOiBnZXR0ZXJzLAogIGFjdGlvbnM6IGFjdGlvbnMsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMKfTs="},{"version":3,"sources":["/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/eslint-loader/index.js??ref--12-0!/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/src/store/modules/activity.ts"],"names":[],"mappings":"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","sourcesContent":["import moment from 'moment';\nimport { unitOfTime } from 'moment';\nimport * as _ from 'lodash';\nimport { map, filter, values, groupBy, sortBy, flow, reverse } from 'lodash/fp';\n\nimport { window_events } from '~/util/fakedata';\nimport queries from '~/queries';\nimport { getColorFromCategory } from '~/util/color';\nimport { loadClassesForQuery } from '~/util/classes';\nimport { get_day_start_with_offset } from '~/util/time';\n\ninterface TimePeriod {\n  start: string;\n  length: [number, string];\n}\n\nfunction dateToTimeperiod(date: string, duration?: [number, string]): TimePeriod {\n  return { start: get_day_start_with_offset(date), length: duration || [1, 'day'] };\n}\n\nfunction timeperiodToStr(tp: TimePeriod): string {\n  const start = moment(tp.start).format();\n  const end = moment(start)\n    .add(tp.length[0], tp.length[1] as moment.unitOfTime.DurationConstructor)\n    .format();\n  return [start, end].join('/');\n}\n\ninterface QueryOptions {\n  host: string;\n  date?: string;\n  timeperiod?: TimePeriod;\n  filterAFK?: boolean;\n  includeAudible?: boolean;\n  filterCategories?: string[][];\n  force?: boolean;\n}\n\n// initial state\nconst _state = {\n  // set to true once loading has started\n  loaded: false,\n\n  window: {\n    available: false,\n    top_apps: [],\n    top_titles: [],\n  },\n\n  browser: {\n    available: false,\n    duration: [],\n    top_domains: [],\n    top_urls: [],\n  },\n\n  editor: {\n    available: false,\n    duration: [],\n    top_files: [],\n    top_languages: [],\n    top_projects: [],\n  },\n\n  category: {\n    available: false,\n    by_hour: [],\n    top: [],\n  },\n\n  active: {\n    available: false,\n    duration: 0,\n    // non-afk events (no detail data) for the current period\n    events: [],\n    // Aggregated events for current and past periods\n    history: {},\n  },\n\n  android: {\n    available: false,\n  },\n\n  query_options: {\n    browser_buckets: 'all',\n    editor_buckets: 'all',\n  },\n\n  buckets: {\n    loaded: false,\n    afk: [],\n    window: [],\n    editor: [],\n    browser: [],\n    android: [],\n  },\n};\n\nfunction timeperiodsAroundTimeperiod(timeperiod: TimePeriod): TimePeriod[] {\n  const periods = [];\n  for (let i = -15; i <= 15; i++) {\n    const start = moment(timeperiod.start)\n      .add(i * timeperiod.length[0], timeperiod.length[1] as moment.unitOfTime.DurationConstructor)\n      .format();\n    periods.push({ ...timeperiod, start });\n  }\n  return periods;\n}\n\nfunction timeperiodsHoursOfDay(timeperiod: TimePeriod): TimePeriod[] {\n  const periods = [];\n  const _length: [number, string] = [1, 'hour'];\n  for (let i = 0; i < 24; i++) {\n    const start = moment(timeperiod.start)\n      .add(i * _length[0], _length[1] as moment.unitOfTime.DurationConstructor)\n      .format();\n    periods.push({ start, length: _length });\n  }\n  // const periods = _.range(24).map(i => [TimePeriod(moment(i * 1 + dayOffset), [1, 'hour'])]);\n  return periods;\n}\n\nfunction timeperiodsStrsHoursOfDay(timeperiod: TimePeriod): string[] {\n  return timeperiodsHoursOfDay(timeperiod).map(timeperiodToStr);\n}\n\nfunction timeperiodStrsAroundTimeperiod(timeperiod: TimePeriod): string[] {\n  return timeperiodsAroundTimeperiod(timeperiod).map(timeperiodToStr);\n}\n\n// getters\nconst getters = {\n  getActiveHistoryAroundTimeperiod: state => (timeperiod: TimePeriod) => {\n    const periods = timeperiodStrsAroundTimeperiod(timeperiod);\n    const _history = periods.map(tp => {\n      if (_.has(state.active.history, tp)) {\n        return state.active.history[tp];\n      } else {\n        // A zero-duration placeholder until new data has been fetched\n        return [{ timestamp: moment(tp.split('/')[0]).format(), duration: 0, data: {} }];\n      }\n    });\n    return _history;\n  },\n};\n\n// actions\nconst actions = {\n  async ensure_loaded({ commit, state, dispatch }, query_options: QueryOptions) {\n    console.info('Query options: ', query_options);\n    if (!state.loaded || state.query_options !== query_options || query_options.force) {\n      commit('start_loading', query_options);\n      if (!query_options.timeperiod) {\n        query_options.timeperiod = dateToTimeperiod(query_options.date);\n      }\n\n      await dispatch('buckets/ensureBuckets', null, { root: true });\n      await dispatch('get_buckets', query_options);\n\n      // TODO: These queries can actually run in parallel, but since server won't process them in parallel anyway we won't.\n      await dispatch('set_available', query_options);\n\n      if (state.window.available) {\n        await dispatch('query_desktop_full', query_options);\n        await dispatch('query_category_time_by_hour', query_options);\n      } else if (state.android.available) {\n        await dispatch('query_android', query_options);\n      } else {\n        console.log(\n          'Cannot query windows as we are missing either an afk/window bucket pair or an android bucket'\n        );\n        await dispatch('query_window_empty', query_options);\n        await dispatch('query_browser_empty', query_options);\n      }\n\n      if (state.active.available) {\n        await dispatch('query_active_history', query_options);\n      } else if (state.android.available) {\n        await dispatch('query_active_history_android', query_options);\n      } else {\n        console.log('Cannot call query_active_history as we do not have an afk bucket');\n        await dispatch('query_active_history_empty', query_options);\n      }\n\n      if (state.editor.available) {\n        await dispatch('query_editor', query_options);\n      } else {\n        console.log('Cannot call query_editor as we do not have any editor buckets');\n        await dispatch('query_editor_empty', query_options);\n      }\n    } else {\n      console.warn(\n        'ensure_loaded called twice with same query_options but without query_options.force = true, skipping...'\n      );\n    }\n  },\n\n  async query_android({ state, commit }, { timeperiod, filterCategories }: QueryOptions) {\n    const periods = [timeperiodToStr(timeperiod)];\n    const classes = loadClassesForQuery();\n    const q = queries.appQuery(state.buckets.android[0], classes, filterCategories);\n    const data = await this._vm.$aw.query(periods, q).catch(this.errorHandler);\n    commit('query_window_completed', data[0]);\n  },\n\n  async query_window_empty({ commit }) {\n    const data = {\n      app_events: [],\n      title_events: [],\n      cat_events: [],\n      active_events: [],\n      duration: 0,\n    };\n    commit('query_window_completed', data);\n  },\n\n  async query_desktop_full(\n    { state, commit, rootState, rootGetters },\n    { timeperiod, filterCategories, filterAFK, includeAudible }: QueryOptions\n  ) {\n    const periods = [timeperiodToStr(timeperiod)];\n    const classes = loadClassesForQuery();\n    const q = queries.fullDesktopQuery(\n      state.buckets.browser,\n      state.buckets.window[0],\n      state.buckets.afk[0],\n      filterAFK,\n      classes,\n      filterCategories,\n      includeAudible\n    );\n    const data = await this._vm.$aw.query(periods, q);\n\n    const data_window = data[0].window;\n    const data_browser = data[0].browser;\n\n    // Set $color for categories\n    data_window.cat_events = data[0].window['cat_events'].map(e => {\n      const cat = rootGetters['categories/get_category'](e.data['$category']);\n      e.data['$color'] = getColorFromCategory(cat, rootState.categories.classes);\n      return e;\n    });\n\n    commit('query_window_completed', data_window);\n    commit('query_browser_completed', data_browser);\n  },\n\n  async query_browser_empty({ commit }) {\n    const data = {\n      domains: [],\n      urls: [],\n      duration: 0,\n    };\n    commit('query_browser_completed', data);\n  },\n\n  async query_editor({ state, commit }, { timeperiod }) {\n    const periods = [timeperiodToStr(timeperiod)];\n    const q = queries.editorActivityQuery(state.buckets.editor);\n    const data = await this._vm.$aw.query(periods, q);\n    commit('query_editor_completed', data[0]);\n  },\n\n  async query_editor_empty({ commit }) {\n    const data = {\n      files: [],\n      projects: [],\n      languages: [],\n    };\n    commit('query_editor_completed', data);\n  },\n\n  async query_active_history({ commit, state }, { timeperiod }: QueryOptions) {\n    const periods = timeperiodStrsAroundTimeperiod(timeperiod).filter(tp_str => {\n      return !_.includes(state.active.history, tp_str);\n    });\n    const data = await this._vm.$aw.query(\n      periods,\n      queries.dailyActivityQuery(state.buckets.afk[0])\n    );\n    const active_history = _.zipObject(\n      periods,\n      _.map(data, pair => _.filter(pair, e => e.data.status == 'not-afk'))\n    );\n    commit('query_active_history_completed', { active_history });\n  },\n\n  async query_category_time_by_hour(\n    { commit, state },\n    { timeperiod, filterCategories, filterAFK }: QueryOptions\n  ) {\n    // TODO: Only works for the 1 day timeperiod\n    // TODO: Needs to be adapted for Android\n    const periods = timeperiodsStrsHoursOfDay(timeperiod);\n    const classes = loadClassesForQuery();\n    const data = await this._vm.$aw.query(\n      periods,\n      // TODO: Clean up call, pass QueryParams in fullDesktopQuery as well\n      // TODO: Unify QueryOptions and QueryParams\n      queries.hourlyCategoryQuery({\n        bid_afk: state.buckets.afk[0],\n        bid_window: state.buckets.window[0],\n        bid_browsers: state.buckets.browser,\n        // bid_android: state.buckets.android,\n        classes: classes,\n        filter_afk: filterAFK,\n        filter_classes: filterCategories,\n      })\n    );\n    const category_time_by_hour = _.zipObject(periods, data);\n    commit('query_category_time_by_hour_completed', { category_time_by_hour });\n  },\n\n  async query_active_history_android({ commit, state }, { timeperiod }: QueryOptions) {\n    const periods = timeperiodStrsAroundTimeperiod(timeperiod).filter(tp_str => {\n      return !_.includes(state.active.history, tp_str);\n    });\n    const data = await this._vm.$aw.query(\n      periods,\n      queries.dailyActivityQueryAndroid(state.buckets.android[0])\n    );\n    let active_history = _.zipObject(periods, data);\n    active_history = _.mapValues(active_history, (duration, key) => {\n      return [{ timestamp: key.split('/')[0], duration, data: { status: 'not-afk' } }];\n    });\n    commit('query_active_history_completed', { active_history });\n  },\n\n  async query_active_history_empty({ commit }) {\n    const data = [];\n    commit('query_active_history_completed', data);\n  },\n\n  async set_available({ commit, state }) {\n    const window_available = state.buckets.afk.length > 0 && state.buckets.window.length > 0;\n    const browser_available =\n      state.buckets.afk.length > 0 &&\n      state.buckets.window.length > 0 &&\n      state.buckets.browser.length > 0;\n    const active_available = state.buckets.afk.length > 0;\n    const editor_available = state.buckets.editor.length > 0;\n    const android_available = state.buckets.android.length > 0;\n    commit('set_available', {\n      window_available: window_available,\n      browser_available: browser_available,\n      active_available: active_available,\n      editor_available: editor_available,\n      android_available: android_available,\n    });\n  },\n\n  async get_buckets({ commit, rootGetters }, { host }) {\n    const buckets = {\n      afk: rootGetters['buckets/afkBucketsByHost'](host),\n      window: rootGetters['buckets/windowBucketsByHost'](host),\n      android: rootGetters['buckets/androidBucketsByHost'](host),\n      browser: rootGetters['buckets/browserBuckets'],\n      editor: rootGetters['buckets/editorBuckets'],\n    };\n    console.log('Available buckets: ', buckets);\n    commit('buckets', buckets);\n  },\n\n  async load_demo({ commit }) {\n    // A function to load some demo data (for screenshots and stuff)\n    commit('start_loading', {});\n\n    function groupSumEventsBy(events, key, f) {\n      return flow(\n        filter(f),\n        groupBy(f),\n        values,\n        map((es: any) => {\n          return { duration: _.sumBy(es, 'duration'), data: { [key]: f(es[0]) } };\n        }),\n        sortBy('duration'),\n        reverse\n      )(events);\n    }\n\n    const app_events = groupSumEventsBy(window_events, 'app', (e: any) => e.data.app);\n    const title_events = groupSumEventsBy(window_events, 'title', (e: any) => e.data.title);\n    const cat_events = groupSumEventsBy(window_events, '$category', (e: any) => e.data.$category);\n    const url_events = groupSumEventsBy(window_events, 'url', (e: any) => e.data.url);\n    const domain_events = groupSumEventsBy(window_events, '$domain', (e: any) =>\n      e.data.url === undefined ? '' : new URL(e.data.url).host\n    );\n\n    commit('query_window_completed', {\n      duration: _.sumBy(window_events, 'duration'),\n      app_events,\n      title_events,\n      cat_events,\n      active_events: [\n        { timestamp: new Date().toISOString(), duration: 1.5 * 60 * 60, data: { afk: 'not-afk' } },\n      ],\n    });\n\n    commit('browser_buckets', ['aw-watcher-firefox']);\n    commit('query_browser_completed', {\n      duration: _.sumBy(url_events, 'duration'),\n      domains: domain_events,\n      urls: url_events,\n    });\n\n    commit('editor_buckets', ['aw-watcher-vim']);\n    commit('query_editor_completed', {\n      duration: 30,\n      files: [{ duration: 10, data: { file: 'test.py' } }],\n      languages: [{ duration: 10, data: { language: 'python' } }],\n      projects: [{ duration: 10, data: { project: 'aw-core' } }],\n    });\n\n    function build_active_history() {\n      const active_history = {};\n      let current_day = moment(get_day_start_with_offset());\n      _.map(_.range(0, 30), () => {\n        const current_day_end = moment(current_day).add(1, 'day');\n        active_history[`${current_day.format()}/${current_day_end.format()}`] = [\n          {\n            timestamp: current_day.format(),\n            duration: 100 + 900 * Math.random(),\n            data: { status: 'not-afk' },\n          },\n        ];\n        current_day = current_day.add(-1, 'day');\n      });\n      return active_history;\n    }\n    commit('query_active_history_completed', { active_history: build_active_history() });\n  },\n};\n\n// mutations\nconst mutations = {\n  start_loading(state, query_options: QueryOptions) {\n    state.loaded = true;\n    state.query_options = query_options;\n\n    // Resets the store state while waiting for new query to finish\n    state.window.top_apps = null;\n    state.window.top_titles = null;\n\n    state.browser.duration = 0;\n    state.browser.top_domains = null;\n    state.browser.top_urls = null;\n\n    state.editor.duration = 0;\n    state.editor.top_files = null;\n    state.editor.top_languages = null;\n    state.editor.top_projects = null;\n\n    state.category.top = null;\n\n    state.active.duration = null;\n\n    // Ensures that active history isn't being fully reloaded on every date change\n    // (see caching done in query_active_history and query_active_history_android)\n    // FIXME: Better detection of when to actually clear (such as on force reload, hostname change)\n    if (Object.keys(state.active.history).length === 0) {\n      state.active.history = {};\n    }\n  },\n\n  set_available(state, data) {\n    state.window.available = data['window_available'];\n    state.browser.available = data['browser_available'];\n    state.active.available = data['active_available'];\n    state.editor.available = data['editor_available'];\n    state.category.available = data['window_available'] || data['android_available'];\n    state.android.available = data['android_available'];\n  },\n\n  query_window_completed(state, data) {\n    state.window.top_apps = data['app_events'];\n    state.window.top_titles = data['title_events'];\n    state.category.top = data['cat_events'];\n    state.active.duration = data['duration'];\n    state.active.events = data['active_events'];\n  },\n\n  query_browser_completed(state, data) {\n    state.browser.top_domains = data.domains;\n    state.browser.top_urls = data.urls;\n    state.browser.duration = data.duration;\n\n    // FIXME: This one might take up a lot of size in the request, move it to a seperate request\n    // (or remove entirely, since we have the other timeline now)\n    state.web_chunks = data['chunks'];\n  },\n\n  query_editor_completed(state, data) {\n    state.editor.duration = data['duration'];\n    state.editor.top_files = data['files'];\n    state.editor.top_languages = data['languages'];\n    state.editor.top_projects = data['projects'];\n  },\n\n  query_active_history_completed(state, { active_history }) {\n    state.active.history = {\n      ...state.active.history,\n      ...active_history,\n    };\n  },\n\n  query_category_time_by_hour_completed(state, { category_time_by_hour }) {\n    state.category.by_hour = category_time_by_hour;\n  },\n\n  buckets(state, data) {\n    state.buckets = data;\n    state.buckets.loaded = true;\n  },\n};\n\nexport default {\n  namespaced: true,\n  state: _state,\n  getters,\n  actions,\n  mutations,\n};\n"],"sourceRoot":""}]}