{"remainingRequest":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/thread-loader/dist/cjs.js!/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/babel-loader/lib/index.js!/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--13-3!/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/src/visualizations/TimelineBarChart.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/src/visualizations/TimelineBarChart.vue","mtime":1622830085278},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL2hvbWUvamFza2FyYW4vY29kZS9qYXNrYXJhbi9hY3Rpdml0eXdhdGNoL2F3LXNlcnZlci1ydXN0L2F3LXdlYnVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL2hvbWUvamFza2FyYW4vY29kZS9qYXNrYXJhbi9hY3Rpdml0eXdhdGNoL2F3LXNlcnZlci1ydXN0L2F3LXdlYnVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiL2hvbWUvamFza2FyYW4vY29kZS9qYXNrYXJhbi9hY3Rpdml0eXdhdGNoL2F3LXNlcnZlci1ydXN0L2F3LXdlYnVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cyI7CmltcG9ydCBfY3JlYXRlU3VwZXIgZnJvbSAiL2hvbWUvamFza2FyYW4vY29kZS9qYXNrYXJhbi9hY3Rpdml0eXdhdGNoL2F3LXNlcnZlci1ydXN0L2F3LXdlYnVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlciI7CmltcG9ydCBfcmFuZ2UgZnJvbSAibG9kYXNoL3JhbmdlIjsKaW1wb3J0IHsgX19kZWNvcmF0ZSwgX19tZXRhZGF0YSB9IGZyb20gInRzbGliIjsKaW1wb3J0IHsgQmFyIH0gZnJvbSAndnVlLWNoYXJ0anMnOwppbXBvcnQgeyBWdWUsIENvbXBvbmVudCwgUHJvcCwgV2F0Y2ggfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJzsKaW1wb3J0IHsgZ2V0X2hvdXJfb2Zmc2V0IH0gZnJvbSAnfi91dGlsL3RpbWUnOwoKdmFyIENoYXJ0VGltZWxpbmVCYXJzID0gZnVuY3Rpb24gKF9WdWUpIHsKICBfaW5oZXJpdHMoQ2hhcnRUaW1lbGluZUJhcnMsIF9WdWUpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKENoYXJ0VGltZWxpbmVCYXJzKTsKCiAgZnVuY3Rpb24gQ2hhcnRUaW1lbGluZUJhcnMoKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2hhcnRUaW1lbGluZUJhcnMpOwoKICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzKTsKICB9CgogIF9jcmVhdGVDbGFzcyhDaGFydFRpbWVsaW5lQmFycywgW3sKICAgIGtleTogIm1vdW50ZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAgIHRoaXMucmVuZGVyRGF0YSgpOwogICAgfQogIH0sIHsKICAgIGtleTogIm9uRGF0YXNldENoYW5nZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25EYXRhc2V0Q2hhbmdlKCkgewogICAgICB0aGlzLnJlbmRlckRhdGEoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW5kZXJEYXRhIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJEYXRhKCkgewogICAgICB2YXIgaG91ck9mZnNldCA9IGdldF9ob3VyX29mZnNldCgpOwogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICBsYWJlbHM6IF9yYW5nZSgwLCAyNCkubWFwKGZ1bmN0aW9uIChoKSB7CiAgICAgICAgICByZXR1cm4gIiIuY29uY2F0KChoICsgaG91ck9mZnNldCkgJSAyNCk7CiAgICAgICAgfSksCiAgICAgICAgZGF0YXNldHM6IHRoaXMuZGF0YXNldHMsCiAgICAgICAgdGl0bGU6IHsKICAgICAgICAgIGRpc3BsYXk6IHRydWUsCiAgICAgICAgICB0ZXh0OiAnVGltZWxpbmUnCiAgICAgICAgfSwKICAgICAgICByZXNwb25zaXZlOiB0cnVlLAogICAgICAgIG1haW50YWluQXNwZWN0UmF0aW86IGZhbHNlCiAgICAgIH07CiAgICAgIHZhciBvcHRpb25zID0gewogICAgICAgIHNraXBOdWxsOiB0cnVlLAogICAgICAgIHRvb2x0aXBzOiB7CiAgICAgICAgICBtb2RlOiAncG9pbnQnLAogICAgICAgICAgaW50ZXJzZWN0OiBmYWxzZQogICAgICAgIH0sCiAgICAgICAgbGVnZW5kOiB7CiAgICAgICAgICBkaXNwbGF5OiBmYWxzZQogICAgICAgIH0sCiAgICAgICAgc2NhbGVzOiB7CiAgICAgICAgICB4QXhlczogW3sKICAgICAgICAgICAgc3RhY2tlZDogdHJ1ZQogICAgICAgICAgfV0sCiAgICAgICAgICB5QXhlczogW3sKICAgICAgICAgICAgc3RhY2tlZDogdHJ1ZSwKICAgICAgICAgICAgdGlja3M6IHsKICAgICAgICAgICAgICBzdGVwU2l6ZTogMC4yNSwKICAgICAgICAgICAgICBtaW46IDAsCiAgICAgICAgICAgICAgbWF4OiAxLAogICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjayh2YWx1ZSkgewogICAgICAgICAgICAgICAgaWYgKHZhbHVlID09IDEpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuICcxaCc7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCh2YWx1ZSAqIDYwKSArICdtaW4nOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfV0KICAgICAgICB9CiAgICAgIH07CiAgICAgIHRoaXMucmVuZGVyQ2hhcnQoZGF0YSwgb3B0aW9ucyk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gQ2hhcnRUaW1lbGluZUJhcnM7Cn0oVnVlKTsKCl9fZGVjb3JhdGUoW1Byb3AoewogICJkZWZhdWx0IjogW3sKICAgIGxhYmVsOiAnVG90YWwgdGltZScsCiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjNjY5OWZmJywKICAgIGRhdGE6IEFycmF5LmZyb20oewogICAgICBsZW5ndGg6IDQwCiAgICB9LCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA0MCk7CiAgICB9KQogIH1dCn0pLCBfX21ldGFkYXRhKCJkZXNpZ246dHlwZSIsIEFycmF5KV0sIENoYXJ0VGltZWxpbmVCYXJzLnByb3RvdHlwZSwgImRhdGFzZXRzIiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW1Byb3AoewogICJkZWZhdWx0IjogJ2RheScKfSksIF9fbWV0YWRhdGEoImRlc2lnbjp0eXBlIiwgU3RyaW5nKV0sIENoYXJ0VGltZWxpbmVCYXJzLnByb3RvdHlwZSwgInJlc29sdXRpb24iLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbV2F0Y2goJ2RhdGFzZXRzJyksIF9fbWV0YWRhdGEoImRlc2lnbjp0eXBlIiwgRnVuY3Rpb24pLCBfX21ldGFkYXRhKCJkZXNpZ246cGFyYW10eXBlcyIsIFtdKSwgX19tZXRhZGF0YSgiZGVzaWduOnJldHVybnR5cGUiLCB2b2lkIDApXSwgQ2hhcnRUaW1lbGluZUJhcnMucHJvdG90eXBlLCAib25EYXRhc2V0Q2hhbmdlIiwgbnVsbCk7CgpDaGFydFRpbWVsaW5lQmFycyA9IF9fZGVjb3JhdGUoW0NvbXBvbmVudCh7CiAgImV4dGVuZHMiOiBCYXIKfSksIF9fbWV0YWRhdGEoImRlc2lnbjpwYXJhbXR5cGVzIiwgW10pXSwgQ2hhcnRUaW1lbGluZUJhcnMpOwpleHBvcnQgZGVmYXVsdCBDaGFydFRpbWVsaW5lQmFyczs="},{"version":3,"sources":["/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/src/visualizations/TimelineBarChart.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";;;;;;;;;AAGA,SAAS,GAAT,QAAoB,aAApB;AACA,SAAS,GAAT,EAAc,SAAd,EAAyB,IAAzB,EAA+B,KAA/B,QAA4C,wBAA5C;AACA,SAAS,eAAT,QAAgC,aAAhC;;AAKA,IAAqB,iBAArB;AAAA;;AAAA;;AACE,+BAAA;AAAA;;AAAA;AAEC;;AAHH;AAAA;AAAA,8BAmBS;AACL,WAAK,UAAL;AACD;AArBH;AAAA;AAAA,sCAwBiB;AACb,WAAK,UAAL;AACD;AA1BH;AAAA;AAAA,iCA4BY;AAER,UAAM,UAAU,GAAG,eAAe,EAAlC;AACA,UAAM,IAAI,GAAG;AACX,QAAA,MAAM,EAAE,OAAQ,CAAR,EAAW,EAAX,EAAe,GAAf,CAAmB,UAAA,CAAC;AAAA,2BAAO,CAAC,CAAC,GAAG,UAAL,IAAmB,EAA1B;AAAA,SAApB,CADG;AAEX,QAAA,QAAQ,EAAE,KAAK,QAFJ;AAGX,QAAA,KAAK,EAAE;AACL,UAAA,OAAO,EAAE,IADJ;AAEL,UAAA,IAAI,EAAE;AAFD,SAHI;AAOX,QAAA,UAAU,EAAE,IAPD;AAQX,QAAA,mBAAmB,EAAE;AARV,OAAb;AAUA,UAAM,OAAO,GAAG;AACd,QAAA,QAAQ,EAAE,IADI;AAEd,QAAA,QAAQ,EAAE;AACR,UAAA,IAAI,EAAE,OADE;AAER,UAAA,SAAS,EAAE;AAFH,SAFI;AAMd,QAAA,MAAM,EAAE;AACN,UAAA,OAAO,EAAE;AADH,SANM;AASd,QAAA,MAAM,EAAE;AACN,UAAA,KAAK,EAAE,CAAC;AAAE,YAAA,OAAO,EAAE;AAAX,WAAD,CADD;AAEN,UAAA,KAAK,EAAE,CACL;AACE,YAAA,OAAO,EAAE,IADX;AAEE,YAAA,KAAK,EAAE;AACL,cAAA,QAAQ,EAAE,IADL;AAEL,cAAA,GAAG,EAAE,CAFA;AAGL,cAAA,GAAG,EAAE,CAHA;AAIL,cAAA,QAAQ,EAAE,kBAAU,KAAV,EAAuB;AAC/B,oBAAI,KAAK,IAAI,CAAb,EAAgB;AACd,yBAAO,IAAP;AACD,iBAFD,MAEO;AACL,yBAAO,IAAI,CAAC,KAAL,CAAW,KAAK,GAAG,EAAnB,IAAyB,KAAhC;AACD;AACF;AAVI;AAFT,WADK;AAFD;AATM,OAAhB;AA8BA,WAAK,WAAL,CAAiB,IAAjB,EAAuB,OAAvB;AACD;AAxEH;;AAAA;AAAA,EAA+C,GAA/C,CAAA;;AAcE,UAAA,CAAA,CATC,IAAI,CAAC;AACJ,aAAS,CACP;AACE,IAAA,KAAK,EAAE,YADT;AAEE,IAAA,eAAe,EAAE,SAFnB;AAGE,IAAA,IAAI,EAAE,KAAK,CAAC,IAAN,CAAW;AAAE,MAAA,MAAM,EAAE;AAAV,KAAX,EAA2B;AAAA,aAAM,IAAI,CAAC,KAAL,CAAW,IAAI,CAAC,MAAL,KAAgB,EAA3B,CAAN;AAAA,KAA3B;AAHR,GADO;AADL,CAAD,CASL,E,gCAAA,CAAA,E,2BAAA,E,UAAA,E,KAAgC,CAAhC,CAAA;;AAGA,UAAA,CAAA,CADC,IAAI,CAAC;AAAE,aAAS;AAAX,CAAD,CACL,E,iCAAA,CAAA,E,2BAAA,E,YAAA,E,KAA2B,CAA3B,CAAA;;AAOA,UAAA,CAAA,CADC,KAAK,CAAC,UAAD,CACN,E,mCAAA,E,mCAAA,E,uCAAA,CAAA,E,2BAAA,E,iBAAA,EAEC,IAFD,CAAA;;AAxBmB,iBAAiB,GAAA,UAAA,CAAA,CAHrC,SAAS,CAAC;AACT,aAAS;AADA,CAAD,CAG4B,E,mCAAA,CAAA,EAAjB,iBAAiB,CAAjB;eAAA,iB","sourcesContent":["\nimport _ from 'lodash';\nimport { ChartOptions } from 'chart.js';\nimport { Bar } from 'vue-chartjs';\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator';\nimport { get_hour_offset } from '~/util/time';\n\n@Component({\n  extends: Bar, // this is important to add the functionality to your component\n})\nexport default class ChartTimelineBars extends Vue<Bar> {\n  constructor() {\n    super();\n  }\n\n  @Prop({\n    default: [\n      {\n        label: 'Total time',\n        backgroundColor: '#6699ff',\n        data: Array.from({ length: 40 }, () => Math.floor(Math.random() * 40)),\n      },\n    ],\n  })\n  datasets: Record<string, any>[];\n\n  @Prop({ default: 'day' })\n  resolution: 'day' | 'week';\n\n  mounted() {\n    this.renderData();\n  }\n\n  @Watch('datasets')\n  onDatasetChange() {\n    this.renderData();\n  }\n\n  renderData() {\n    // Overwriting base render method with actual data.\n    const hourOffset = get_hour_offset();\n    const data = {\n      labels: _.range(0, 24).map(h => `${(h + hourOffset) % 24}`),\n      datasets: this.datasets,\n      title: {\n        display: true,\n        text: 'Timeline',\n      },\n      responsive: true,\n      maintainAspectRatio: false,\n    };\n    const options = {\n      skipNull: true,\n      tooltips: {\n        mode: 'point',\n        intersect: false,\n      },\n      legend: {\n        display: false,\n      },\n      scales: {\n        xAxes: [{ stacked: true }],\n        yAxes: [\n          {\n            stacked: true,\n            ticks: {\n              stepSize: 0.25,\n              min: 0,\n              max: 1,\n              callback: function (value: number) {\n                if (value == 1) {\n                  return '1h';\n                } else {\n                  return Math.round(value * 60) + 'min';\n                }\n              },\n            },\n          },\n        ],\n      },\n    } as ChartOptions;\n    this.renderChart(data, options);\n  }\n}\n"],"sourceRoot":""}]}