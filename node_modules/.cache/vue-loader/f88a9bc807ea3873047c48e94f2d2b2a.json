{"remainingRequest":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/src/visualizations/TimelineBarChart.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/src/visualizations/TimelineBarChart.vue","mtime":1622212604097},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7CmltcG9ydCB7IENoYXJ0T3B0aW9ucyB9IGZyb20gJ2NoYXJ0LmpzJzsKaW1wb3J0IHsgQmFyIH0gZnJvbSAndnVlLWNoYXJ0anMnOwppbXBvcnQgeyBWdWUsIENvbXBvbmVudCwgUHJvcCwgV2F0Y2ggfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJzsKaW1wb3J0IHsgZ2V0X2hvdXJfb2Zmc2V0IH0gZnJvbSAnfi91dGlsL3RpbWUnOwoKQENvbXBvbmVudCh7CiAgZXh0ZW5kczogQmFyLCAvLyB0aGlzIGlzIGltcG9ydGFudCB0byBhZGQgdGhlIGZ1bmN0aW9uYWxpdHkgdG8geW91ciBjb21wb25lbnQKfSkKZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2hhcnRUaW1lbGluZUJhcnMgZXh0ZW5kcyBWdWU8QmFyPiB7CiAgY29uc3RydWN0b3IoKSB7CiAgICBzdXBlcigpOwogIH0KCiAgQFByb3AoewogICAgZGVmYXVsdDogWwogICAgICB7CiAgICAgICAgbGFiZWw6ICdUb3RhbCB0aW1lJywKICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjNjY5OWZmJywKICAgICAgICBkYXRhOiBBcnJheS5mcm9tKHsgbGVuZ3RoOiA0MCB9LCAoKSA9PiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA0MCkpLAogICAgICB9LAogICAgXSwKICB9KQogIGRhdGFzZXRzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+W107CgogIEBQcm9wKHsgZGVmYXVsdDogJ2RheScgfSkKICByZXNvbHV0aW9uOiAnZGF5JyB8ICd3ZWVrJzsKCiAgbW91bnRlZCgpIHsKICAgIHRoaXMucmVuZGVyRGF0YSgpOwogIH0KCiAgQFdhdGNoKCdkYXRhc2V0cycpCiAgb25EYXRhc2V0Q2hhbmdlKCkgewogICAgdGhpcy5yZW5kZXJEYXRhKCk7CiAgfQoKICByZW5kZXJEYXRhKCkgewogICAgLy8gT3ZlcndyaXRpbmcgYmFzZSByZW5kZXIgbWV0aG9kIHdpdGggYWN0dWFsIGRhdGEuCiAgICBjb25zdCBob3VyT2Zmc2V0ID0gZ2V0X2hvdXJfb2Zmc2V0KCk7CiAgICBjb25zdCBkYXRhID0gewogICAgICBsYWJlbHM6IF8ucmFuZ2UoMCwgMjQpLm1hcChoID0+IGAkeyhoICsgaG91ck9mZnNldCkgJSAyNH1gKSwKICAgICAgZGF0YXNldHM6IHRoaXMuZGF0YXNldHMsCiAgICAgIHRpdGxlOiB7CiAgICAgICAgZGlzcGxheTogdHJ1ZSwKICAgICAgICB0ZXh0OiAnVGltZWxpbmUnLAogICAgICB9LAogICAgICByZXNwb25zaXZlOiB0cnVlLAogICAgICBtYWludGFpbkFzcGVjdFJhdGlvOiBmYWxzZSwKICAgIH07CiAgICBjb25zdCBvcHRpb25zID0gewogICAgICBza2lwTnVsbDogdHJ1ZSwKICAgICAgdG9vbHRpcHM6IHsKICAgICAgICBtb2RlOiAncG9pbnQnLAogICAgICAgIGludGVyc2VjdDogZmFsc2UsCiAgICAgIH0sCiAgICAgIGxlZ2VuZDogewogICAgICAgIGRpc3BsYXk6IGZhbHNlLAogICAgICB9LAogICAgICBzY2FsZXM6IHsKICAgICAgICB4QXhlczogW3sgc3RhY2tlZDogdHJ1ZSB9XSwKICAgICAgICB5QXhlczogWwogICAgICAgICAgewogICAgICAgICAgICBzdGFja2VkOiB0cnVlLAogICAgICAgICAgICB0aWNrczogewogICAgICAgICAgICAgIHN0ZXBTaXplOiAwLjI1LAogICAgICAgICAgICAgIG1pbjogMCwKICAgICAgICAgICAgICBtYXg6IDEsCiAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uICh2YWx1ZTogbnVtYmVyKSB7CiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gMSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gJzFoJzsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHZhbHVlICogNjApICsgJ21pbic7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgXSwKICAgICAgfSwKICAgIH0gYXMgQ2hhcnRPcHRpb25zOwogICAgdGhpcy5yZW5kZXJDaGFydChkYXRhLCBvcHRpb25zKTsKICB9Cn0K"},{"version":3,"sources":["TimelineBarChart.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TimelineBarChart.vue","sourceRoot":"src/visualizations","sourcesContent":["<script lang=\"ts\">\nimport _ from 'lodash';\nimport { ChartOptions } from 'chart.js';\nimport { Bar } from 'vue-chartjs';\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator';\nimport { get_hour_offset } from '~/util/time';\n\n@Component({\n  extends: Bar, // this is important to add the functionality to your component\n})\nexport default class ChartTimelineBars extends Vue<Bar> {\n  constructor() {\n    super();\n  }\n\n  @Prop({\n    default: [\n      {\n        label: 'Total time',\n        backgroundColor: '#6699ff',\n        data: Array.from({ length: 40 }, () => Math.floor(Math.random() * 40)),\n      },\n    ],\n  })\n  datasets: Record<string, any>[];\n\n  @Prop({ default: 'day' })\n  resolution: 'day' | 'week';\n\n  mounted() {\n    this.renderData();\n  }\n\n  @Watch('datasets')\n  onDatasetChange() {\n    this.renderData();\n  }\n\n  renderData() {\n    // Overwriting base render method with actual data.\n    const hourOffset = get_hour_offset();\n    const data = {\n      labels: _.range(0, 24).map(h => `${(h + hourOffset) % 24}`),\n      datasets: this.datasets,\n      title: {\n        display: true,\n        text: 'Timeline',\n      },\n      responsive: true,\n      maintainAspectRatio: false,\n    };\n    const options = {\n      skipNull: true,\n      tooltips: {\n        mode: 'point',\n        intersect: false,\n      },\n      legend: {\n        display: false,\n      },\n      scales: {\n        xAxes: [{ stacked: true }],\n        yAxes: [\n          {\n            stacked: true,\n            ticks: {\n              stepSize: 0.25,\n              min: 0,\n              max: 1,\n              callback: function (value: number) {\n                if (value == 1) {\n                  return '1h';\n                } else {\n                  return Math.round(value * 60) + 'min';\n                }\n              },\n            },\n          },\n        ],\n      },\n    } as ChartOptions;\n    this.renderChart(data, options);\n  }\n}\n</script>\n\n<style></style>\n"]}]}