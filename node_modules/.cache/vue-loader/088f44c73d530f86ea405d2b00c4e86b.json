{"remainingRequest":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/src/components/StopwatchEntry.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/src/components/StopwatchEntry.vue","mtime":1622830085274},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JzsKaW1wb3J0ICd2dWUtYXdlc29tZS9pY29ucy9lZGl0JzsKaW1wb3J0ICd2dWUtYXdlc29tZS9pY29ucy9zdG9wJzsKaW1wb3J0ICd2dWUtYXdlc29tZS9pY29ucy9wbGF5JzsKCmltcG9ydCBFdmVudEVkaXRvciBmcm9tICcuL0V2ZW50RWRpdG9yLnZ1ZSc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1N0b3B3YXRjaEVudHJ5JywKICBjb21wb25lbnRzOiB7CiAgICAnZXZlbnQtZWRpdG9yJzogRXZlbnRFZGl0b3IsCiAgfSwKICBwcm9wczogewogICAgZXZlbnQ6IE9iamVjdCwKICAgIGJ1Y2tldF9pZDogU3RyaW5nLAogICAgbm93OiB7CiAgICAgIHR5cGU6IG1vbWVudCwKICAgICAgZGVmYXVsdDogbW9tZW50KCksCiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgc3RvcDogYXN5bmMgZnVuY3Rpb24gKCkgewogICAgICBsZXQgbmV3X2V2ZW50ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmV2ZW50KSk7CiAgICAgIG5ld19ldmVudC5kYXRhLnJ1bm5pbmcgPSBmYWxzZTsKICAgICAgbmV3X2V2ZW50LmR1cmF0aW9uID0gKG1vbWVudCgpIC0gbW9tZW50KG5ld19ldmVudC50aW1lc3RhbXApKSAvIDEwMDA7CiAgICAgIG5ld19ldmVudCA9IGF3YWl0IHRoaXMuJGF3LnJlcGxhY2VFdmVudCh0aGlzLmJ1Y2tldF9pZCwgbmV3X2V2ZW50KTsKICAgICAgdGhpcy4kZW1pdCgndXBkYXRlJywgbmV3X2V2ZW50KTsKICAgIH0sCiAgICBzYXZlOiBhc3luYyBmdW5jdGlvbiAobmV3X2V2ZW50KSB7CiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZScsIG5ld19ldmVudCk7CiAgICB9LAogICAgZGVsZXRlXzogYXN5bmMgZnVuY3Rpb24gKG5ld19ldmVudCkgewogICAgICB0aGlzLiRlbWl0KCdkZWxldGUnLCBuZXdfZXZlbnQpOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["StopwatchEntry.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"StopwatchEntry.vue","sourceRoot":"src/components","sourcesContent":["<template lang=\"pug\">\ndiv\n  div.row.px-3.py-2#root\n    div.flex-fill\n      span #[b {{event.data.label || 'No label'}}]\n      span(style=\"color: #888\") &nbsp;|&nbsp;\n      span(v-if=\"event.data.running\")\n        | Running for #[span(:title=\"event.timestamp\") {{event.data.running ? (now - event.timestamp) / 1000 : event.duration | friendlyduration}}]\n        | &nbsp;(Started {{ event.timestamp | shorttime }})\n      span(v-else)\n        | Started #[span(:title=\"event.timestamp\") {{event.timestamp | friendlytime}}]\n        | &nbsp;({{event.data.running ? (now - event.timestamp) / 1000 : event.duration | friendlyduration}})\n    div\n      b-button.mx-1(v-if=\"event.data.running\", @click=\"stop\", variant=\"outline-primary\", size=\"sm\")\n        icon.ml-0.mr-1(name=\"stop\")\n        | Stop\n      b-button.mx-1(v-if=\"!event.data.running\", @click=\"$emit('new')\", variant=\"outline-primary\", size=\"sm\")\n        icon.ml-0.mr-1(name=\"play\")\n        | Start new\n      b-button.mx-1(v-b-modal=\"'edit-modal-' + event.id\", variant=\"outline-dark\", size=\"sm\")\n        icon.ml-0.mr-1(name=\"edit\")\n        | Edit\n  event-editor(:event=\"event\", :bucket_id=\"bucket_id\", @save=\"save\", @delete=\"delete_\")\n</template>\n\n<style scoped lang=\"scss\">\n#root:hover {\n  background-color: #eee;\n}\n</style>\n\n<script>\nimport moment from 'moment';\nimport 'vue-awesome/icons/edit';\nimport 'vue-awesome/icons/stop';\nimport 'vue-awesome/icons/play';\n\nimport EventEditor from './EventEditor.vue';\n\nexport default {\n  name: 'StopwatchEntry',\n  components: {\n    'event-editor': EventEditor,\n  },\n  props: {\n    event: Object,\n    bucket_id: String,\n    now: {\n      type: moment,\n      default: moment(),\n    },\n  },\n  methods: {\n    stop: async function () {\n      let new_event = JSON.parse(JSON.stringify(this.event));\n      new_event.data.running = false;\n      new_event.duration = (moment() - moment(new_event.timestamp)) / 1000;\n      new_event = await this.$aw.replaceEvent(this.bucket_id, new_event);\n      this.$emit('update', new_event);\n    },\n    save: async function (new_event) {\n      this.$emit('update', new_event);\n    },\n    delete_: async function (new_event) {\n      this.$emit('delete', new_event);\n    },\n  },\n};\n</script>\n"]}]}