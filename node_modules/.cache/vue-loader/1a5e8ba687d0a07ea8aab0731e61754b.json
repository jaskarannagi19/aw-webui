{"remainingRequest":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/src/components/ErrorBoundary.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/src/components/ErrorBoundary.vue","mtime":1622830085270},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIEJhc2VkIG9uOiBodHRwczovL21lZGl1bS5jb20vQGRpbGxvbmNoYW5pcy9oYW5kbGluZy1lcnJvcnMtaW4tdnVlLXdpdGgtZXJyb3ItYm91bmRhcmllcy05MWY2ZWFkMDA5M2IKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdFcnJvckJvdW5kYXJ5JywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZXJyb3JzOiBbXSwKICAgIH07CiAgfSwKICBlcnJvckNhcHR1cmVkKGVyciwgX3ZtLCBfaW5mbykgewogICAgLy8gY29uc29sZS5lcnJvcigiRXJyb3IgY2FwdHVyZWQhIik7CiAgICAvLyBjb25zb2xlLmVycm9yKGVyciwgdm0sIGluZm8pOwoKICAgIC8vIGZhbGxiYWNrCiAgICBsZXQgbXNnID0gZXJyOwogICAgLy8gdXNlIHNlcnZlciBlcnJvciByZXNwb25zZSBpZiBhdmFpbGFibGU7IGVyci5pc0F4aW9zRXJyb3IgZG9lc24ndCBoZWxwIG11Y2ggaGVyZeKApgogICAgaWYgKGVyci5yZXNwb25zZSAmJiBlcnIucmVzcG9uc2UuZGF0YSAmJiBlcnIucmVzcG9uc2UuZGF0YS5tZXNzYWdlKSB7CiAgICAgIG1zZyA9IGVyci5yZXNwb25zZS5kYXRhLm1lc3NhZ2U7CiAgICB9IGVsc2UgaWYgKGVyci5uYW1lICYmIGVyci5tZXNzYWdlKSB7CiAgICAgIG1zZyA9IGAke2Vyci5uYW1lfTogJHtlcnIubWVzc2FnZX0uCgkJCQlTZWUgZGV2IGNvbnNvbGUgKEYxMikgYW5kL29yIHNlcnZlciBsb2dzIGZvciBtb3JlIGluZm8uYDsKICAgIH0KCiAgICB0aGlzLmVycm9ycy5wdXNoKHsKICAgICAgbXNnOiBtc2csCiAgICAgIHRpbWU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSwKICAgICAgZGlzbWlzc2VkOiBmYWxzZSwKICAgIH0pOwogIH0sCn07Cg=="},{"version":3,"sources":["ErrorBoundary.vue"],"names":[],"mappings":";;;;;;;;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ErrorBoundary.vue","sourceRoot":"src/components","sourcesContent":["<template lang=\"pug\">\ndiv\n\tb-alert(variant=\"danger\", v-for=\"error in errors\", :key='error.time', :show='!error.dismissed', dismissible, @dismissed=\"error.dismissed = false\")\n\t\t| {{ error.msg }}\n\tslot\n</template>\n\n<script>\n// Based on: https://medium.com/@dillonchanis/handling-errors-in-vue-with-error-boundaries-91f6ead0093b\nexport default {\n  name: 'ErrorBoundary',\n  data() {\n    return {\n      errors: [],\n    };\n  },\n  errorCaptured(err, _vm, _info) {\n    // console.error(\"Error captured!\");\n    // console.error(err, vm, info);\n\n    // fallback\n    let msg = err;\n    // use server error response if available; err.isAxiosError doesn't help much hereâ€¦\n    if (err.response && err.response.data && err.response.data.message) {\n      msg = err.response.data.message;\n    } else if (err.name && err.message) {\n      msg = `${err.name}: ${err.message}.\n\t\t\t\tSee dev console (F12) and/or server logs for more info.`;\n    }\n\n    this.errors.push({\n      msg: msg,\n      time: new Date().toISOString(),\n      dismissed: false,\n    });\n  },\n};\n</script>\n"]}]}