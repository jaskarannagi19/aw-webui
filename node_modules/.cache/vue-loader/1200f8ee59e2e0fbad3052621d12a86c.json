{"remainingRequest":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/src/views/settings/ReleaseNotificationSettings.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/src/views/settings/ReleaseNotificationSettings.vue","mtime":1622830085274},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JzsKaW1wb3J0IE5ld1JlbGVhc2VOb3RpZmljYXRpb24gZnJvbSAnfi9jb21wb25lbnRzL05ld1JlbGVhc2VOb3RpZmljYXRpb24udnVlJzsKCmNvbnN0IFNIT1JUX0JBQ0tPRkZfUEVSSU9EID0gTmV3UmVsZWFzZU5vdGlmaWNhdGlvbi5TSE9SVF9CQUNLT0ZGX1BFUklPRDsKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGF0YTogewogICAgICAgIGlzRW5hYmxlZDogdHJ1ZSwKICAgICAgICBuZXh0Q2hlY2tUaW1lOiBtb21lbnQoKS5hZGQoU0hPUlRfQkFDS09GRl9QRVJJT0QsICdzZWNvbmRzJyksCiAgICAgICAgaG93T2Z0ZW5Ub0NoZWNrOiBTSE9SVF9CQUNLT0ZGX1BFUklPRCwKICAgICAgICB0aW1lc0NoZWNrZWQ6IDAsCiAgICAgIH0sCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIGRhdGE6IHsKICAgICAgaGFuZGxlcigpIHsKICAgICAgICB0aGlzLnNhdmVEYXRhKCk7CiAgICAgIH0sCiAgICAgIGRlZXA6IHRydWUsCiAgICB9LAogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMucmV0cmlldmVEYXRhKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICByZXRyaWV2ZURhdGEoKSB7CiAgICAgIGlmIChsb2NhbFN0b3JhZ2UubmV3UmVsZWFzZUNoZWNrRGF0YSkgewogICAgICAgIHRyeSB7CiAgICAgICAgICB0aGlzLmRhdGEgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5uZXdSZWxlYXNlQ2hlY2tEYXRhKTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCdjb3VsZCBub3QgcGFyc2UgbmV3UmVsZWFzZUNoZWNrRGF0YSwgZGVsZXRpbmcnKTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCduZXdSZWxlYXNlQ2hlY2tEYXRhJyk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUuaW5mbygnbmV3UmVsZWFzZUNoZWNrRGF0YSBub3QgZm91bmQgaW4gbG9jYWxTdG9yYWdlJyk7CiAgICAgIH0KICAgIH0sCiAgICBzYXZlRGF0YSgpIHsKICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5zdHJpbmdpZnkodGhpcy5kYXRhKTsKICAgICAgbG9jYWxTdG9yYWdlLm5ld1JlbGVhc2VDaGVja0RhdGEgPSBwYXJzZWQ7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["ReleaseNotificationSettings.vue"],"names":[],"mappings":";;;;;;;;;;;;AAYA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ReleaseNotificationSettings.vue","sourceRoot":"src/views/settings","sourcesContent":["<template lang=\"pug\">\ndiv\n  div.d-flex.justify-content-between\n    div\n      h5.mb-0 New release notification\n    div\n      b-form-checkbox(v-model=\"data.isEnabled\" switch)\n  small\n    | We will send you a notification if there is a new release available for download, this check will happen at most once per day.\n</template>\n\n<script>\nimport moment from 'moment';\nimport NewReleaseNotification from '~/components/NewReleaseNotification.vue';\n\nconst SHORT_BACKOFF_PERIOD = NewReleaseNotification.SHORT_BACKOFF_PERIOD;\n\nexport default {\n  data() {\n    return {\n      data: {\n        isEnabled: true,\n        nextCheckTime: moment().add(SHORT_BACKOFF_PERIOD, 'seconds'),\n        howOftenToCheck: SHORT_BACKOFF_PERIOD,\n        timesChecked: 0,\n      },\n    };\n  },\n  watch: {\n    data: {\n      handler() {\n        this.saveData();\n      },\n      deep: true,\n    },\n  },\n  created() {\n    this.retrieveData();\n  },\n  methods: {\n    retrieveData() {\n      if (localStorage.newReleaseCheckData) {\n        try {\n          this.data = JSON.parse(localStorage.newReleaseCheckData);\n        } catch (e) {\n          console.error('could not parse newReleaseCheckData, deleting');\n          localStorage.removeItem('newReleaseCheckData');\n        }\n      } else {\n        console.info('newReleaseCheckData not found in localStorage');\n      }\n    },\n    saveData() {\n      const parsed = JSON.stringify(this.data);\n      localStorage.newReleaseCheckData = parsed;\n    },\n  },\n};\n</script>\n"]}]}