{"remainingRequest":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/src/components/ColorPicker.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/src/components/ColorPicker.vue","mtime":1622830085270},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoudmMtY2hyb21lIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgdG9wOiAwcHg7CiAgei1pbmRleDogOTsKfQouY3VycmVudC1jb2xvciB7CiAgYm9yZGVyLXJhZGl1czogMWVtOwogIGhlaWdodDogMS41ZW07CiAgd2lkdGg6IDEuNWVtOwogIGJhY2tncm91bmQtY29sb3I6ICMwMDA7CiAgY3Vyc29yOiBwb2ludGVyOwp9Cg=="},{"version":3,"sources":["ColorPicker.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAoBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ColorPicker.vue","sourceRoot":"src/components","sourcesContent":["<template lang=\"pug\">\ndiv\n  b-input-group(ref=\"colorpicker\")\n    b-form-input(\n      v-model=\"colorValue\"\n      @focus=\"showPicker()\"\n      @input=\"updateFromInput\"\n      placeholder=\"#FF00FF\"\n    )\n    b-input-group-append\n      b-button.px-2(variant=\"outline-secondary\" style=\"border-color: #AAA; border-left: 0; border-right: 0\" @click=\"togglePicker()\")\n        div.current-color(:style=\"'background-color: ' + colorValue\")\n      b-btn.px-1(variant=\"outline-secondary\", style=\"border-color: #AAA\", @click=\"randomColor()\" title=\"Randomize\")\n        icon(name=\"sync\" scale=\"1\")\n\n  div(style=\"position: relative\")\n    picker(:value=\"colors\" @input=\"updateFromPicker\" v-if=\"displayPicker\")\n</template>\n\n<style>\n.vc-chrome {\n  position: absolute;\n  top: 0px;\n  z-index: 9;\n}\n.current-color {\n  border-radius: 1em;\n  height: 1.5em;\n  width: 1.5em;\n  background-color: #000;\n  cursor: pointer;\n}\n</style>\n\n<script>\n// Based on https://codepen.io/Brownsugar/pen/NaGPKy\nimport 'vue-awesome/icons/sync';\n\nimport { Compact } from 'vue-color';\n\nexport default {\n  components: {\n    picker: Compact,\n  },\n  props: { value: { type: String, default: '#000000' } },\n  data() {\n    return {\n      colors: {\n        hex: '#000000',\n      },\n      colorValue: '',\n      displayPicker: false,\n    };\n  },\n  watch: {\n    colorValue(val) {\n      if (val) {\n        this.updateColors(val);\n        this.$emit('input', val);\n      }\n    },\n  },\n  mounted() {\n    console.log('setting color', this.value);\n    this.setColor(this.value);\n  },\n  methods: {\n    setColor(color) {\n      this.updateColors(color);\n      this.colorValue = color;\n    },\n    updateColors(color) {\n      if (color.slice(0, 1) == '#') {\n        this.colors = {\n          hex: color,\n        };\n      } else if (color.slice(0, 4) == 'rgba') {\n        const rgba = color.replace(/^rgba?\\(|\\s+|\\)$/g, '').split(',');\n        const hex =\n          '#' +\n          ((1 << 24) + (parseInt(rgba[0]) << 16) + (parseInt(rgba[1]) << 8) + parseInt(rgba[2]))\n            .toString(16)\n            .slice(1);\n        this.colors = {\n          hex: hex,\n          a: rgba[3],\n        };\n      }\n    },\n    showPicker() {\n      document.addEventListener('click', this.documentClick);\n      this.displayPicker = true;\n    },\n    hidePicker() {\n      document.removeEventListener('click', this.documentClick);\n      this.displayPicker = false;\n    },\n    togglePicker() {\n      this.displayPicker ? this.hidePicker() : this.showPicker();\n    },\n    updateFromInput() {\n      this.updateColors(this.colorValue);\n    },\n    updateFromPicker(color) {\n      this.colors = color;\n      if (color.rgba.a == 1) {\n        this.colorValue = color.hex;\n      } else {\n        this.colorValue = `rgba(${color.rgba.r}, ${color.rgba.g}, ${color.rgba.b}, ${color.rgba.a})`;\n      }\n    },\n    randomColor() {\n      this.colorValue = '#' + (0x1000000 + Math.random() * 0xffffff).toString(16).substr(1, 6);\n    },\n    documentClick(e) {\n      const el = this.$refs.colorpicker;\n      const target = e.target;\n      if (el !== target && !el.contains(target)) {\n        this.hidePicker();\n      }\n    },\n  },\n};\n</script>\n"]}]}