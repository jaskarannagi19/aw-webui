{"remainingRequest":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/src/views/Timeline.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/src/views/Timeline.vue","mtime":1622830085274},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnVGltZWxpbmUnLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBidWNrZXRzOiBudWxsLAogICAgICBkYXRlcmFuZ2U6IG51bGwsCiAgICAgIHRpbWVpbnRlcnZhbERlZmF1bHREdXJhdGlvbjogTnVtYmVyLnBhcnNlSW50KGxvY2FsU3RvcmFnZS5kdXJhdGlvbkRlZmF1bHQpIHx8IDYwICogNjAsCiAgICAgIG1heER1cmF0aW9uOiAzMSAqIDI0ICogNjAgKiA2MCwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgbnVtX2V2ZW50cygpIHsKICAgICAgcmV0dXJuIF8uc3VtQnkodGhpcy5idWNrZXRzLCAnZXZlbnRzLmxlbmd0aCcpOwogICAgfSwKICB9LAogIHdhdGNoOiB7CiAgICBkYXRlcmFuZ2UoKSB7CiAgICAgIHRoaXMuZ2V0QnVja2V0cygpOwogICAgfSwKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEJ1Y2tldHM6IGFzeW5jIGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5idWNrZXRzID0gYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2J1Y2tldHMvZ2V0QnVja2V0c1dpdGhFdmVudHMnLCB7CiAgICAgICAgc3RhcnQ6IHRoaXMuZGF0ZXJhbmdlWzBdLmZvcm1hdCgpLAogICAgICAgIGVuZDogdGhpcy5kYXRlcmFuZ2VbMV0uZm9ybWF0KCksCiAgICAgIH0pOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["Timeline.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Timeline.vue","sourceRoot":"src/views","sourcesContent":["<template lang=\"pug\">\ndiv\n  h2 Timeline\n\n  input-timeinterval(v-model=\"daterange\", :defaultDuration=\"timeintervalDefaultDuration\", :maxDuration=\"maxDuration\")\n\n  div(v-show=\"buckets !== null\")\n    div\n      div(style=\"float: left\")\n        | Events shown:  {{ num_events }}\n      div(style=\"float: right; color: #999\")\n        | Drag to pan and scroll to zoom.\n    div(style=\"clear: both\")\n    vis-timeline(:buckets=\"buckets\", :showRowLabels='true', :queriedInterval=\"daterange\")\n\n    aw-devonly(reason=\"Not ready for production, still experimenting\")\n      aw-calendar(:buckets=\"buckets\")\n  div(v-show=\"!(buckets !== null && num_events)\")\n    h1 Loading...\n</template>\n\n<script>\nimport _ from 'lodash';\nexport default {\n  name: 'Timeline',\n  data() {\n    return {\n      buckets: null,\n      daterange: null,\n      timeintervalDefaultDuration: Number.parseInt(localStorage.durationDefault) || 60 * 60,\n      maxDuration: 31 * 24 * 60 * 60,\n    };\n  },\n  computed: {\n    num_events() {\n      return _.sumBy(this.buckets, 'events.length');\n    },\n  },\n  watch: {\n    daterange() {\n      this.getBuckets();\n    },\n  },\n  methods: {\n    getBuckets: async function () {\n      this.buckets = await this.$store.dispatch('buckets/getBucketsWithEvents', {\n        start: this.daterange[0].format(),\n        end: this.daterange[1].format(),\n      });\n    },\n  },\n};\n</script>\n"]}]}