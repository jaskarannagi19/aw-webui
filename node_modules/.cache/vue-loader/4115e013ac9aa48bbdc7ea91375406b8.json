{"remainingRequest":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/src/components/ColorPicker.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/src/components/ColorPicker.vue","mtime":1622212604093},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIEJhc2VkIG9uIGh0dHBzOi8vY29kZXBlbi5pby9Ccm93bnN1Z2FyL3Blbi9OYUdQS3kKaW1wb3J0ICd2dWUtYXdlc29tZS9pY29ucy9zeW5jJzsKCmltcG9ydCB7IENvbXBhY3QgfSBmcm9tICd2dWUtY29sb3InOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIHBpY2tlcjogQ29tcGFjdCwKICB9LAogIHByb3BzOiB7IHZhbHVlOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJyMwMDAwMDAnIH0gfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY29sb3JzOiB7CiAgICAgICAgaGV4OiAnIzAwMDAwMCcsCiAgICAgIH0sCiAgICAgIGNvbG9yVmFsdWU6ICcnLAogICAgICBkaXNwbGF5UGlja2VyOiBmYWxzZSwKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgY29sb3JWYWx1ZSh2YWwpIHsKICAgICAgaWYgKHZhbCkgewogICAgICAgIHRoaXMudXBkYXRlQ29sb3JzKHZhbCk7CiAgICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB2YWwpOwogICAgICB9CiAgICB9LAogIH0sCiAgbW91bnRlZCgpIHsKICAgIGNvbnNvbGUubG9nKCdzZXR0aW5nIGNvbG9yJywgdGhpcy52YWx1ZSk7CiAgICB0aGlzLnNldENvbG9yKHRoaXMudmFsdWUpOwogIH0sCiAgbWV0aG9kczogewogICAgc2V0Q29sb3IoY29sb3IpIHsKICAgICAgdGhpcy51cGRhdGVDb2xvcnMoY29sb3IpOwogICAgICB0aGlzLmNvbG9yVmFsdWUgPSBjb2xvcjsKICAgIH0sCiAgICB1cGRhdGVDb2xvcnMoY29sb3IpIHsKICAgICAgaWYgKGNvbG9yLnNsaWNlKDAsIDEpID09ICcjJykgewogICAgICAgIHRoaXMuY29sb3JzID0gewogICAgICAgICAgaGV4OiBjb2xvciwKICAgICAgICB9OwogICAgICB9IGVsc2UgaWYgKGNvbG9yLnNsaWNlKDAsIDQpID09ICdyZ2JhJykgewogICAgICAgIGNvbnN0IHJnYmEgPSBjb2xvci5yZXBsYWNlKC9ecmdiYT9cKHxccyt8XCkkL2csICcnKS5zcGxpdCgnLCcpOwogICAgICAgIGNvbnN0IGhleCA9CiAgICAgICAgICAnIycgKwogICAgICAgICAgKCgxIDw8IDI0KSArIChwYXJzZUludChyZ2JhWzBdKSA8PCAxNikgKyAocGFyc2VJbnQocmdiYVsxXSkgPDwgOCkgKyBwYXJzZUludChyZ2JhWzJdKSkKICAgICAgICAgICAgLnRvU3RyaW5nKDE2KQogICAgICAgICAgICAuc2xpY2UoMSk7CiAgICAgICAgdGhpcy5jb2xvcnMgPSB7CiAgICAgICAgICBoZXg6IGhleCwKICAgICAgICAgIGE6IHJnYmFbM10sCiAgICAgICAgfTsKICAgICAgfQogICAgfSwKICAgIHNob3dQaWNrZXIoKSB7CiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5kb2N1bWVudENsaWNrKTsKICAgICAgdGhpcy5kaXNwbGF5UGlja2VyID0gdHJ1ZTsKICAgIH0sCiAgICBoaWRlUGlja2VyKCkgewogICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZG9jdW1lbnRDbGljayk7CiAgICAgIHRoaXMuZGlzcGxheVBpY2tlciA9IGZhbHNlOwogICAgfSwKICAgIHRvZ2dsZVBpY2tlcigpIHsKICAgICAgdGhpcy5kaXNwbGF5UGlja2VyID8gdGhpcy5oaWRlUGlja2VyKCkgOiB0aGlzLnNob3dQaWNrZXIoKTsKICAgIH0sCiAgICB1cGRhdGVGcm9tSW5wdXQoKSB7CiAgICAgIHRoaXMudXBkYXRlQ29sb3JzKHRoaXMuY29sb3JWYWx1ZSk7CiAgICB9LAogICAgdXBkYXRlRnJvbVBpY2tlcihjb2xvcikgewogICAgICB0aGlzLmNvbG9ycyA9IGNvbG9yOwogICAgICBpZiAoY29sb3IucmdiYS5hID09IDEpIHsKICAgICAgICB0aGlzLmNvbG9yVmFsdWUgPSBjb2xvci5oZXg7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jb2xvclZhbHVlID0gYHJnYmEoJHtjb2xvci5yZ2JhLnJ9LCAke2NvbG9yLnJnYmEuZ30sICR7Y29sb3IucmdiYS5ifSwgJHtjb2xvci5yZ2JhLmF9KWA7CiAgICAgIH0KICAgIH0sCiAgICByYW5kb21Db2xvcigpIHsKICAgICAgdGhpcy5jb2xvclZhbHVlID0gJyMnICsgKDB4MTAwMDAwMCArIE1hdGgucmFuZG9tKCkgKiAweGZmZmZmZikudG9TdHJpbmcoMTYpLnN1YnN0cigxLCA2KTsKICAgIH0sCiAgICBkb2N1bWVudENsaWNrKGUpIHsKICAgICAgY29uc3QgZWwgPSB0aGlzLiRyZWZzLmNvbG9ycGlja2VyOwogICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldDsKICAgICAgaWYgKGVsICE9PSB0YXJnZXQgJiYgIWVsLmNvbnRhaW5zKHRhcmdldCkpIHsKICAgICAgICB0aGlzLmhpZGVQaWNrZXIoKTsKICAgICAgfQogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["ColorPicker.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ColorPicker.vue","sourceRoot":"src/components","sourcesContent":["<template lang=\"pug\">\ndiv\n  b-input-group(ref=\"colorpicker\")\n    b-form-input(\n      v-model=\"colorValue\"\n      @focus=\"showPicker()\"\n      @input=\"updateFromInput\"\n      placeholder=\"#FF00FF\"\n    )\n    b-input-group-append\n      b-button.px-2(variant=\"outline-secondary\" style=\"border-color: #AAA; border-left: 0; border-right: 0\" @click=\"togglePicker()\")\n        div.current-color(:style=\"'background-color: ' + colorValue\")\n      b-btn.px-1(variant=\"outline-secondary\", style=\"border-color: #AAA\", @click=\"randomColor()\" title=\"Randomize\")\n        icon(name=\"sync\" scale=\"1\")\n\n  div(style=\"position: relative\")\n    picker(:value=\"colors\" @input=\"updateFromPicker\" v-if=\"displayPicker\")\n</template>\n\n<style>\n.vc-chrome {\n  position: absolute;\n  top: 0px;\n  z-index: 9;\n}\n.current-color {\n  border-radius: 1em;\n  height: 1.5em;\n  width: 1.5em;\n  background-color: #000;\n  cursor: pointer;\n}\n</style>\n\n<script>\n// Based on https://codepen.io/Brownsugar/pen/NaGPKy\nimport 'vue-awesome/icons/sync';\n\nimport { Compact } from 'vue-color';\n\nexport default {\n  components: {\n    picker: Compact,\n  },\n  props: { value: { type: String, default: '#000000' } },\n  data() {\n    return {\n      colors: {\n        hex: '#000000',\n      },\n      colorValue: '',\n      displayPicker: false,\n    };\n  },\n  watch: {\n    colorValue(val) {\n      if (val) {\n        this.updateColors(val);\n        this.$emit('input', val);\n      }\n    },\n  },\n  mounted() {\n    console.log('setting color', this.value);\n    this.setColor(this.value);\n  },\n  methods: {\n    setColor(color) {\n      this.updateColors(color);\n      this.colorValue = color;\n    },\n    updateColors(color) {\n      if (color.slice(0, 1) == '#') {\n        this.colors = {\n          hex: color,\n        };\n      } else if (color.slice(0, 4) == 'rgba') {\n        const rgba = color.replace(/^rgba?\\(|\\s+|\\)$/g, '').split(',');\n        const hex =\n          '#' +\n          ((1 << 24) + (parseInt(rgba[0]) << 16) + (parseInt(rgba[1]) << 8) + parseInt(rgba[2]))\n            .toString(16)\n            .slice(1);\n        this.colors = {\n          hex: hex,\n          a: rgba[3],\n        };\n      }\n    },\n    showPicker() {\n      document.addEventListener('click', this.documentClick);\n      this.displayPicker = true;\n    },\n    hidePicker() {\n      document.removeEventListener('click', this.documentClick);\n      this.displayPicker = false;\n    },\n    togglePicker() {\n      this.displayPicker ? this.hidePicker() : this.showPicker();\n    },\n    updateFromInput() {\n      this.updateColors(this.colorValue);\n    },\n    updateFromPicker(color) {\n      this.colors = color;\n      if (color.rgba.a == 1) {\n        this.colorValue = color.hex;\n      } else {\n        this.colorValue = `rgba(${color.rgba.r}, ${color.rgba.g}, ${color.rgba.b}, ${color.rgba.a})`;\n      }\n    },\n    randomColor() {\n      this.colorValue = '#' + (0x1000000 + Math.random() * 0xffffff).toString(16).substr(1, 6);\n    },\n    documentClick(e) {\n      const el = this.$refs.colorpicker;\n      const target = e.target;\n      if (el !== target && !el.contains(target)) {\n        this.hidePicker();\n      }\n    },\n  },\n};\n</script>\n"]}]}