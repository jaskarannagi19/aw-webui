{"map":{"version":3,"sources":["js/chunk-b12b8fe0.ba238267.js"],"names":["window","push","498a","module","exports","__webpack_require__","$","$trim","trim","forcedStringTrimMethod","target","proto","forced","this","bd8e","__webpack_exports__","r","render","_vm","_h","$createElement","_c","_self","_v","attrs","href","staticClass","_s","error","_e","directives","name","rawName","value","expression","type","max","today","domProps","on","input","$event","composing","startdate","tomorrow","enddate","staticStyle","font-family","rows","query_code","click","query","padding-left","eventcount_str","events","event_type","staticRenderFns","asyncToGenerator","moment","moment_default","n","startOf","add","QueryExplorervue_type_script_lang_js_","data","format","computed","Array","isArray","length","methods","_query","Object","regeneratorRuntime","mark","_callee","timeperiods","wrap","_context","prev","next","split","map","s","$aw","sent","t0","response","message","stop","apply","arguments","views_QueryExplorervue_type_script_lang_js_","componentNormalizer","component","c8d2","fails","whitespaces","non","METHOD_NAME"],"mappings":"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"},"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-b12b8fe0\"],{\"498a\":function(t,e,r){\"use strict\";var a=r(\"23e7\"),n=r(\"58a8\").trim,s=r(\"c8d2\");a({target:\"String\",proto:!0,forced:s(\"trim\")},{trim:function(){return n(this)}})},bd8e:function(t,e,r){\"use strict\";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r(\"div\",[r(\"h3\",[t._v(\"Query Explorer\")]),t._v(\"See \"),r(\"a\",{attrs:{href:\"https://docs.activitywatch.net/en/latest/examples/querying-data.html\"}},[t._v(\"the documentation\")]),t._v(\" for help on how to write queries.\"),r(\"hr\"),t.error?r(\"div\",{staticClass:\"alert alert-danger\"},[t._v(t._s(t.error))]):t._e(),r(\"form\",[r(\"div\",{staticClass:\"form-row\"},[r(\"div\",{staticClass:\"form-group col-md-6\"},[t._v(\"Start\"),r(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.startdate,expression:\"startdate\"}],staticClass:\"form-control\",attrs:{type:\"date\",max:t.today},domProps:{value:t.startdate},on:{input:function(e){e.target.composing||(t.startdate=e.target.value)}}})]),r(\"div\",{staticClass:\"form-group col-md-6\"},[t._v(\"End\"),r(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.enddate,expression:\"enddate\"}],staticClass:\"form-control\",attrs:{type:\"date\",max:t.tomorrow},domProps:{value:t.enddate},on:{input:function(e){e.target.composing||(t.enddate=e.target.value)}}})])]),r(\"div\",{staticClass:\"form-group\"},[r(\"textarea\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.query_code,expression:\"query_code\"}],staticClass:\"form-control\",staticStyle:{\"font-family\":\"monospace\"},attrs:{rows:\"4\"},domProps:{value:t.query_code},on:{input:function(e){e.target.composing||(t.query_code=e.target.value)}}})]),r(\"div\",{staticClass:\"form-inline\"},[r(\"div\",{staticClass:\"form-group\"},[r(\"button\",{staticClass:\"btn btn-success\",attrs:{type:\"button\"},on:{click:function(e){return t.query()}}},[t._v(\"Query\")])]),r(\"span\",{staticStyle:{\"padding-left\":\"1em\"}}),t._v(t._s(t.eventcount_str))])]),r(\"hr\"),r(\"aw-selectable-eventview\",{attrs:{events:t.events,event_type:t.event_type}})],1)},n=[],s=(r(\"277d\"),r(\"d81d\"),r(\"ac1f\"),r(\"1276\"),r(\"498a\"),r(\"96cf\"),r(\"1da1\")),o=r(\"c1df\"),i=r.n(o),c=i()().startOf(\"day\"),d=i()(c).add(24,\"hours\"),u={name:\"QueryExplorer\",data:function(){return{query_code:'afk_events = query_bucket(find_bucket(\"aw-watcher-afk_\"));\\nwindow_events = query_bucket(find_bucket(\"aw-watcher-window_\"));\\nwindow_events = filter_period_intersect(window_events, filter_keyvals(afk_events, \"status\", [\"not-afk\"]));\\nmerged_events = merge_events_by_keys(window_events, [\"app\", \"title\"]);\\nRETURN = sort_by_duration(merged_events);',event_type:\"currentwindow\",events:[],today:c.format(),tomorrow:d.format(),error:\"\",startdate:c.format(\"YYYY-MM-DD\"),enddate:d.format(\"YYYY-MM-DD\")}},computed:{eventcount_str:function(){return Array.isArray(this.events)?\"Number of events: \"+this.events.length:\"\"}},methods:{query:function(){var t=Object(s[\"a\"])(regeneratorRuntime.mark((function t(){var e,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.query_code.split(\";\").map((function(t){return t.trim()+\";\"})),r=[i()(this.startdate).format()+\"/\"+i()(this.enddate).format()],t.prev=2,t.next=5,this.$aw.query(r,e);case 5:a=t.sent,this.events=a[0],this.error=\"\",t.next=13;break;case 10:t.prev=10,t.t0=t[\"catch\"](2),this.error=t.t0.response.data.message;case 13:case\"end\":return t.stop()}}),t,this,[[2,10]])})));function e(){return t.apply(this,arguments)}return e}()}},v=u,m=r(\"2877\"),l=Object(m[\"a\"])(v,a,n,!1,null,\"002aec07\",null);e[\"default\"]=l.exports},c8d2:function(t,e,r){var a=r(\"d039\"),n=r(\"5899\"),s=\"​᠎\";t.exports=function(t){return a((function(){return!!n[t]()||s[t]()!=s||n[t].name!==t}))}}}]);","extractedComments":[]}