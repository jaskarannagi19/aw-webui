{"remainingRequest":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/thread-loader/dist/cjs.js!/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/babel-loader/lib/index.js!/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/eslint-loader/index.js??ref--12-0!/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/src/store/modules/buckets.js","dependencies":[{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/src/store/modules/buckets.js","mtime":1622212604097},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN0YXJ0cy13aXRoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2phc2thcmFuL2NvZGUvamFza2FyYW4vYWN0aXZpdHl3YXRjaC9hdy1zZXJ2ZXIvYXctd2VidWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwoKdmFyIF8gPSByZXF1aXJlKCdsb2Rhc2gnKTsKCnZhciBzdGF0ZSA9IHsKICBidWNrZXRzOiBbXQp9OwoKZnVuY3Rpb24gZ2V0X2J1Y2tldHNfYnlfdHlwZShidWNrZXRzLCB0eXBlKSB7CiAgcmV0dXJuIF8ubWFwKF8uZmlsdGVyKGJ1Y2tldHMsIGZ1bmN0aW9uIChidWNrZXQpIHsKICAgIHJldHVybiBidWNrZXRbJ3R5cGUnXSA9PT0gdHlwZSAmJiAhYnVja2V0WydpZCddLmluY2x1ZGVzKCd0ZXN0aW5nJyk7CiAgfSksIGZ1bmN0aW9uIChidWNrZXQpIHsKICAgIHJldHVybiBidWNrZXRbJ2lkJ107CiAgfSk7Cn0KCmZ1bmN0aW9uIGdldF9idWNrZXRzX2J5X2hvc3RfYW5kX3R5cGUoYnVja2V0cywgaG9zdCwgdHlwZSkgewogIHJldHVybiBfLm1hcChfLmZpbHRlcihidWNrZXRzLCBmdW5jdGlvbiAoYnVja2V0KSB7CiAgICByZXR1cm4gYnVja2V0Wyd0eXBlJ10gPT09IHR5cGUgJiYgYnVja2V0Wydob3N0bmFtZSddID09IGhvc3QgJiYgIWJ1Y2tldFsnaWQnXS5pbmNsdWRlcygndGVzdGluZycpOwogIH0pLCBmdW5jdGlvbiAoYnVja2V0KSB7CiAgICByZXR1cm4gYnVja2V0WydpZCddOwogIH0pOwp9Cgp2YXIgZ2V0dGVycyA9IHsKICBhZmtCdWNrZXRzQnlIb3N0OiBmdW5jdGlvbiBhZmtCdWNrZXRzQnlIb3N0KHN0YXRlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGhvc3QpIHsKICAgICAgcmV0dXJuIGdldF9idWNrZXRzX2J5X2hvc3RfYW5kX3R5cGUoc3RhdGUuYnVja2V0cywgaG9zdCwgJ2Fma3N0YXR1cycpOwogICAgfTsKICB9LAogIHdpbmRvd0J1Y2tldHNCeUhvc3Q6IGZ1bmN0aW9uIHdpbmRvd0J1Y2tldHNCeUhvc3Qoc3RhdGUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoaG9zdCkgewogICAgICByZXR1cm4gXy5maWx0ZXIoZ2V0X2J1Y2tldHNfYnlfaG9zdF9hbmRfdHlwZShzdGF0ZS5idWNrZXRzLCBob3N0LCAnY3VycmVudHdpbmRvdycpLCBmdW5jdGlvbiAoaWQpIHsKICAgICAgICByZXR1cm4gIWlkLnN0YXJ0c1dpdGgoJ2F3LXdhdGNoZXItYW5kcm9pZCcpOwogICAgICB9KTsKICAgIH07CiAgfSwKICBhbmRyb2lkQnVja2V0c0J5SG9zdDogZnVuY3Rpb24gYW5kcm9pZEJ1Y2tldHNCeUhvc3Qoc3RhdGUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoaG9zdCkgewogICAgICByZXR1cm4gXy5maWx0ZXIoZ2V0X2J1Y2tldHNfYnlfaG9zdF9hbmRfdHlwZShzdGF0ZS5idWNrZXRzLCBob3N0LCAnY3VycmVudHdpbmRvdycpLCBmdW5jdGlvbiAoaWQpIHsKICAgICAgICByZXR1cm4gaWQuc3RhcnRzV2l0aCgnYXctd2F0Y2hlci1hbmRyb2lkJyk7CiAgICAgIH0pOwogICAgfTsKICB9LAogIGVkaXRvckJ1Y2tldHM6IGZ1bmN0aW9uIGVkaXRvckJ1Y2tldHMoc3RhdGUpIHsKICAgIHJldHVybiBnZXRfYnVja2V0c19ieV90eXBlKHN0YXRlLmJ1Y2tldHMsICdhcHAuZWRpdG9yLmFjdGl2aXR5Jyk7CiAgfSwKICBicm93c2VyQnVja2V0czogZnVuY3Rpb24gYnJvd3NlckJ1Y2tldHMoc3RhdGUpIHsKICAgIHJldHVybiBnZXRfYnVja2V0c19ieV90eXBlKHN0YXRlLmJ1Y2tldHMsICd3ZWIudGFiLmN1cnJlbnQnKTsKICB9LAogIGdldEJ1Y2tldDogZnVuY3Rpb24gZ2V0QnVja2V0KHN0YXRlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGlkKSB7CiAgICAgIHJldHVybiBfLmZpbHRlcihzdGF0ZS5idWNrZXRzLCBmdW5jdGlvbiAoYikgewogICAgICAgIHJldHVybiBiLmlkID09PSBpZDsKICAgICAgfSlbMF07CiAgICB9OwogIH0sCiAgYnVja2V0c0J5SG9zdG5hbWU6IGZ1bmN0aW9uIGJ1Y2tldHNCeUhvc3RuYW1lKHN0YXRlKSB7CiAgICByZXR1cm4gXy5ncm91cEJ5KHN0YXRlLmJ1Y2tldHMsICdob3N0bmFtZScpOwogIH0KfTsKdmFyIGFjdGlvbnMgPSB7CiAgZW5zdXJlQnVja2V0czogZnVuY3Rpb24gZW5zdXJlQnVja2V0cyhfcmVmKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IocmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIHN0YXRlLCBkaXNwYXRjaDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHN0YXRlID0gX3JlZi5zdGF0ZSwgZGlzcGF0Y2ggPSBfcmVmLmRpc3BhdGNoOwoKICAgICAgICAgICAgICBpZiAoIShzdGF0ZS5idWNrZXRzLmxlbmd0aCA9PT0gMCkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ2xvYWRCdWNrZXRzJyk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBsb2FkQnVja2V0czogZnVuY3Rpb24gbG9hZEJ1Y2tldHMoX3JlZjIpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICB2YXIgY29tbWl0LCBidWNrZXRzOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLl92bS4kYXcuZ2V0QnVja2V0cygpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGJ1Y2tldHMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBjb21taXQoJ3VwZGF0ZV9idWNrZXRzJywgYnVja2V0cyk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMik7CiAgICB9KSkoKTsKICB9LAogIGdldEJ1Y2tldFdpdGhFdmVudHM6IGZ1bmN0aW9uIGdldEJ1Y2tldFdpdGhFdmVudHMoX3JlZjMsIF9yZWY0KSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IocmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgIHZhciBnZXR0ZXJzLCBkaXNwYXRjaCwgaWQsIHN0YXJ0LCBlbmQsIGJ1Y2tldDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBnZXR0ZXJzID0gX3JlZjMuZ2V0dGVycywgZGlzcGF0Y2ggPSBfcmVmMy5kaXNwYXRjaDsKICAgICAgICAgICAgICBpZCA9IF9yZWY0LmlkLCBzdGFydCA9IF9yZWY0LnN0YXJ0LCBlbmQgPSBfcmVmNC5lbmQ7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnZW5zdXJlQnVja2V0cycpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGJ1Y2tldCA9IF8uY2xvbmVEZWVwKGdldHRlcnMuZ2V0QnVja2V0KGlkKSk7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA3OwogICAgICAgICAgICAgIHJldHVybiBfdGhpczIuX3ZtLiRhdy5nZXRFdmVudHMoYnVja2V0LmlkLCB7CiAgICAgICAgICAgICAgICBzdGFydDogc3RhcnQsCiAgICAgICAgICAgICAgICBlbmQ6IGVuZCwKICAgICAgICAgICAgICAgIGxpbWl0OiAtMQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGJ1Y2tldC5ldmVudHMgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgYnVja2V0KTsKCiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUzKTsKICAgIH0pKSgpOwogIH0sCiAgZ2V0QnVja2V0c1dpdGhFdmVudHM6IGZ1bmN0aW9uIGdldEJ1Y2tldHNXaXRoRXZlbnRzKF9yZWY1LCBfcmVmNikgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICB2YXIgc3RhdGUsIGRpc3BhdGNoLCBzdGFydCwgZW5kLCBidWNrZXRzOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHN0YXRlID0gX3JlZjUuc3RhdGUsIGRpc3BhdGNoID0gX3JlZjUuZGlzcGF0Y2g7CiAgICAgICAgICAgICAgc3RhcnQgPSBfcmVmNi5zdGFydCwgZW5kID0gX3JlZjYuZW5kOwogICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ2Vuc3VyZUJ1Y2tldHMnKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDY7CiAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKF8ubWFwKHN0YXRlLmJ1Y2tldHMsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHZhciBfcmVmNyA9IF9hc3luY1RvR2VuZXJhdG9yKHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KGJ1Y2tldCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ2dldEJ1Y2tldFdpdGhFdmVudHMnLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogYnVja2V0LmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQ0LnNlbnQpOwoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWY3LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIH0oKSkpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGJ1Y2tldHMgPSBfY29udGV4dDUuc2VudDsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgXy5vcmRlckJ5KGJ1Y2tldHMsIFtmdW5jdGlvbiAoYikgewogICAgICAgICAgICAgICAgcmV0dXJuIGIuaWQ7CiAgICAgICAgICAgICAgfV0sIFsnYXNjJ10pKTsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU1KTsKICAgIH0pKSgpOwogIH0sCiAgZGVsZXRlQnVja2V0OiBmdW5jdGlvbiBkZWxldGVCdWNrZXQoX3JlZjgsIF9yZWY5KSB7CiAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IocmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgIHZhciBkaXNwYXRjaCwgYnVja2V0SWQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgZGlzcGF0Y2ggPSBfcmVmOC5kaXNwYXRjaDsKICAgICAgICAgICAgICBidWNrZXRJZCA9IF9yZWY5LmJ1Y2tldElkOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJEZWxldGluZyBidWNrZXQgIi5jb25jYXQoYnVja2V0SWQpKTsKICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5fdm0uJGF3LmRlbGV0ZUJ1Y2tldChidWNrZXRJZCk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA3OwogICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnbG9hZEJ1Y2tldHMnKTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU2KTsKICAgIH0pKSgpOwogIH0KfTsKdmFyIG11dGF0aW9ucyA9IHsKICB1cGRhdGVfYnVja2V0czogZnVuY3Rpb24gdXBkYXRlX2J1Y2tldHMoc3RhdGUsIGJ1Y2tldHMpIHsKICAgIHN0YXRlLmJ1Y2tldHMgPSBidWNrZXRzOwogIH0KfTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHN0YXRlLAogIGdldHRlcnM6IGdldHRlcnMsCiAgYWN0aW9uczogYWN0aW9ucywKICBtdXRhdGlvbnM6IG11dGF0aW9ucwp9Ow=="},{"version":3,"sources":["/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/src/store/modules/buckets.js"],"names":["_","require","state","buckets","get_buckets_by_type","type","map","filter","bucket","includes","get_buckets_by_host_and_type","host","getters","afkBucketsByHost","windowBucketsByHost","id","startsWith","androidBucketsByHost","editorBuckets","browserBuckets","getBucket","b","bucketsByHostname","groupBy","actions","ensureBuckets","dispatch","length","loadBuckets","commit","_vm","$aw","getBuckets","getBucketWithEvents","start","end","cloneDeep","getEvents","limit","events","getBucketsWithEvents","Promise","all","orderBy","deleteBucket","bucketId","console","log","mutations","update_buckets","namespaced"],"mappings":"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","sourcesContent":["const _ = require('lodash');\n\n// initial state\nconst state = {\n  buckets: [],\n};\n\n// TODO: Remove the bucket['id'].includes(testing) check (only needed because I had an old bucket laying around)\nfunction get_buckets_by_type(buckets, type) {\n  return _.map(\n    _.filter(buckets, bucket => bucket['type'] === type && !bucket['id'].includes('testing')),\n    bucket => bucket['id']\n  );\n}\n\n// TODO: Remove the bucket['id'].includes(testing) check (only needed because I had an old bucket laying around)\nfunction get_buckets_by_host_and_type(buckets, host, type) {\n  return _.map(\n    _.filter(\n      buckets,\n      bucket =>\n        bucket['type'] === type && bucket['hostname'] == host && !bucket['id'].includes('testing')\n    ),\n    bucket => bucket['id']\n  );\n}\n\n// getters\nconst getters = {\n  afkBucketsByHost: state => host => {\n    return get_buckets_by_host_and_type(state.buckets, host, 'afkstatus');\n  },\n  windowBucketsByHost: state => host => {\n    return _.filter(\n      get_buckets_by_host_and_type(state.buckets, host, 'currentwindow'),\n      id => !id.startsWith('aw-watcher-android')\n    );\n  },\n  androidBucketsByHost: state => host => {\n    return _.filter(get_buckets_by_host_and_type(state.buckets, host, 'currentwindow'), id =>\n      id.startsWith('aw-watcher-android')\n    );\n  },\n  editorBuckets(state) {\n    return get_buckets_by_type(state.buckets, 'app.editor.activity');\n  },\n  browserBuckets(state) {\n    return get_buckets_by_type(state.buckets, 'web.tab.current');\n  },\n  getBucket: state => id => _.filter(state.buckets, b => b.id === id)[0],\n  bucketsByHostname: state => _.groupBy(state.buckets, 'hostname'),\n};\n\n// actions\nconst actions = {\n  async ensureBuckets({ state, dispatch }) {\n    if (state.buckets.length === 0) {\n      await dispatch('loadBuckets');\n    }\n  },\n\n  async loadBuckets({ commit }) {\n    const buckets = await this._vm.$aw.getBuckets();\n    commit('update_buckets', buckets);\n  },\n\n  async getBucketWithEvents({ getters, dispatch }, { id, start, end }) {\n    await dispatch('ensureBuckets');\n    const bucket = _.cloneDeep(getters.getBucket(id));\n    bucket.events = await this._vm.$aw.getEvents(bucket.id, {\n      start,\n      end,\n      limit: -1,\n    });\n    return bucket;\n  },\n\n  async getBucketsWithEvents({ state, dispatch }, { start, end }) {\n    await dispatch('ensureBuckets');\n    const buckets = await Promise.all(\n      _.map(\n        state.buckets,\n        async bucket => await dispatch('getBucketWithEvents', { id: bucket.id, start, end })\n      )\n    );\n    return _.orderBy(buckets, [b => b.id], ['asc']);\n  },\n\n  async deleteBucket({ dispatch }, { bucketId }) {\n    console.log(`Deleting bucket ${bucketId}`);\n    await this._vm.$aw.deleteBucket(bucketId);\n    await dispatch('loadBuckets');\n  },\n};\n\n// mutations\nconst mutations = {\n  update_buckets(state, buckets) {\n    state.buckets = buckets;\n  },\n};\n\nexport default {\n  namespaced: true,\n  state: state,\n  getters,\n  actions,\n  mutations,\n};\n"]}]}