{"remainingRequest":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/thread-loader/dist/cjs.js!/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/babel-loader/lib/index.js!/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/src/components/CategoryEditTree.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/src/components/CategoryEditTree.vue","mtime":1622212604093},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IiOwppbXBvcnQgX2Nsb25lRGVlcCBmcm9tICJsb2Rhc2gvY2xvbmVEZWVwIjsKaW1wb3J0IF9tYXAgZnJvbSAibG9kYXNoL21hcCI7CmltcG9ydCBfc3VtIGZyb20gImxvZGFzaC9zdW0iOwppbXBvcnQgJ3Z1ZS1hd2Vzb21lL2ljb25zL3JlZ3VsYXIvcGx1cy1zcXVhcmUnOwppbXBvcnQgJ3Z1ZS1hd2Vzb21lL2ljb25zL3JlZ3VsYXIvbWludXMtc3F1YXJlJzsKaW1wb3J0ICd2dWUtYXdlc29tZS9pY29ucy9jaXJjbGUnOwppbXBvcnQgJ3Z1ZS1hd2Vzb21lL2ljb25zL2NhcmV0LXJpZ2h0JzsKaW1wb3J0ICd2dWUtYXdlc29tZS9pY29ucy90cmFzaCc7CmltcG9ydCAndnVlLWF3ZXNvbWUvaWNvbnMvcGx1cyc7CmltcG9ydCAndnVlLWF3ZXNvbWUvaWNvbnMvZWRpdCc7CmltcG9ydCBDb2xvclBpY2tlciBmcm9tICd+L2NvbXBvbmVudHMvQ29sb3JQaWNrZXInOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NhdGVnb3J5RWRpdFRyZWUnLAogIGNvbXBvbmVudHM6IHsKICAgICdjb2xvci1waWNrZXInOiBDb2xvclBpY2tlcgogIH0sCiAgcHJvcHM6IHsKICAgIF9jbGFzczogT2JqZWN0LAogICAgZGVwdGg6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICAiZGVmYXVsdCI6IDAKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBleHBhbmRlZDogdGhpcy5kZXB0aCA8IDEsCiAgICAgIGNvbG9yX2ZvY3VzZWQ6IGZhbHNlLAogICAgICBlZGl0aW5nOiB7CiAgICAgICAgaWQ6IDAsCiAgICAgICAgbmFtZTogbnVsbCwKICAgICAgICBydWxlOiB7fSwKICAgICAgICBwYXJlbnQ6IFtdLAogICAgICAgIGluaGVyaXRfY29sb3I6IHRydWUsCiAgICAgICAgY29sb3I6IG51bGwKICAgICAgfQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBhbGxDYXRlZ29yaWVzOiBmdW5jdGlvbiBhbGxDYXRlZ29yaWVzKCkgewogICAgICB2YXIgY2F0ZWdvcmllcyA9IHRoaXMuJHN0b3JlLmdldHRlcnNbJ2NhdGVnb3JpZXMvYWxsX2NhdGVnb3JpZXMnXTsKICAgICAgdmFyIGVudHJpZXMgPSBjYXRlZ29yaWVzLm1hcChmdW5jdGlvbiAoYykgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICB0ZXh0OiBjLmpvaW4oJy0+JyksCiAgICAgICAgICB2YWx1ZTogYwogICAgICAgIH07CiAgICAgIH0pOwogICAgICByZXR1cm4gW3sKICAgICAgICB2YWx1ZTogW10sCiAgICAgICAgdGV4dDogJ05vbmUnCiAgICAgIH1dLmNvbmNhdChlbnRyaWVzKTsKICAgIH0sCiAgICBhbGxSdWxlVHlwZXM6IGZ1bmN0aW9uIGFsbFJ1bGVUeXBlcygpIHsKICAgICAgcmV0dXJuIFt7CiAgICAgICAgdmFsdWU6IG51bGwsCiAgICAgICAgdGV4dDogJ05vbmUnCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogJ3JlZ2V4JywKICAgICAgICB0ZXh0OiAnUmVndWxhciBFeHByZXNzaW9uJwogICAgICB9XTsKICAgIH0sCiAgICB0b3RhbENoaWxkcmVuOiBmdW5jdGlvbiB0b3RhbENoaWxkcmVuKCkgewogICAgICBmdW5jdGlvbiBjb3VudENoaWxkcmVuKG5vZGUpIHsKICAgICAgICByZXR1cm4gbm9kZS5jaGlsZHJlbi5sZW5ndGggKyBfc3VtKF9tYXAobm9kZS5jaGlsZHJlbiwgY291bnRDaGlsZHJlbikpOwogICAgICB9CgogICAgICByZXR1cm4gY291bnRDaGlsZHJlbih0aGlzLl9jbGFzcyk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBhZGRTdWJjbGFzczogZnVuY3Rpb24gYWRkU3ViY2xhc3MocGFyZW50KSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnY2F0ZWdvcmllcy9hZGRDbGFzcycsIHsKICAgICAgICBuYW1lOiBwYXJlbnQubmFtZS5jb25jYXQoWydOZXcgY2xhc3MnXSksCiAgICAgICAgcnVsZTogewogICAgICAgICAgdHlwZTogJ3JlZ2V4JywKICAgICAgICAgIHJlZ2V4OiAnRklMTCBNRScKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHJlbW92ZUNsYXNzOiBmdW5jdGlvbiByZW1vdmVDbGFzcyhfY2xhc3MpIHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdjYXRlZ29yaWVzL3JlbW92ZUNsYXNzJywgX2NsYXNzKTsKICAgIH0sCiAgICBzaG93RWRpdE1vZGFsOiBmdW5jdGlvbiBzaG93RWRpdE1vZGFsKCkgewogICAgICB0aGlzLiRyZWZzLmVkaXQuc2hvdygpOwogICAgfSwKICAgIGNoZWNrRm9ybVZhbGlkaXR5OiBmdW5jdGlvbiBjaGVja0Zvcm1WYWxpZGl0eSgpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9LAogICAgaGFuZGxlT2s6IGZ1bmN0aW9uIGhhbmRsZU9rKGV2ZW50KSB7CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHRoaXMuaGFuZGxlU3VibWl0KCk7CiAgICB9LAogICAgaGFuZGxlU3VibWl0OiBmdW5jdGlvbiBoYW5kbGVTdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAoIXRoaXMuY2hlY2tGb3JtVmFsaWRpdHkoKSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIG5ld19jbGFzcyA9IHsKICAgICAgICBpZDogdGhpcy5lZGl0aW5nLmlkLAogICAgICAgIG5hbWU6IHRoaXMuZWRpdGluZy5wYXJlbnQuY29uY2F0KHRoaXMuZWRpdGluZy5uYW1lKSwKICAgICAgICBydWxlOiB0aGlzLmVkaXRpbmcucnVsZS50eXBlICE9PSBudWxsID8gdGhpcy5lZGl0aW5nLnJ1bGUgOiB7CiAgICAgICAgICB0eXBlOiBudWxsCiAgICAgICAgfSwKICAgICAgICBkYXRhOiB7CiAgICAgICAgICBjb2xvcjogdGhpcy5lZGl0aW5nLmluaGVyaXRfY29sb3IgPT09IHRydWUgPyB1bmRlZmluZWQgOiB0aGlzLmVkaXRpbmcuY29sb3IKICAgICAgICB9CiAgICAgIH07CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnY2F0ZWdvcmllcy91cGRhdGVDbGFzcycsIG5ld19jbGFzcyk7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy4kcmVmcy5lZGl0LmhpZGUoKTsKICAgICAgfSk7CiAgICB9LAogICAgcmVzZXRNb2RhbDogZnVuY3Rpb24gcmVzZXRNb2RhbCgpIHsKICAgICAgdmFyIGNvbG9yID0gdGhpcy5fY2xhc3MuZGF0YSA/IHRoaXMuX2NsYXNzLmRhdGEuY29sb3IgOiB1bmRlZmluZWQ7CiAgICAgIHZhciBpbmhlcml0X2NvbG9yID0gIWNvbG9yOwogICAgICB0aGlzLmVkaXRpbmcgPSB7CiAgICAgICAgaWQ6IHRoaXMuX2NsYXNzLmlkLAogICAgICAgIG5hbWU6IHRoaXMuX2NsYXNzLnN1Ym5hbWUsCiAgICAgICAgcnVsZTogX2Nsb25lRGVlcCh0aGlzLl9jbGFzcy5ydWxlKSwKICAgICAgICBjb2xvcjogY29sb3IsCiAgICAgICAgaW5oZXJpdF9jb2xvcjogaW5oZXJpdF9jb2xvciwKICAgICAgICBwYXJlbnQ6IHRoaXMuX2NsYXNzLnBhcmVudCA/IHRoaXMuX2NsYXNzLnBhcmVudCA6IFtdCiAgICAgIH07CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["CategoryEditTree.vue"],"names":[],"mappings":"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","sourcesContent":["<template lang=\"pug\">\ndiv\n  div.row.py-2.class\n    div.col-8.col-md-4\n      span(:style=\"{ marginLeft: (1.5 * depth) + 'em', cursor: _class.children.length > 0 ? 'pointer' : null}\" @click=\"expanded = !expanded\")\n        span(v-if=\"_class.children.length > 0\" style=\"opacity: 0.8\")\n          icon(:name=\"expanded ? 'regular/minus-square' : 'regular/plus-square'\" scale=\"0.8\")\n        span(v-else style=\"opacity: 0.6\")\n          icon(name=\"circle\" scale=\"0.4\" style=\"margin-left: 1em; margin-right: 1.22em;\")\n        | {{ _class.name.slice(depth).join(\" âž¤ \")}}\n        icon.ml-1(v-if=\"_class.data && _class.data.color\" name=\"circle\" :style=\"'color: ' + _class.data.color\")\n        span.ml-1(v-if=\"_class.children.length > 0\" style=\"opacity: 0.5\") ({{totalChildren}})\n\n    div.col-4.col-md-8\n      span.d-none.d-md-inline\n        span(v-if=\"_class.rule.type === 'regex'\") Rule ({{_class.rule.type}}): #[code {{_class.rule.regex}}]\n        span(v-else, style=\"color: #888\") No rule\n      span.float-right\n        b-btn.ml-1(size=\"sm\", variant=\"outline-secondary\", @click=\"showEditModal()\" style=\"border: 0;\" pill)\n          icon(name=\"edit\")\n        b-btn.ml-1(size=\"sm\", variant=\"outline-success\", @click=\"addSubclass(_class); expanded = true\" style=\"border: 0;\" pill)\n          icon(name=\"plus\")\n  div\n    div.pa-2(v-for=\"child in _class.children\", style=\"background: rgba(0, 0, 0, 0);\", v-show=\"expanded\")\n      CategoryEditTree(:_class=\"child\", :depth=\"depth+1\")\n\n  b-modal(id=\"edit\" ref=\"edit\" title=\"Edit category\" @show=\"resetModal\" @hidden=\"resetModal\" @ok=\"handleOk\")\n    div.my-1\n      b-input-group.my-1(prepend=\"Name\")\n        b-form-input(v-model=\"editing.name\")\n      b-input-group(prepend=\"Parent\")\n        b-select(v-model=\"editing.parent\", :options=\"allCategories\")\n\n    hr\n\n    div.my-1\n      b Rule\n      b-input-group.my-1(prepend=\"Type\")\n        b-select(v-model=\"editing.rule.type\", :options=\"allRuleTypes\")\n      div(v-if=\"editing.rule.type === 'regex'\")\n        b-input-group.my-1(prepend=\"Pattern\")\n          b-form-input(v-model=\"editing.rule.regex\")\n        b-form-checkbox(v-model=\"editing.rule.ignore_case\" switch)\n          | Ignore case\n\n    hr\n\n    div.my-1\n      b Color\n\n      b-form-checkbox(v-model=\"editing.inherit_color\" switch)\n        | Inherit parent color\n      div.mt-1(v-show=\"!editing.inherit_color\")\n        color-picker(v-model=\"editing.color\")\n\n    //\n      div.my-1\n        b Productivity score\n        b-input-group.my-1(prepend=\"Points\")\n          b-form-input(v-model=\"editing.productivity\")\n\n    hr\n\n    div.my-1\n      b-btn(variant=\"danger\", @click=\"removeClass(_class); $refs.edit.hide()\")\n        icon(name=\"trash\")\n        | Remove category\n</template>\n\n<script>\nimport 'vue-awesome/icons/regular/plus-square';\nimport 'vue-awesome/icons/regular/minus-square';\nimport 'vue-awesome/icons/circle';\nimport 'vue-awesome/icons/caret-right';\nimport 'vue-awesome/icons/trash';\nimport 'vue-awesome/icons/plus';\nimport 'vue-awesome/icons/edit';\n\nimport ColorPicker from '~/components/ColorPicker';\n\nimport _ from 'lodash';\n\nexport default {\n  name: 'CategoryEditTree',\n  components: {\n    'color-picker': ColorPicker,\n  },\n  props: {\n    _class: Object,\n    depth: {\n      type: Number,\n      default: 0,\n    },\n  },\n  data: function () {\n    return {\n      expanded: this.depth < 1,\n      color_focused: false,\n      editing: {\n        id: 0, // FIXME: Use ID assigned to category in vuex store, in order for saves to be uniquely targeted\n        name: null,\n        rule: {},\n        parent: [],\n        inherit_color: true,\n        color: null,\n      },\n    };\n  },\n  computed: {\n    allCategories: function () {\n      const categories = this.$store.getters['categories/all_categories'];\n      const entries = categories.map(c => {\n        return { text: c.join('->'), value: c };\n      });\n      return [{ value: [], text: 'None' }].concat(entries);\n    },\n    allRuleTypes: function () {\n      return [\n        { value: null, text: 'None' },\n        { value: 'regex', text: 'Regular Expression' },\n        //{ value: 'glob', text: 'Glob pattern' },\n      ];\n    },\n    totalChildren: function () {\n      function countChildren(node) {\n        return node.children.length + _.sum(_.map(node.children, countChildren));\n      }\n      return countChildren(this._class);\n    },\n  },\n  methods: {\n    addSubclass: function (parent) {\n      this.$store.commit('categories/addClass', {\n        name: parent.name.concat(['New class']),\n        rule: { type: 'regex', regex: 'FILL ME' },\n      });\n    },\n    removeClass: function (_class) {\n      // TODO: Show a confirmation dialog\n      // TODO: Remove children as well?\n      // TODO: Move button to edit modal?\n      this.$store.commit('categories/removeClass', _class);\n    },\n    showEditModal() {\n      this.$refs.edit.show();\n    },\n    checkFormValidity() {\n      // FIXME\n      return true;\n    },\n    handleOk(event) {\n      // Prevent modal from closing\n      event.preventDefault();\n      // Trigger submit handler\n      this.handleSubmit();\n    },\n    handleSubmit() {\n      // Exit when the form isn't valid\n      if (!this.checkFormValidity()) {\n        return;\n      }\n\n      // Save the category\n      const new_class = {\n        id: this.editing.id,\n        name: this.editing.parent.concat(this.editing.name),\n        rule: this.editing.rule.type !== null ? this.editing.rule : { type: null },\n        data: { color: this.editing.inherit_color === true ? undefined : this.editing.color },\n      };\n      this.$store.commit('categories/updateClass', new_class);\n\n      // Hide the modal manually\n      this.$nextTick(() => {\n        this.$refs.edit.hide();\n      });\n    },\n    resetModal() {\n      const color = this._class.data ? this._class.data.color : undefined;\n      const inherit_color = !color;\n      this.editing = {\n        id: this._class.id,\n        name: this._class.subname,\n        rule: _.cloneDeep(this._class.rule),\n        color,\n        inherit_color,\n        parent: this._class.parent ? this._class.parent : [],\n      };\n      //console.log(this.editing);\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.row.class:hover {\n  background-color: #eee;\n  boder-radius: 5px;\n}\n</style>\n"],"sourceRoot":"src/components"}]}