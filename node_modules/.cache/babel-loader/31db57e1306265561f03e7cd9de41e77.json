{"remainingRequest":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/thread-loader/dist/cjs.js!/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/babel-loader/lib/index.js!/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/src/views/Timeline.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/src/views/Timeline.vue","mtime":1622212604097},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnBhcnNlLWludCI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2phc2thcmFuL2NvZGUvamFza2FyYW4vYWN0aXZpdHl3YXRjaC9hdy1zZXJ2ZXIvYXctd2VidWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX3N1bUJ5IGZyb20gImxvZGFzaC9zdW1CeSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnVGltZWxpbmUnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBidWNrZXRzOiBudWxsLAogICAgICBkYXRlcmFuZ2U6IG51bGwsCiAgICAgIHRpbWVpbnRlcnZhbERlZmF1bHREdXJhdGlvbjogTnVtYmVyLnBhcnNlSW50KGxvY2FsU3RvcmFnZS5kdXJhdGlvbkRlZmF1bHQpIHx8IDYwICogNjAsCiAgICAgIG1heER1cmF0aW9uOiAzMSAqIDI0ICogNjAgKiA2MAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBudW1fZXZlbnRzOiBmdW5jdGlvbiBudW1fZXZlbnRzKCkgewogICAgICByZXR1cm4gX3N1bUJ5KHRoaXMuYnVja2V0cywgJ2V2ZW50cy5sZW5ndGgnKTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBkYXRlcmFuZ2U6IGZ1bmN0aW9uIGRhdGVyYW5nZSgpIHsKICAgICAgdGhpcy5nZXRCdWNrZXRzKCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRCdWNrZXRzOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0QnVja2V0cyA9IF9hc3luY1RvR2VuZXJhdG9yKHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2J1Y2tldHMvZ2V0QnVja2V0c1dpdGhFdmVudHMnLCB7CiAgICAgICAgICAgICAgICAgIHN0YXJ0OiB0aGlzLmRhdGVyYW5nZVswXS5mb3JtYXQoKSwKICAgICAgICAgICAgICAgICAgZW5kOiB0aGlzLmRhdGVyYW5nZVsxXS5mb3JtYXQoKQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHRoaXMuYnVja2V0cyA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXRCdWNrZXRzKCkgewogICAgICAgIHJldHVybiBfZ2V0QnVja2V0cy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0QnVja2V0czsKICAgIH0oKQogIH0KfTs="},{"version":3,"sources":["Timeline.vue"],"names":[],"mappings":";;;;;AAuBA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,IADA;AAEA,MAAA,SAAA,EAAA,IAFA;AAGA,MAAA,2BAAA,EAAA,MAAA,CAAA,QAAA,CAAA,YAAA,CAAA,eAAA,KAAA,KAAA,EAHA;AAIA,MAAA,WAAA,EAAA,KAAA,EAAA,GAAA,EAAA,GAAA;AAJA,KAAA;AAMA,GATA;AAUA,EAAA,QAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,aAAA,OAAA,KAAA,OAAA,EAAA,eAAA,CAAA;AACA;AAHA,GAVA;AAeA,EAAA,KAAA,EAAA;AACA,IAAA,SADA,uBACA;AACA,WAAA,UAAA;AACA;AAHA,GAfA;AAoBA,EAAA,OAAA,EAAA;AACA,IAAA,UAAA;AAAA,kEAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,MAAA,CAAA,QAAA,CAAA,8BAAA,EAAA;AACA,kBAAA,KAAA,EAAA,KAAA,SAAA,CAAA,CAAA,EAAA,MAAA,EADA;AAEA,kBAAA,GAAA,EAAA,KAAA,SAAA,CAAA,CAAA,EAAA,MAAA;AAFA,iBAAA,CADA;;AAAA;AACA,qBAAA,OADA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AADA;AApBA,CAAA","sourcesContent":["<template lang=\"pug\">\ndiv\n  h2 Timeline\n\n  input-timeinterval(v-model=\"daterange\", :defaultDuration=\"timeintervalDefaultDuration\", :maxDuration=\"maxDuration\")\n\n  div(v-show=\"buckets !== null\")\n    div\n      div(style=\"float: left\")\n        | Events shown:  {{ num_events }}\n      div(style=\"float: right; color: #999\")\n        | Drag to pan and scroll to zoom.\n    div(style=\"clear: both\")\n    vis-timeline(:buckets=\"buckets\", :showRowLabels='true', :queriedInterval=\"daterange\")\n\n    aw-devonly(reason=\"Not ready for production, still experimenting\")\n      aw-calendar(:buckets=\"buckets\")\n  div(v-show=\"!(buckets !== null && num_events)\")\n    h1 Loading...\n</template>\n\n<script>\nimport _ from 'lodash';\nexport default {\n  name: 'Timeline',\n  data() {\n    return {\n      buckets: null,\n      daterange: null,\n      timeintervalDefaultDuration: Number.parseInt(localStorage.durationDefault) || 60 * 60,\n      maxDuration: 31 * 24 * 60 * 60,\n    };\n  },\n  computed: {\n    num_events() {\n      return _.sumBy(this.buckets, 'events.length');\n    },\n  },\n  watch: {\n    daterange() {\n      this.getBuckets();\n    },\n  },\n  methods: {\n    getBuckets: async function () {\n      this.buckets = await this.$store.dispatch('buckets/getBucketsWithEvents', {\n        start: this.daterange[0].format(),\n        end: this.daterange[1].format(),\n      });\n    },\n  },\n};\n</script>\n"],"sourceRoot":"src/views"}]}