{"remainingRequest":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/thread-loader/dist/cjs.js!/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/babel-loader/lib/index.js!/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/src/views/activity/ActivityView.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/src/views/activity/ActivityView.vue","mtime":1622830085274},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2phc2thcmFuL2NvZGUvamFza2FyYW4vYWN0aXZpdHl3YXRjaC9hdy1zZXJ2ZXItcnVzdC9hdy13ZWJ1aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAndnVlLWF3ZXNvbWUvaWNvbnMvc2F2ZSc7CmltcG9ydCAndnVlLWF3ZXNvbWUvaWNvbnMvdGltZXMnOwppbXBvcnQgJ3Z1ZS1hd2Vzb21lL2ljb25zL3RyYXNoJzsKaW1wb3J0ICd2dWUtYXdlc29tZS9pY29ucy91bmRvJzsKaW1wb3J0IGRyYWdnYWJsZSBmcm9tICd2dWVkcmFnZ2FibGUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0FjdGl2aXR5VmlldycsCiAgY29tcG9uZW50czogewogICAgZHJhZ2dhYmxlOiBkcmFnZ2FibGUKICB9LAogIHByb3BzOiB7CiAgICB2aWV3X2lkOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgImRlZmF1bHQiOiAnZGVmYXVsdCcKICAgIH0sCiAgICBwZXJpb2RMZW5ndGg6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICAiZGVmYXVsdCI6ICdkYXknCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZWRpdGluZzogZmFsc2UKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgdmlldzogZnVuY3Rpb24gdmlldygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLnZpZXdfaWQgPT0gJ2RlZmF1bHQnKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnZpZXdzLnZpZXdzWzBdOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS52aWV3cy52aWV3cy5maW5kKGZ1bmN0aW9uICh2KSB7CiAgICAgICAgICByZXR1cm4gdi5pZCA9PSBfdGhpcy52aWV3X2lkOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgZWxlbWVudHM6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5lbGVtZW50czsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZWxlbWVudHMpIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3ZpZXdzL3NldEVsZW1lbnRzJywgewogICAgICAgICAgdmlld19pZDogdGhpcy52aWV3LmlkLAogICAgICAgICAgZWxlbWVudHM6IGVsZW1lbnRzCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHNhdmU6IGZ1bmN0aW9uIHNhdmUoKSB7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCd2aWV3cy9zYXZlJyk7CiAgICB9LAogICAgZGlzY2FyZDogZnVuY3Rpb24gZGlzY2FyZCgpIHsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3ZpZXdzL2xvYWQnKTsKICAgIH0sCiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCd2aWV3cy9yZW1vdmVWaWV3JywgewogICAgICAgIHZpZXdfaWQ6IHRoaXMudmlldy5pZAogICAgICB9KTsKCiAgICAgIGlmICghdGhpcy4kcm91dGUucGF0aC5pbmNsdWRlcygnZGVmYXVsdCcpKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoJy4vZGVmYXVsdCcpOwogICAgICB9CiAgICB9LAogICAgcmVzdG9yZURlZmF1bHRzOiBmdW5jdGlvbiByZXN0b3JlRGVmYXVsdHMoKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgndmlld3MvcmVzdG9yZURlZmF1bHRzJyk7CiAgICAgIGFsZXJ0KCJBbGwgdmlld3MgaGF2ZSBiZWVuIHJlc3RvcmVkIHRvIGRlZmF1bHRzLiBDaGFuZ2VzIHdvbid0IGJlIHNhdmVkIHVudGlsIHlvdSBjbGljayAnU2F2ZScuIik7CgogICAgICBpZiAoIXRoaXMuJHJvdXRlLnBhdGguaW5jbHVkZXMoJ2RlZmF1bHQnKSkgewogICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKCcuL2RlZmF1bHQnKTsKICAgICAgfQogICAgfSwKICAgIGFkZFZpc3VhbGl6YXRpb246IGZ1bmN0aW9uIGFkZFZpc3VhbGl6YXRpb24oKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgndmlld3MvYWRkVmlzdWFsaXphdGlvbicsIHsKICAgICAgICB2aWV3X2lkOiB0aGlzLnZpZXcuaWQsCiAgICAgICAgdHlwZTogJ3RvcF9hcHBzJwogICAgICB9KTsKICAgIH0sCiAgICBvblR5cGVDaGFuZ2U6IGZ1bmN0aW9uIG9uVHlwZUNoYW5nZShpZCwgdHlwZSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcihyZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kc3RvcmUuY29tbWl0KCd2aWV3cy9lZGl0VmlldycsIHsKICAgICAgICAgICAgICAgICAgdmlld19pZDogX3RoaXMyLnZpZXcuaWQsCiAgICAgICAgICAgICAgICAgIGVsX2lkOiBpZCwKICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBvblJlbW92ZTogZnVuY3Rpb24gb25SZW1vdmUoaWQpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IocmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuJHN0b3JlLmNvbW1pdCgndmlld3MvcmVtb3ZlVmlzdWFsaXphdGlvbicsIHsKICAgICAgICAgICAgICAgICAgdmlld19pZDogX3RoaXMzLnZpZXcuaWQsCiAgICAgICAgICAgICAgICAgIGVsX2lkOiBpZAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGlzVmlzTGFyZ2U6IGZ1bmN0aW9uIGlzVmlzTGFyZ2UoZWwpIHsKICAgICAgcmV0dXJuIGVsLnR5cGUgPT0gJ3N1bmJ1cnN0X2Nsb2NrJzsKICAgIH0KICB9Cn07"},{"version":3,"sources":["ActivityView.vue"],"names":[],"mappings":"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","sourcesContent":["<template lang=\"pug\">\ndiv(v-if=\"view\")\n  draggable.row(v-model=\"elements\" handle=\".handle\")\n    // TODO: Handle large/variable sized visualizations better\n    div.col-md-6.col-lg-4.p-3(v-for=\"el, index in elements\", :key=\"index\", :class=\"{'col-md-12': isVisLarge(el), 'col-lg-8': isVisLarge(el)}\")\n      aw-selectable-vis(:id=\"index\" :type=\"el.type\" @onTypeChange=\"onTypeChange\" @onRemove=\"onRemove\" :editable=\"editing\")\n\n    div.col-md-6.col-lg-4.p-3(v-if=\"editing\")\n      b-button(@click=\"addVisualization\" variant=\"outline-dark\" block size=\"lg\")\n        icon(name=\"plus\")\n        span Add visualization\n\n  div(v-if=\"editing\").mt-2\n    div.d-flex.flex-row-reverse\n      b-button(variant=\"outline-dark\" @click=\"discard(); editing = !editing;\")\n        icon(name=\"times\")\n        span Cancel\n      b-button.mr-2(variant=\"success\" @click=\"save(); editing = !editing;\")\n        icon(name=\"save\")\n        span Save\n    div.mt-2.d-flex.flex-row-reverse\n      b-button(variant=\"warning\" size=\"sm\" @click=\"restoreDefaults();\")\n        icon(name=\"undo\")\n        span Restore defaults\n      b-button.mr-2(variant=\"danger\" size=\"sm\" @click=\"remove();\")\n        icon(name=\"trash\")\n        span Remove\n  div(v-else).d-flex.flex-row-reverse.mt-2\n    b-button(variant=\"outline-dark\" size=\"sm\" @click=\"editing = !editing\")\n      icon(name=\"edit\")\n      span Edit view\n</template>\n\n<script>\nimport 'vue-awesome/icons/save';\nimport 'vue-awesome/icons/times';\nimport 'vue-awesome/icons/trash';\nimport 'vue-awesome/icons/undo';\nimport draggable from 'vuedraggable';\n\nexport default {\n  name: 'ActivityView',\n  components: {\n    draggable: draggable,\n  },\n  props: {\n    view_id: { type: String, default: 'default' },\n    periodLength: {\n      type: String,\n      default: 'day',\n    },\n  },\n  data() {\n    return { editing: false };\n  },\n  computed: {\n    view: function () {\n      if (this.view_id == 'default') {\n        return this.$store.state.views.views[0];\n      } else {\n        return this.$store.state.views.views.find(v => v.id == this.view_id);\n      }\n    },\n    elements: {\n      get() {\n        return this.view.elements;\n      },\n      set(elements) {\n        this.$store.commit('views/setElements', { view_id: this.view.id, elements });\n      },\n    },\n  },\n  methods: {\n    save() {\n      this.$store.dispatch('views/save');\n    },\n    discard() {\n      this.$store.dispatch('views/load');\n    },\n    remove() {\n      this.$store.commit('views/removeView', { view_id: this.view.id });\n      // If we're on an URL that'll be invalid after removing the view, navigate to the main/default view\n      if (!this.$route.path.includes('default')) {\n        this.$router.replace('./default');\n      }\n    },\n    restoreDefaults() {\n      this.$store.commit('views/restoreDefaults');\n      alert(\n        \"All views have been restored to defaults. Changes won't be saved until you click 'Save'.\"\n      );\n      // If we're on an URL that might become invalid, navigate to the main/default view\n      if (!this.$route.path.includes('default')) {\n        this.$router.replace('./default');\n      }\n    },\n    addVisualization: function () {\n      this.$store.commit('views/addVisualization', { view_id: this.view.id, type: 'top_apps' });\n    },\n    async onTypeChange(id, type) {\n      await this.$store.commit('views/editView', { view_id: this.view.id, el_id: id, type });\n    },\n    async onRemove(id) {\n      await this.$store.commit('views/removeVisualization', { view_id: this.view.id, el_id: id });\n    },\n    isVisLarge(el) {\n      return el.type == 'sunburst_clock';\n    },\n  },\n};\n</script>\n"],"sourceRoot":"src/views/activity"}]}