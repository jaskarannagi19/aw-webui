{"remainingRequest":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/thread-loader/dist/cjs.js!/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/babel-loader/lib/index.js!/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/eslint-loader/index.js??ref--12-0!/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/src/store/modules/buckets.js","dependencies":[{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/src/store/modules/buckets.js","mtime":1622830085274},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN0YXJ0cy13aXRoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2phc2thcmFuL2NvZGUvamFza2FyYW4vYWN0aXZpdHl3YXRjaC9hdy1zZXJ2ZXItcnVzdC9hdy13ZWJ1aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Cgp2YXIgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpOwoKdmFyIHN0YXRlID0gewogIGJ1Y2tldHM6IFtdCn07CgpmdW5jdGlvbiBnZXRfYnVja2V0c19ieV90eXBlKGJ1Y2tldHMsIHR5cGUpIHsKICByZXR1cm4gXy5tYXAoXy5maWx0ZXIoYnVja2V0cywgZnVuY3Rpb24gKGJ1Y2tldCkgewogICAgcmV0dXJuIGJ1Y2tldFsndHlwZSddID09PSB0eXBlICYmICFidWNrZXRbJ2lkJ10uaW5jbHVkZXMoJ3Rlc3RpbmcnKTsKICB9KSwgZnVuY3Rpb24gKGJ1Y2tldCkgewogICAgcmV0dXJuIGJ1Y2tldFsnaWQnXTsKICB9KTsKfQoKZnVuY3Rpb24gZ2V0X2J1Y2tldHNfYnlfaG9zdF9hbmRfdHlwZShidWNrZXRzLCBob3N0LCB0eXBlKSB7CiAgcmV0dXJuIF8ubWFwKF8uZmlsdGVyKGJ1Y2tldHMsIGZ1bmN0aW9uIChidWNrZXQpIHsKICAgIHJldHVybiBidWNrZXRbJ3R5cGUnXSA9PT0gdHlwZSAmJiBidWNrZXRbJ2hvc3RuYW1lJ10gPT0gaG9zdCAmJiAhYnVja2V0WydpZCddLmluY2x1ZGVzKCd0ZXN0aW5nJyk7CiAgfSksIGZ1bmN0aW9uIChidWNrZXQpIHsKICAgIHJldHVybiBidWNrZXRbJ2lkJ107CiAgfSk7Cn0KCnZhciBnZXR0ZXJzID0gewogIGFma0J1Y2tldHNCeUhvc3Q6IGZ1bmN0aW9uIGFma0J1Y2tldHNCeUhvc3Qoc3RhdGUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoaG9zdCkgewogICAgICByZXR1cm4gZ2V0X2J1Y2tldHNfYnlfaG9zdF9hbmRfdHlwZShzdGF0ZS5idWNrZXRzLCBob3N0LCAnYWZrc3RhdHVzJyk7CiAgICB9OwogIH0sCiAgd2luZG93QnVja2V0c0J5SG9zdDogZnVuY3Rpb24gd2luZG93QnVja2V0c0J5SG9zdChzdGF0ZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uIChob3N0KSB7CiAgICAgIHJldHVybiBfLmZpbHRlcihnZXRfYnVja2V0c19ieV9ob3N0X2FuZF90eXBlKHN0YXRlLmJ1Y2tldHMsIGhvc3QsICdjdXJyZW50d2luZG93JyksIGZ1bmN0aW9uIChpZCkgewogICAgICAgIHJldHVybiAhaWQuc3RhcnRzV2l0aCgnYXctd2F0Y2hlci1hbmRyb2lkJyk7CiAgICAgIH0pOwogICAgfTsKICB9LAogIGFuZHJvaWRCdWNrZXRzQnlIb3N0OiBmdW5jdGlvbiBhbmRyb2lkQnVja2V0c0J5SG9zdChzdGF0ZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uIChob3N0KSB7CiAgICAgIHJldHVybiBfLmZpbHRlcihnZXRfYnVja2V0c19ieV9ob3N0X2FuZF90eXBlKHN0YXRlLmJ1Y2tldHMsIGhvc3QsICdjdXJyZW50d2luZG93JyksIGZ1bmN0aW9uIChpZCkgewogICAgICAgIHJldHVybiBpZC5zdGFydHNXaXRoKCdhdy13YXRjaGVyLWFuZHJvaWQnKTsKICAgICAgfSk7CiAgICB9OwogIH0sCiAgZWRpdG9yQnVja2V0czogZnVuY3Rpb24gZWRpdG9yQnVja2V0cyhzdGF0ZSkgewogICAgcmV0dXJuIGdldF9idWNrZXRzX2J5X3R5cGUoc3RhdGUuYnVja2V0cywgJ2FwcC5lZGl0b3IuYWN0aXZpdHknKTsKICB9LAogIGJyb3dzZXJCdWNrZXRzOiBmdW5jdGlvbiBicm93c2VyQnVja2V0cyhzdGF0ZSkgewogICAgcmV0dXJuIGdldF9idWNrZXRzX2J5X3R5cGUoc3RhdGUuYnVja2V0cywgJ3dlYi50YWIuY3VycmVudCcpOwogIH0sCiAgZ2V0QnVja2V0OiBmdW5jdGlvbiBnZXRCdWNrZXQoc3RhdGUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoaWQpIHsKICAgICAgcmV0dXJuIF8uZmlsdGVyKHN0YXRlLmJ1Y2tldHMsIGZ1bmN0aW9uIChiKSB7CiAgICAgICAgcmV0dXJuIGIuaWQgPT09IGlkOwogICAgICB9KVswXTsKICAgIH07CiAgfSwKICBidWNrZXRzQnlIb3N0bmFtZTogZnVuY3Rpb24gYnVja2V0c0J5SG9zdG5hbWUoc3RhdGUpIHsKICAgIHJldHVybiBfLmdyb3VwQnkoc3RhdGUuYnVja2V0cywgJ2hvc3RuYW1lJyk7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICBlbnN1cmVCdWNrZXRzOiBmdW5jdGlvbiBlbnN1cmVCdWNrZXRzKF9yZWYpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcihyZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgc3RhdGUsIGRpc3BhdGNoOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgc3RhdGUgPSBfcmVmLnN0YXRlLCBkaXNwYXRjaCA9IF9yZWYuZGlzcGF0Y2g7CgogICAgICAgICAgICAgIGlmICghKHN0YXRlLmJ1Y2tldHMubGVuZ3RoID09PSAwKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnbG9hZEJ1Y2tldHMnKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGxvYWRCdWNrZXRzOiBmdW5jdGlvbiBsb2FkQnVja2V0cyhfcmVmMikgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IocmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgIHZhciBjb21taXQsIGJ1Y2tldHM7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX3ZtLiRhdy5nZXRCdWNrZXRzKCk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgYnVja2V0cyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIGNvbW1pdCgndXBkYXRlX2J1Y2tldHMnLCBidWNrZXRzKTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyKTsKICAgIH0pKSgpOwogIH0sCiAgZ2V0QnVja2V0V2l0aEV2ZW50czogZnVuY3Rpb24gZ2V0QnVja2V0V2l0aEV2ZW50cyhfcmVmMywgX3JlZjQpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcihyZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgdmFyIGdldHRlcnMsIGRpc3BhdGNoLCBpZCwgc3RhcnQsIGVuZCwgYnVja2V0OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGdldHRlcnMgPSBfcmVmMy5nZXR0ZXJzLCBkaXNwYXRjaCA9IF9yZWYzLmRpc3BhdGNoOwogICAgICAgICAgICAgIGlkID0gX3JlZjQuaWQsIHN0YXJ0ID0gX3JlZjQuc3RhcnQsIGVuZCA9IF9yZWY0LmVuZDsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdlbnN1cmVCdWNrZXRzJyk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgYnVja2V0ID0gXy5jbG9uZURlZXAoZ2V0dGVycy5nZXRCdWNrZXQoaWQpKTsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDc7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5fdm0uJGF3LmdldEV2ZW50cyhidWNrZXQuaWQsIHsKICAgICAgICAgICAgICAgIHN0YXJ0OiBzdGFydCwKICAgICAgICAgICAgICAgIGVuZDogZW5kLAogICAgICAgICAgICAgICAgbGltaXQ6IC0xCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgYnVja2V0LmV2ZW50cyA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCBidWNrZXQpOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTMpOwogICAgfSkpKCk7CiAgfSwKICBnZXRCdWNrZXRzV2l0aEV2ZW50czogZnVuY3Rpb24gZ2V0QnVja2V0c1dpdGhFdmVudHMoX3JlZjUsIF9yZWY2KSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IocmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgIHZhciBzdGF0ZSwgZGlzcGF0Y2gsIHN0YXJ0LCBlbmQsIGJ1Y2tldHM7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgc3RhdGUgPSBfcmVmNS5zdGF0ZSwgZGlzcGF0Y2ggPSBfcmVmNS5kaXNwYXRjaDsKICAgICAgICAgICAgICBzdGFydCA9IF9yZWY2LnN0YXJ0LCBlbmQgPSBfcmVmNi5lbmQ7CiAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnZW5zdXJlQnVja2V0cycpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNjsKICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoXy5tYXAoc3RhdGUuYnVja2V0cywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgdmFyIF9yZWY3ID0gX2FzeW5jVG9HZW5lcmF0b3IocmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoYnVja2V0KSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnZ2V0QnVja2V0V2l0aEV2ZW50cycsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBidWNrZXQuaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydDogc3RhcnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQ6IGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDQuc2VudCk7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjcuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgfSgpKSk7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgYnVja2V0cyA9IF9jb250ZXh0NS5zZW50OwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCBfLm9yZGVyQnkoYnVja2V0cywgW2Z1bmN0aW9uIChiKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gYi5pZDsKICAgICAgICAgICAgICB9XSwgWydhc2MnXSkpOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTUpOwogICAgfSkpKCk7CiAgfSwKICBkZWxldGVCdWNrZXQ6IGZ1bmN0aW9uIGRlbGV0ZUJ1Y2tldChfcmVmOCwgX3JlZjkpIHsKICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcihyZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgICAgdmFyIGRpc3BhdGNoLCBidWNrZXRJZDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBkaXNwYXRjaCA9IF9yZWY4LmRpc3BhdGNoOwogICAgICAgICAgICAgIGJ1Y2tldElkID0gX3JlZjkuYnVja2V0SWQ7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coIkRlbGV0aW5nIGJ1Y2tldCAiLmNvbmNhdChidWNrZXRJZCkpOwogICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLl92bS4kYXcuZGVsZXRlQnVja2V0KGJ1Y2tldElkKTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDc7CiAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdsb2FkQnVja2V0cycpOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTYpOwogICAgfSkpKCk7CiAgfQp9Owp2YXIgbXV0YXRpb25zID0gewogIHVwZGF0ZV9idWNrZXRzOiBmdW5jdGlvbiB1cGRhdGVfYnVja2V0cyhzdGF0ZSwgYnVja2V0cykgewogICAgc3RhdGUuYnVja2V0cyA9IGJ1Y2tldHM7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogc3RhdGUsCiAgZ2V0dGVyczogZ2V0dGVycywKICBhY3Rpb25zOiBhY3Rpb25zLAogIG11dGF0aW9uczogbXV0YXRpb25zCn07"},{"version":3,"sources":["/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/src/store/modules/buckets.js"],"names":["_","require","state","buckets","get_buckets_by_type","type","map","filter","bucket","includes","get_buckets_by_host_and_type","host","getters","afkBucketsByHost","windowBucketsByHost","id","startsWith","androidBucketsByHost","editorBuckets","browserBuckets","getBucket","b","bucketsByHostname","groupBy","actions","ensureBuckets","dispatch","length","loadBuckets","commit","_vm","$aw","getBuckets","getBucketWithEvents","start","end","cloneDeep","getEvents","limit","events","getBucketsWithEvents","Promise","all","orderBy","deleteBucket","bucketId","console","log","mutations","update_buckets","namespaced"],"mappings":";;;;;;;;;;;AAAA,IAAMA,CAAC,GAAGC,OAAO,CAAC,QAAD,CAAjB;;AAGA,IAAMC,KAAK,GAAG;AACZC,EAAAA,OAAO,EAAE;AADG,CAAd;;AAKA,SAASC,mBAAT,CAA6BD,OAA7B,EAAsCE,IAAtC,EAA4C;AAC1C,SAAOL,CAAC,CAACM,GAAF,CACLN,CAAC,CAACO,MAAF,CAASJ,OAAT,EAAkB,UAAAK,MAAM;AAAA,WAAIA,MAAM,CAAC,MAAD,CAAN,KAAmBH,IAAnB,IAA2B,CAACG,MAAM,CAAC,IAAD,CAAN,CAAaC,QAAb,CAAsB,SAAtB,CAAhC;AAAA,GAAxB,CADK,EAEL,UAAAD,MAAM;AAAA,WAAIA,MAAM,CAAC,IAAD,CAAV;AAAA,GAFD,CAAP;AAID;;AAGD,SAASE,4BAAT,CAAsCP,OAAtC,EAA+CQ,IAA/C,EAAqDN,IAArD,EAA2D;AACzD,SAAOL,CAAC,CAACM,GAAF,CACLN,CAAC,CAACO,MAAF,CACEJ,OADF,EAEE,UAAAK,MAAM;AAAA,WACJA,MAAM,CAAC,MAAD,CAAN,KAAmBH,IAAnB,IAA2BG,MAAM,CAAC,UAAD,CAAN,IAAsBG,IAAjD,IAAyD,CAACH,MAAM,CAAC,IAAD,CAAN,CAAaC,QAAb,CAAsB,SAAtB,CADtD;AAAA,GAFR,CADK,EAML,UAAAD,MAAM;AAAA,WAAIA,MAAM,CAAC,IAAD,CAAV;AAAA,GAND,CAAP;AAQD;;AAGD,IAAMI,OAAO,GAAG;AACdC,EAAAA,gBAAgB,EAAE,0BAAAX,KAAK;AAAA,WAAI,UAAAS,IAAI,EAAI;AACjC,aAAOD,4BAA4B,CAACR,KAAK,CAACC,OAAP,EAAgBQ,IAAhB,EAAsB,WAAtB,CAAnC;AACD,KAFsB;AAAA,GADT;AAIdG,EAAAA,mBAAmB,EAAE,6BAAAZ,KAAK;AAAA,WAAI,UAAAS,IAAI,EAAI;AACpC,aAAOX,CAAC,CAACO,MAAF,CACLG,4BAA4B,CAACR,KAAK,CAACC,OAAP,EAAgBQ,IAAhB,EAAsB,eAAtB,CADvB,EAEL,UAAAI,EAAE;AAAA,eAAI,CAACA,EAAE,CAACC,UAAH,CAAc,oBAAd,CAAL;AAAA,OAFG,CAAP;AAID,KALyB;AAAA,GAJZ;AAUdC,EAAAA,oBAAoB,EAAE,8BAAAf,KAAK;AAAA,WAAI,UAAAS,IAAI,EAAI;AACrC,aAAOX,CAAC,CAACO,MAAF,CAASG,4BAA4B,CAACR,KAAK,CAACC,OAAP,EAAgBQ,IAAhB,EAAsB,eAAtB,CAArC,EAA6E,UAAAI,EAAE;AAAA,eACpFA,EAAE,CAACC,UAAH,CAAc,oBAAd,CADoF;AAAA,OAA/E,CAAP;AAGD,KAJ0B;AAAA,GAVb;AAedE,EAAAA,aAfc,yBAeAhB,KAfA,EAeO;AACnB,WAAOE,mBAAmB,CAACF,KAAK,CAACC,OAAP,EAAgB,qBAAhB,CAA1B;AACD,GAjBa;AAkBdgB,EAAAA,cAlBc,0BAkBCjB,KAlBD,EAkBQ;AACpB,WAAOE,mBAAmB,CAACF,KAAK,CAACC,OAAP,EAAgB,iBAAhB,CAA1B;AACD,GApBa;AAqBdiB,EAAAA,SAAS,EAAE,mBAAAlB,KAAK;AAAA,WAAI,UAAAa,EAAE;AAAA,aAAIf,CAAC,CAACO,MAAF,CAASL,KAAK,CAACC,OAAf,EAAwB,UAAAkB,CAAC;AAAA,eAAIA,CAAC,CAACN,EAAF,KAASA,EAAb;AAAA,OAAzB,EAA0C,CAA1C,CAAJ;AAAA,KAAN;AAAA,GArBF;AAsBdO,EAAAA,iBAAiB,EAAE,2BAAApB,KAAK;AAAA,WAAIF,CAAC,CAACuB,OAAF,CAAUrB,KAAK,CAACC,OAAhB,EAAyB,UAAzB,CAAJ;AAAA;AAtBV,CAAhB;AA0BA,IAAMqB,OAAO,GAAG;AACRC,EAAAA,aADQ,+BAC2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAnBvB,cAAAA,KAAmB,QAAnBA,KAAmB,EAAZwB,QAAY,QAAZA,QAAY;;AAAA,oBACnCxB,KAAK,CAACC,OAAN,CAAcwB,MAAd,KAAyB,CADU;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAE/BD,QAAQ,CAAC,aAAD,CAFuB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIxC,GALa;AAORE,EAAAA,WAPQ,8BAOgB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAVC,cAAAA,MAAU,SAAVA,MAAU;AAAA;AAAA,qBACN,KAAI,CAACC,GAAL,CAASC,GAAT,CAAaC,UAAb,EADM;;AAAA;AACtB7B,cAAAA,OADsB;AAE5B0B,cAAAA,MAAM,CAAC,gBAAD,EAAmB1B,OAAnB,CAAN;;AAF4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAG7B,GAVa;AAYR8B,EAAAA,mBAZQ,6CAYuD;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAzCrB,cAAAA,OAAyC,SAAzCA,OAAyC,EAAhCc,QAAgC,SAAhCA,QAAgC;AAAlBX,cAAAA,EAAkB,SAAlBA,EAAkB,EAAdmB,KAAc,SAAdA,KAAc,EAAPC,GAAO,SAAPA,GAAO;AAAA;AAAA,qBAC7DT,QAAQ,CAAC,eAAD,CADqD;;AAAA;AAE7DlB,cAAAA,MAF6D,GAEpDR,CAAC,CAACoC,SAAF,CAAYxB,OAAO,CAACQ,SAAR,CAAkBL,EAAlB,CAAZ,CAFoD;AAAA;AAAA,qBAG7C,MAAI,CAACe,GAAL,CAASC,GAAT,CAAaM,SAAb,CAAuB7B,MAAM,CAACO,EAA9B,EAAkC;AACtDmB,gBAAAA,KAAK,EAALA,KADsD;AAEtDC,gBAAAA,GAAG,EAAHA,GAFsD;AAGtDG,gBAAAA,KAAK,EAAE,CAAC;AAH8C,eAAlC,CAH6C;;AAAA;AAGnE9B,cAAAA,MAAM,CAAC+B,MAH4D;AAAA,gDAQ5D/B,MAR4D;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASpE,GArBa;AAuBRgC,EAAAA,oBAvBQ,8CAuBkD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAnCtC,cAAAA,KAAmC,SAAnCA,KAAmC,EAA5BwB,QAA4B,SAA5BA,QAA4B;AAAdQ,cAAAA,KAAc,SAAdA,KAAc,EAAPC,GAAO,SAAPA,GAAO;AAAA;AAAA,qBACxDT,QAAQ,CAAC,eAAD,CADgD;;AAAA;AAAA;AAAA,qBAExCe,OAAO,CAACC,GAAR,CACpB1C,CAAC,CAACM,GAAF,CACEJ,KAAK,CAACC,OADR;AAAA,sEAEE,kBAAMK,MAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAAsBkB,QAAQ,CAAC,qBAAD,EAAwB;AAAEX,4BAAAA,EAAE,EAAEP,MAAM,CAACO,EAAb;AAAiBmB,4BAAAA,KAAK,EAALA,KAAjB;AAAwBC,4BAAAA,GAAG,EAAHA;AAAxB,2BAAxB,CAA9B;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFF;;AAAA;AAAA;AAAA;AAAA,kBADoB,CAFwC;;AAAA;AAExDhC,cAAAA,OAFwD;AAAA,gDAQvDH,CAAC,CAAC2C,OAAF,CAAUxC,OAAV,EAAmB,CAAC,UAAAkB,CAAC;AAAA,uBAAIA,CAAC,CAACN,EAAN;AAAA,eAAF,CAAnB,EAAgC,CAAC,KAAD,CAAhC,CARuD;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAS/D,GAhCa;AAkCR6B,EAAAA,YAlCQ,sCAkCiC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA1BlB,cAAAA,QAA0B,SAA1BA,QAA0B;AAAZmB,cAAAA,QAAY,SAAZA,QAAY;AAC7CC,cAAAA,OAAO,CAACC,GAAR,2BAA+BF,QAA/B;AAD6C;AAAA,qBAEvC,MAAI,CAACf,GAAL,CAASC,GAAT,CAAaa,YAAb,CAA0BC,QAA1B,CAFuC;;AAAA;AAAA;AAAA,qBAGvCnB,QAAQ,CAAC,aAAD,CAH+B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAI9C;AAtCa,CAAhB;AA0CA,IAAMsB,SAAS,GAAG;AAChBC,EAAAA,cADgB,0BACD/C,KADC,EACMC,OADN,EACe;AAC7BD,IAAAA,KAAK,CAACC,OAAN,GAAgBA,OAAhB;AACD;AAHe,CAAlB;AAMA,eAAe;AACb+C,EAAAA,UAAU,EAAE,IADC;AAEbhD,EAAAA,KAAK,EAAEA,KAFM;AAGbU,EAAAA,OAAO,EAAPA,OAHa;AAIbY,EAAAA,OAAO,EAAPA,OAJa;AAKbwB,EAAAA,SAAS,EAATA;AALa,CAAf","sourcesContent":["const _ = require('lodash');\n\n// initial state\nconst state = {\n  buckets: [],\n};\n\n// TODO: Remove the bucket['id'].includes(testing) check (only needed because I had an old bucket laying around)\nfunction get_buckets_by_type(buckets, type) {\n  return _.map(\n    _.filter(buckets, bucket => bucket['type'] === type && !bucket['id'].includes('testing')),\n    bucket => bucket['id']\n  );\n}\n\n// TODO: Remove the bucket['id'].includes(testing) check (only needed because I had an old bucket laying around)\nfunction get_buckets_by_host_and_type(buckets, host, type) {\n  return _.map(\n    _.filter(\n      buckets,\n      bucket =>\n        bucket['type'] === type && bucket['hostname'] == host && !bucket['id'].includes('testing')\n    ),\n    bucket => bucket['id']\n  );\n}\n\n// getters\nconst getters = {\n  afkBucketsByHost: state => host => {\n    return get_buckets_by_host_and_type(state.buckets, host, 'afkstatus');\n  },\n  windowBucketsByHost: state => host => {\n    return _.filter(\n      get_buckets_by_host_and_type(state.buckets, host, 'currentwindow'),\n      id => !id.startsWith('aw-watcher-android')\n    );\n  },\n  androidBucketsByHost: state => host => {\n    return _.filter(get_buckets_by_host_and_type(state.buckets, host, 'currentwindow'), id =>\n      id.startsWith('aw-watcher-android')\n    );\n  },\n  editorBuckets(state) {\n    return get_buckets_by_type(state.buckets, 'app.editor.activity');\n  },\n  browserBuckets(state) {\n    return get_buckets_by_type(state.buckets, 'web.tab.current');\n  },\n  getBucket: state => id => _.filter(state.buckets, b => b.id === id)[0],\n  bucketsByHostname: state => _.groupBy(state.buckets, 'hostname'),\n};\n\n// actions\nconst actions = {\n  async ensureBuckets({ state, dispatch }) {\n    if (state.buckets.length === 0) {\n      await dispatch('loadBuckets');\n    }\n  },\n\n  async loadBuckets({ commit }) {\n    const buckets = await this._vm.$aw.getBuckets();\n    commit('update_buckets', buckets);\n  },\n\n  async getBucketWithEvents({ getters, dispatch }, { id, start, end }) {\n    await dispatch('ensureBuckets');\n    const bucket = _.cloneDeep(getters.getBucket(id));\n    bucket.events = await this._vm.$aw.getEvents(bucket.id, {\n      start,\n      end,\n      limit: -1,\n    });\n    return bucket;\n  },\n\n  async getBucketsWithEvents({ state, dispatch }, { start, end }) {\n    await dispatch('ensureBuckets');\n    const buckets = await Promise.all(\n      _.map(\n        state.buckets,\n        async bucket => await dispatch('getBucketWithEvents', { id: bucket.id, start, end })\n      )\n    );\n    return _.orderBy(buckets, [b => b.id], ['asc']);\n  },\n\n  async deleteBucket({ dispatch }, { bucketId }) {\n    console.log(`Deleting bucket ${bucketId}`);\n    await this._vm.$aw.deleteBucket(bucketId);\n    await dispatch('loadBuckets');\n  },\n};\n\n// mutations\nconst mutations = {\n  update_buckets(state, buckets) {\n    state.buckets = buckets;\n  },\n};\n\nexport default {\n  namespaced: true,\n  state: state,\n  getters,\n  actions,\n  mutations,\n};\n"]}]}