{"remainingRequest":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/thread-loader/dist/cjs.js!/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/babel-loader/lib/index.js!/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/src/views/Timeline.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/src/views/Timeline.vue","mtime":1622830085274},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server-rust/aw-webui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnBhcnNlLWludCI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2phc2thcmFuL2NvZGUvamFza2FyYW4vYWN0aXZpdHl3YXRjaC9hdy1zZXJ2ZXItcnVzdC9hdy13ZWJ1aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfc3VtQnkgZnJvbSAibG9kYXNoL3N1bUJ5IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdUaW1lbGluZScsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGJ1Y2tldHM6IG51bGwsCiAgICAgIGRhdGVyYW5nZTogbnVsbCwKICAgICAgdGltZWludGVydmFsRGVmYXVsdER1cmF0aW9uOiBOdW1iZXIucGFyc2VJbnQobG9jYWxTdG9yYWdlLmR1cmF0aW9uRGVmYXVsdCkgfHwgNjAgKiA2MCwKICAgICAgbWF4RHVyYXRpb246IDMxICogMjQgKiA2MCAqIDYwCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIG51bV9ldmVudHM6IGZ1bmN0aW9uIG51bV9ldmVudHMoKSB7CiAgICAgIHJldHVybiBfc3VtQnkodGhpcy5idWNrZXRzLCAnZXZlbnRzLmxlbmd0aCcpOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGRhdGVyYW5nZTogZnVuY3Rpb24gZGF0ZXJhbmdlKCkgewogICAgICB0aGlzLmdldEJ1Y2tldHMoKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEJ1Y2tldHM6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9nZXRCdWNrZXRzID0gX2FzeW5jVG9HZW5lcmF0b3IocmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnYnVja2V0cy9nZXRCdWNrZXRzV2l0aEV2ZW50cycsIHsKICAgICAgICAgICAgICAgICAgc3RhcnQ6IHRoaXMuZGF0ZXJhbmdlWzBdLmZvcm1hdCgpLAogICAgICAgICAgICAgICAgICBlbmQ6IHRoaXMuZGF0ZXJhbmdlWzFdLmZvcm1hdCgpCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgdGhpcy5idWNrZXRzID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdldEJ1Y2tldHMoKSB7CiAgICAgICAgcmV0dXJuIF9nZXRCdWNrZXRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZXRCdWNrZXRzOwogICAgfSgpCiAgfQp9Ow=="},{"version":3,"sources":["Timeline.vue"],"names":[],"mappings":";;;;;AAuBA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,IADA;AAEA,MAAA,SAAA,EAAA,IAFA;AAGA,MAAA,2BAAA,EAAA,MAAA,CAAA,QAAA,CAAA,YAAA,CAAA,eAAA,KAAA,KAAA,EAHA;AAIA,MAAA,WAAA,EAAA,KAAA,EAAA,GAAA,EAAA,GAAA;AAJA,KAAA;AAMA,GATA;AAUA,EAAA,QAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,aAAA,OAAA,KAAA,OAAA,EAAA,eAAA,CAAA;AACA;AAHA,GAVA;AAeA,EAAA,KAAA,EAAA;AACA,IAAA,SADA,uBACA;AACA,WAAA,UAAA;AACA;AAHA,GAfA;AAoBA,EAAA,OAAA,EAAA;AACA,IAAA,UAAA;AAAA,kEAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,MAAA,CAAA,QAAA,CAAA,8BAAA,EAAA;AACA,kBAAA,KAAA,EAAA,KAAA,SAAA,CAAA,CAAA,EAAA,MAAA,EADA;AAEA,kBAAA,GAAA,EAAA,KAAA,SAAA,CAAA,CAAA,EAAA,MAAA;AAFA,iBAAA,CADA;;AAAA;AACA,qBAAA,OADA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AADA;AApBA,CAAA","sourcesContent":["<template lang=\"pug\">\ndiv\n  h2 Timeline\n\n  input-timeinterval(v-model=\"daterange\", :defaultDuration=\"timeintervalDefaultDuration\", :maxDuration=\"maxDuration\")\n\n  div(v-show=\"buckets !== null\")\n    div\n      div(style=\"float: left\")\n        | Events shown:  {{ num_events }}\n      div(style=\"float: right; color: #999\")\n        | Drag to pan and scroll to zoom.\n    div(style=\"clear: both\")\n    vis-timeline(:buckets=\"buckets\", :showRowLabels='true', :queriedInterval=\"daterange\")\n\n    aw-devonly(reason=\"Not ready for production, still experimenting\")\n      aw-calendar(:buckets=\"buckets\")\n  div(v-show=\"!(buckets !== null && num_events)\")\n    h1 Loading...\n</template>\n\n<script>\nimport _ from 'lodash';\nexport default {\n  name: 'Timeline',\n  data() {\n    return {\n      buckets: null,\n      daterange: null,\n      timeintervalDefaultDuration: Number.parseInt(localStorage.durationDefault) || 60 * 60,\n      maxDuration: 31 * 24 * 60 * 60,\n    };\n  },\n  computed: {\n    num_events() {\n      return _.sumBy(this.buckets, 'events.length');\n    },\n  },\n  watch: {\n    daterange() {\n      this.getBuckets();\n    },\n  },\n  methods: {\n    getBuckets: async function () {\n      this.buckets = await this.$store.dispatch('buckets/getBucketsWithEvents', {\n        start: this.daterange[0].format(),\n        end: this.daterange[1].format(),\n      });\n    },\n  },\n};\n</script>\n"],"sourceRoot":"src/views"}]}