{"remainingRequest":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/thread-loader/dist/cjs.js!/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/babel-loader/lib/index.js!/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/src/components/Header.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/src/components/Header.vue","mtime":1622212604093},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jaskaran/code/jaskaran/activitywatch/aw-server/aw-webui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvaG9tZS9qYXNrYXJhbi9jb2RlL2phc2thcmFuL2FjdGl2aXR5d2F0Y2gvYXctc2VydmVyL2F3LXdlYnVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9lYWNoIGZyb20gImxvZGFzaC9lYWNoIjsKaW1wb3J0ICd2dWUtYXdlc29tZS9pY29ucy9jYWxlbmRhci1kYXknOwppbXBvcnQgJ3Z1ZS1hd2Vzb21lL2ljb25zL2NhbGVuZGFyLXdlZWsnOwppbXBvcnQgJ3Z1ZS1hd2Vzb21lL2ljb25zL3N0cmVhbSc7CmltcG9ydCAndnVlLWF3ZXNvbWUvaWNvbnMvZGF0YWJhc2UnOwppbXBvcnQgJ3Z1ZS1hd2Vzb21lL2ljb25zL3NlYXJjaCc7CmltcG9ydCAndnVlLWF3ZXNvbWUvaWNvbnMvY29kZSc7CmltcG9ydCAndnVlLWF3ZXNvbWUvaWNvbnMvc3RvcHdhdGNoJzsKaW1wb3J0ICd2dWUtYXdlc29tZS9pY29ucy9jb2cnOwppbXBvcnQgJ3Z1ZS1hd2Vzb21lL2ljb25zL3Rvb2xzJzsKaW1wb3J0ICd2dWUtYXdlc29tZS9pY29ucy9tb2JpbGUnOwppbXBvcnQgJ3Z1ZS1hd2Vzb21lL2ljb25zL2Rlc2t0b3AnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0hlYWRlcicsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFjdGl2aXR5Vmlld3M6IFtdLAogICAgICBmaXhlZFRvcE1lbnU6IHRoaXMuJGlzQW5kcm9pZAogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBfbW91bnRlZCA9IF9hc3luY1RvR2VuZXJhdG9yKHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgYnVja2V0cywgdHlwZXNfYnlfaG9zdDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiB0aGlzLiRhdy5nZXRCdWNrZXRzKCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgYnVja2V0cyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgdHlwZXNfYnlfaG9zdCA9IHt9OwoKICAgICAgICAgICAgICBfZWFjaChidWNrZXRzLCBmdW5jdGlvbiAodikgewogICAgICAgICAgICAgICAgdHlwZXNfYnlfaG9zdFt2Lmhvc3RuYW1lXSA9IHR5cGVzX2J5X2hvc3Rbdi5ob3N0bmFtZV0gfHwge307CiAgICAgICAgICAgICAgICB0eXBlc19ieV9ob3N0W3YuaG9zdG5hbWVdLmFmayB8PSB2LnR5cGUgPT0gJ2Fma3N0YXR1cyc7CiAgICAgICAgICAgICAgICB0eXBlc19ieV9ob3N0W3YuaG9zdG5hbWVdLndpbmRvdyB8PSB2LnR5cGUgPT0gJ2N1cnJlbnR3aW5kb3cnOwogICAgICAgICAgICAgICAgdHlwZXNfYnlfaG9zdFt2Lmhvc3RuYW1lXS5hbmRyb2lkIHw9IHYudHlwZSA9PSAnY3VycmVudHdpbmRvdycgJiYgdi5pZC5pbmNsdWRlcygnYW5kcm9pZCcpOwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBfZWFjaCh0eXBlc19ieV9ob3N0LCBmdW5jdGlvbiAodHlwZXMsIGhvc3RuYW1lKSB7CiAgICAgICAgICAgICAgICBpZiAoaG9zdG5hbWUgIT0gJ3Vua25vd24nKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmFjdGl2aXR5Vmlld3MucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogaG9zdG5hbWUsCiAgICAgICAgICAgICAgICAgICAgaG9zdG5hbWU6IGhvc3RuYW1lLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkZWZhdWx0JywKICAgICAgICAgICAgICAgICAgICBwYXRoVXJsOiAiL2FjdGl2aXR5LyIuY29uY2F0KGhvc3RuYW1lKSwKICAgICAgICAgICAgICAgICAgICBpY29uOiAnZGVza3RvcCcKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKHR5cGVzLmFuZHJvaWQpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuYWN0aXZpdHlWaWV3cy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAiIi5jb25jYXQoaG9zdG5hbWUsICIgKEFuZHJvaWQpIiksCiAgICAgICAgICAgICAgICAgICAgaG9zdG5hbWU6IGhvc3RuYW1lLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICdhbmRyb2lkJywKICAgICAgICAgICAgICAgICAgICBwYXRoVXJsOiAiL2FjdGl2aXR5LyIuY29uY2F0KGhvc3RuYW1lKSwKICAgICAgICAgICAgICAgICAgICBpY29uOiAnbW9iaWxlJwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7CiAgICB9KSk7CgogICAgZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgICAgcmV0dXJuIF9tb3VudGVkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgcmV0dXJuIG1vdW50ZWQ7CiAgfSgpCn07"},{"version":3,"sources":["Header.vue"],"names":[],"mappings":";;;;;AAgFA,OAAA,gCAAA;AACA,OAAA,iCAAA;AACA,OAAA,0BAAA;AACA,OAAA,4BAAA;AACA,OAAA,0BAAA;AACA,OAAA,wBAAA;AACA,OAAA,6BAAA;AACA,OAAA,uBAAA;AACA,OAAA,yBAAA;AAEA,OAAA,0BAAA;AACA,OAAA,2BAAA;AAIA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,aAAA,EAAA,EADA;AAGA,MAAA,YAAA,EAAA,KAAA;AAHA,KAAA;AAKA,GARA;AASA,EAAA,OAAA;AAAA,6DAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,KAAA,GAAA,CAAA,UAAA,EADA;;AAAA;AACA,cAAA,OADA;AAEA,cAAA,aAFA,GAEA,EAFA;;AAKA,oBAAA,OAAA,EAAA,UAAA,CAAA,EAAA;AACA,gBAAA,aAAA,CAAA,CAAA,CAAA,QAAA,CAAA,GAAA,aAAA,CAAA,CAAA,CAAA,QAAA,CAAA,IAAA,EAAA;AAEA,gBAAA,aAAA,CAAA,CAAA,CAAA,QAAA,CAAA,CAAA,GAAA,IAAA,CAAA,CAAA,IAAA,IAAA,WAAA;AACA,gBAAA,aAAA,CAAA,CAAA,CAAA,QAAA,CAAA,CAAA,MAAA,IAAA,CAAA,CAAA,IAAA,IAAA,eAAA;AACA,gBAAA,aAAA,CAAA,CAAA,CAAA,QAAA,CAAA,CAAA,OAAA,IAAA,CAAA,CAAA,IAAA,IAAA,eAAA,IAAA,CAAA,CAAA,EAAA,CAAA,QAAA,CAAA,SAAA,CAAA;AACA,eANA;;AASA,oBAAA,aAAA,EAAA,UAAA,KAAA,EAAA,QAAA,EAAA;AACA,oBAAA,QAAA,IAAA,SAAA,EAAA;AACA,kBAAA,KAAA,CAAA,aAAA,CAAA,IAAA,CAAA;AACA,oBAAA,IAAA,EAAA,QADA;AAEA,oBAAA,QAAA,EAAA,QAFA;AAGA,oBAAA,IAAA,EAAA,SAHA;AAIA,oBAAA,OAAA,sBAAA,QAAA,CAJA;AAKA,oBAAA,IAAA,EAAA;AALA,mBAAA;AAOA;;AACA,oBAAA,KAAA,CAAA,OAAA,EAAA;AACA,kBAAA,KAAA,CAAA,aAAA,CAAA,IAAA,CAAA;AACA,oBAAA,IAAA,YAAA,QAAA,eADA;AAEA,oBAAA,QAAA,EAAA,QAFA;AAGA,oBAAA,IAAA,EAAA,SAHA;AAIA,oBAAA,OAAA,sBAAA,QAAA,CAJA;AAKA,oBAAA,IAAA,EAAA;AALA,mBAAA;AAOA;AACA,eAnBA;;AAdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AATA,CAAA","sourcesContent":["<template lang=\"pug\">\ndiv(:class=\"{'fixed-top-padding': fixedTopMenu}\")\n  b-navbar.aw-navbar(toggleable=\"lg\" :fixed=\"fixedTopMenu ? 'top' : null\")\n    // Brand on mobile\n    b-navbar-nav.d-block.d-lg-none\n      b-navbar-brand(to=\"/\" style=\"background-color: transparent;\")\n        img.aligh-middle(src=\"/static/logo.png\" style=\"height: 1.5em;\")\n        span.ml-2.align-middle(style=\"font-size: 1em; color: #000;\") ActivityWatch\n\n    b-navbar-toggle(target=\"nav-collapse\")\n\n    b-collapse#nav-collapse(is-nav)\n      b-navbar-nav\n        // If only a single view (the default) is available\n        b-nav-item(v-if=\"activityViews.length === 1\", v-for=\"view in activityViews\", :key=\"view.name\", :to=\"view.pathUrl\")\n          div.px-2.px-lg-1\n            icon(name=\"calendar-day\")\n            | Activity\n\n        // If multiple (or no) activity views are available\n        b-nav-item-dropdown(v-if=\"activityViews.length !== 1\")\n          template(slot=\"button-content\")\n            div.d-inline.px-2.px-lg-1\n              icon(name=\"calendar-day\")\n              | Activity\n          b-dropdown-item(v-if=\"activityViews.length <= 0\", disabled)\n            | No activity reports available\n            br\n            small Make sure you have both an AFK and window watcher running\n          b-dropdown-item(v-for=\"view in activityViews\", :key=\"view.name\", :to=\"view.pathUrl\")\n            icon(:name=\"view.icon\")\n            | {{ view.name }}\n\n        b-nav-item(to=\"/timeline\" style=\"font-color: #000;\")\n          div.px-2.px-lg-1\n            icon(name=\"stream\")\n            | Timeline\n\n        b-nav-item(to=\"/stopwatch\")\n          div.px-2.px-lg-1\n            icon(name=\"stopwatch\")\n            | Stopwatch\n\n      // Brand on large screens (centered)\n      b-navbar-nav.abs-center.d-none.d-lg-block\n        b-navbar-brand(to=\"/\" style=\"background-color: transparent;\")\n          img.ml-0.aligh-middle(src=\"/static/logo.png\" style=\"height: 1.5em;\")\n          span.ml-2.align-middle(style=\"font-size: 1.0em; color: #000;\") ActivityWatch\n\n      b-navbar-nav.ml-auto\n        b-nav-item-dropdown\n          template(slot=\"button-content\")\n            div.d-inline.px-2.px-lg-1\n              icon(name=\"tools\")\n              | Tools\n          b-dropdown-item(to=\"/search\")\n            icon(name=\"search\")\n            | Search\n          b-dropdown-item(to=\"/query\")\n            icon(name=\"code\")\n            | Query\n\n        b-nav-item(to=\"/buckets\")\n          div.px-2.px-lg-1\n            icon(name=\"database\")\n            | Raw Data\n        b-nav-item(to=\"/settings\")\n          div.px-2.px-lg-1\n            icon(name=\"cog\")\n            | Settings\n</template>\n\n<style lang=\"scss\" scoped>\n.fixed-top-padding {\n  padding-bottom: 3.5em;\n}\n</style>\n\n<script>\n// only import the icons you use to reduce bundle size\nimport 'vue-awesome/icons/calendar-day';\nimport 'vue-awesome/icons/calendar-week';\nimport 'vue-awesome/icons/stream';\nimport 'vue-awesome/icons/database';\nimport 'vue-awesome/icons/search';\nimport 'vue-awesome/icons/code';\nimport 'vue-awesome/icons/stopwatch';\nimport 'vue-awesome/icons/cog';\nimport 'vue-awesome/icons/tools';\n\nimport 'vue-awesome/icons/mobile';\nimport 'vue-awesome/icons/desktop';\n\nimport _ from 'lodash';\n\nexport default {\n  name: 'Header',\n  data() {\n    return {\n      activityViews: [],\n      // Make configurable?\n      fixedTopMenu: this.$isAndroid,\n    };\n  },\n  mounted: async function () {\n    const buckets = await this.$aw.getBuckets();\n    const types_by_host = {};\n\n    // TODO: Change to use same bucket detection logic as get_buckets/set_available in store/modules/activity.ts\n    _.each(buckets, v => {\n      types_by_host[v.hostname] = types_by_host[v.hostname] || {};\n      // The '&& true;' is just to typecoerce into booleans\n      types_by_host[v.hostname].afk |= v.type == 'afkstatus';\n      types_by_host[v.hostname].window |= v.type == 'currentwindow';\n      types_by_host[v.hostname].android |= v.type == 'currentwindow' && v.id.includes('android'); // Use other bucket type ID in the future\n    });\n    //console.log(types_by_host);\n\n    _.each(types_by_host, (types, hostname) => {\n      if (hostname != 'unknown') {\n        this.activityViews.push({\n          name: hostname,\n          hostname: hostname,\n          type: 'default',\n          pathUrl: `/activity/${hostname}`,\n          icon: 'desktop',\n        });\n      }\n      if (types.android) {\n        this.activityViews.push({\n          name: `${hostname} (Android)`,\n          hostname: hostname,\n          type: 'android',\n          pathUrl: `/activity/${hostname}`,\n          icon: 'mobile',\n        });\n      }\n    });\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.aw-navbar {\n  background-color: #fff;\n  border: solid #ccc;\n  border-width: 0 0 1px 0;\n}\n\n.nav-item {\n  align-items: center;\n\n  margin-left: 0.2em;\n  margin-right: 0.2em;\n  border-radius: 0.5em;\n\n  &:hover {\n    background-color: #ddd;\n  }\n}\n\n.abs-center {\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n}\n</style>\n\n<style lang=\"scss\">\n// Needed because dropdown somehow doesn't properly work with scoping\n.nav-item {\n  .nav-link {\n    color: #555 !important;\n  }\n}\n</style>\n"],"sourceRoot":"src/components"}]}